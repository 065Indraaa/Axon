const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index--Kw6qDV4.js","assets/vendor-web3-j6IQKmcA.js","assets/vendor-react-BjSQZ88S.js","assets/vendor-ui-BdqUqcFr.js"])))=>i.map(i=>d[i]);
var No=Object.defineProperty;var jo=(t,e,r)=>e in t?No(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Xs=(t,e,r)=>jo(t,typeof e!="symbol"?e+"":e,r);import{j as a,A as _e,m as $,M as ks,W as Or,X as ct,H as na,a as aa,U as _s,c as J,b as So,T as wr,Z as Qe,I as Ns,L as Fe,V as ae,d as oa,e as ia,f as Dr,C as To,S as je,G as xa,g as Po,Q as Wr,h as Qt,B as Io,i as la,F as Oo,k as Ro,R as ca,l as Yt,n as js,o as Ss,p as Lo,q as Mo,r as Uo,E as $o,s as dr,t as yr,u as Vo,v as zo,K as da,w as qo,x as Wo,y as Ho,z as os,D as Go,J as Ko,N as Jo}from"./vendor-ui-BdqUqcFr.js";import{a as Xo,r as D,u as Ze,b as Qo,O as Yo,R as Ce,c as jt,g as Ts,d as Zo,e as e0,B as t0,f as r0,h as Le,N as s0}from"./vendor-react-BjSQZ88S.js";import{u as Ee,a as n0,f as ua,_ as a0,b as Rr,c as ha,s as fa,d as o0,e as i0,g as x0,h as Ie,i as l0,j as c0,k as d0,l as u0,m as h0,n as f0,p as pa,o as It,q as p0,r as yt,t as E0,v as is,w as m0,B as Qs,x as Ps,y as Ye,z as Is,R as Os,A as xs,C as Rs,D as ls,E as g0,F as y0,G as C0,H as b0,I as A0,J as Ea,K as B0,L as Ls,M as ma,N as v0,O as w0,P as D0,Q as F0,W as k0,S as _0,T as N0}from"./vendor-web3-j6IQKmcA.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();var ga,Ys=Xo;ga=Ys.createRoot,Ys.hydrateRoot;const j0={ID:{code:"IDR",symbol:"Rp",rate:15500,locale:"id-ID"},MY:{code:"MYR",symbol:"RM",rate:4.7,locale:"ms-MY"},SG:{code:"SGD",symbol:"S$",rate:1.35,locale:"en-SG"},TH:{code:"THB",symbol:"à¸¿",rate:36.5,locale:"th-TH"},US:{code:"USD",symbol:"$",rate:1,locale:"en-US"}},S0={ID:"INDONESIA",MY:"MALAYSIA",SG:"SINGAPORE",TH:"THAILAND",US:"UNITED STATES"},ya=D.createContext(void 0);function T0({children:t}){const[e,r]=D.useState("ID"),[s,n]=D.useState("Jakarta"),[o,i]=D.useState(!0),[l,x]=D.useState(()=>sessionStorage.getItem("axon_onboarding_complete")==="true"),[d,c]=D.useState(!1),[h,u]=D.useState(!1),p=j0[e],f=S0[e]||"UNKNOWN",E=b=>{x(b),sessionStorage.setItem("axon_onboarding_complete",b.toString()),b&&c(!1)};D.useEffect(()=>{if(!navigator.geolocation){C().then(A=>{A||u(!0)});return}const b=navigator.geolocation.watchPosition(async A=>{u(!1),await m(A.coords.latitude,A.coords.longitude)},async A=>{A.code!==3&&console.error("Location watch error:",A),await C()||u(!0)},{enableHighAccuracy:!1,timeout:3e4,maximumAge:6e4});return()=>navigator.geolocation.clearWatch(b)},[]);const m=async(b,A)=>{var N;let F=!1;try{const P=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${b}&lon=${A}`,{headers:{"User-Agent":"AxonApp/1.0 (info@axon.finance)"}});if(P.ok){const T=await P.json();if(T&&T.address){const j=(N=T.address.country_code)==null?void 0:N.toUpperCase(),V=T.address.city||T.address.town||T.address.county||"Unknown";v(j,V),F=!0}}}catch(P){console.warn("Nominatim failed",P)}if(!F)try{const P=await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${b}&longitude=${A}&localityLanguage=en`);if(P.ok){const T=await P.json();T&&(v(T.countryCode,T.city||T.locality||"Unknown"),F=!0)}}catch(P){console.error("GPS fallback failed",P)}},C=async()=>{try{const b=await fetch("https://api.bigdatacloud.net/data/reverse-geocode-client?localityLanguage=en");if(b.ok){const A=await b.json();if(A)return v(A.countryCode,A.city||A.locality||"Unknown"),!0}}catch(b){console.error("IP fallback failed:",b)}return!1},v=(b,A)=>{let F="US";b==="ID"?F="ID":b==="MY"?F="MY":b==="SG"?F="SG":b==="TH"&&(F="TH"),r(F),n(A),u(!1)},y=async()=>{const b=C();if(!navigator.geolocation){await b||u(!0);return}const A=new Promise((F,N)=>{navigator.geolocation.getCurrentPosition(async P=>{await m(P.coords.latitude,P.coords.longitude),F()},P=>{N(P)},{enableHighAccuracy:!0,timeout:5e3})});try{await A}catch(F){console.warn("Manual GPS failed, relying on IP...",F),await b||u(!0)}},g=()=>i(b=>!b),B=b=>{const A=b*p.rate;return new Intl.NumberFormat(p.locale,{style:"currency",currency:p.code,minimumFractionDigits:0,maximumFractionDigits:2}).format(A)};return a.jsx(ya.Provider,{value:{location:e,countryName:f,city:s,currency:p,isAiActive:o,updateRealLocation:y,toggleAi:g,formatAmount:B,onboardingComplete:l,setOnboardingComplete:E,isOnboardingActive:d,setIsOnboardingActive:c,locationError:h},children:t})}function xr(){const t=D.useContext(ya);if(t===void 0)throw new Error("useAxon must be used within an AxonProvider");return t}function P0(){const[t,e]=D.useState([]),r=Ze(),{location:s,city:n,updateRealLocation:o,locationError:i,countryName:l}=xr();D.useEffect(()=>{(s==="US"||i)&&(async()=>{if(i){c({id:"loc-fix",type:"location",title:"LOCATION ACCESS",message:"Enable location for local currency.",color:"text-red-500",action:"ENABLE",onAction:()=>o()});return}c({id:"loc-finding",type:"location",title:"AXON AI",message:"Detecting Location...",color:"text-gray-400"});try{await o()}catch{}})()},[i]);const[x,d]=D.useState("");D.useEffect(()=>{n&&n!==x&&(c({id:`loc-${Date.now()}`,type:"location",title:"LOCATION DETECTED",message:`You are currently in ${l}.`,color:"text-axon-neon"}),d(n))},[n,s,x,l]);const c=u=>{e(p=>[u,...p]),setTimeout(()=>{h(u.id)},6e3)},h=u=>{e(p=>p.filter(f=>f.id!==u))};return a.jsx("div",{className:"fixed top-6 left-0 right-0 z-[100] flex flex-col items-center pointer-events-none px-6",children:a.jsx(_e,{children:t.map(u=>a.jsx($.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9,transition:{duration:.2}},className:"pointer-events-auto w-full max-w-sm mb-3",children:a.jsxs("div",{className:"bg-white/90 backdrop-blur-md border border-gray-200 rounded-swiss shadow-lg p-4 flex items-center gap-3",children:[a.jsxs("div",{className:"w-10 h-10 bg-axon-obsidian rounded-md flex items-center justify-center shrink-0 shadow-sm",children:[u.type==="location"&&a.jsx(ks,{className:"w-5 h-5 text-axon-neon"}),u.type==="balance"&&a.jsx(Or,{className:"w-5 h-5 text-red-500"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-bold text-[10px] font-mono text-axon-steel tracking-wider uppercase mb-0.5",children:u.title}),a.jsx("p",{className:"text-sm font-bold text-axon-obsidian leading-tight",children:u.message})]}),u.action&&a.jsx("button",{onClick:()=>{u.onAction&&u.onAction(),u.path&&r(u.path),h(u.id)},className:"bg-axon-paper px-3 py-1.5 rounded-md text-xs font-bold font-mono text-primary border border-gray-200 hover:bg-gray-100 transition",children:u.action}),a.jsx("button",{onClick:()=>h(u.id),className:"text-gray-400 hover:text-axon-obsidian ml-1",children:a.jsx(ct,{className:"w-4 h-4"})})]})},u.id))})})}function I0(){const t=Ze(),e=Qo(),r=[{id:"dashboard",icon:na,label:"Home",path:"/"},{id:"history",icon:aa,label:"History",path:"/history"},{id:"account",icon:_s,label:"Account",path:"/account"}];return a.jsxs("div",{className:"flex flex-col h-screen bg-[#F5F5F7] max-w-md mx-auto relative overflow-hidden shadow-2xl",children:[a.jsx(P0,{}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar scroll-smooth",children:a.jsx(Yo,{})}),a.jsx("div",{className:"h-[80px] bg-white border-t border-gray-200 grid grid-cols-3 items-center justify-items-center px-4 pb-2 safe-area-bottom z-50",children:r.map(s=>{const n=e.pathname===s.path;return a.jsxs("button",{onClick:()=>t(s.path),className:"flex flex-col items-center justify-center gap-1 w-12",children:[a.jsxs("div",{className:"relative",children:[a.jsx(s.icon,{className:J("w-6 h-6 transition-colors",n?"text-primary":"text-gray-400"),strokeWidth:n?2.5:2}),n&&a.jsx($.div,{layoutId:"nav-dot",className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-1 h-1 bg-primary rounded-full"})]}),a.jsx("span",{className:J("text-[10px] font-bold tracking-wide uppercase transition-colors",n?"text-primary":"text-gray-400"),children:s.label})]},s.id)})})]})}const ve=[{symbol:"USDC",name:"USD Coin",address:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",decimals:6,icon:"$",color:"bg-blue-500"},{symbol:"USDT",name:"Tether",address:"0xfde4C96c8593536E31F229EA8f37b2ADa2699bb2",decimals:6,icon:"â‚®",color:"bg-emerald-500"},{symbol:"IDRX",name:"Rupiah Token",address:"0x18Bc5bcC660cf2B9cE3cd51a404aFe1a0cBD3C22",decimals:2,icon:"Rp",color:"bg-red-500"}],Zs=[...ve,{symbol:"WETH",name:"Wrapped Ether",address:"0x4200000000000000000000000000000000000006",decimals:18,icon:"Îž",color:"bg-gray-800"},{symbol:"cbETH",name:"Coinbase Wrapped Staked ETH",address:"0x2Ae3F1Ec7F1F5012CFEab0185bbe703fd0d0327e",decimals:18,icon:"C",color:"bg-blue-600"},{symbol:"VIRTUAL",name:"Virtual Protocol",address:"0x0b1e000000000000000000000000000000000000",decimals:18,icon:"V",color:"bg-purple-600"}],Fr=[{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],Cr="0xD570106de907d34384230f2a8281914444E5d76F",br="0x0000000000000000000000000000000000000000",O0=[{inputs:[{internalType:"address",name:"_trustedForwarder",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"bytes32",name:"_snapId",type:"bytes32"},{internalType:"address",name:"_token",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_snappers",type:"uint256"},{internalType:"bool",name:"_isRandom",type:"bool"}],name:"createSnap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_snapId",type:"bytes32"}],name:"claimSnap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_snapId",type:"bytes32"}],name:"cancelSnap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"snaps",outputs:[{internalType:"address",name:"creator",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"totalAmount",type:"uint256"},{internalType:"uint256",name:"remainingAmount",type:"uint256"},{internalType:"uint256",name:"totalSnappers",type:"uint256"},{internalType:"uint256",name:"remainingSnappers",type:"uint256"},{internalType:"bool",name:"isRandom",type:"bool"},{internalType:"bool",name:"isActive",type:"bool"}],stateMutability:"view",type:"function"}];function lr(t){const{address:e,chainId:r}=Ee(),s=ve;D.useEffect(()=>{console.log(`â›“ï¸ useWalletBalances active on Chain ID: ${r} (Expected 8453 for Base)`)},[r]);const n=D.useMemo(()=>e?s.map(c=>({address:c.address,abi:Fr,functionName:"balanceOf",args:[e]})):[],[e,s]),{data:o,isLoading:i,refetch:l,error:x}=n0({contracts:n,query:{enabled:!!e&&n.length>0,refetchInterval:5e3}});return x&&console.error("âŒ useReadContracts Error:",x),{balances:D.useMemo(()=>o?s.reduce((c,h,u)=>{const p=o[u],f=p==null?void 0:p.result,E=p==null?void 0:p.error;if(E&&console.error(`âŒ Error fetching balance for ${h.symbol}:`,E),f!==void 0){const m=ua(f,h.decimals);console.log(`ðŸ’° [Chain ${r}] ${h.symbol} Balance:`,m,`(Raw: ${f.toString()})`),c[h.symbol]=Number(m).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:4})}else!i&&o&&console.warn(`âš ï¸ No result for ${h.symbol} balance check`),c[h.symbol]="0.00";return c},{}):s.reduce((c,h)=>(c[h.symbol]="0.00",c),{}),[o,s]),isLoading:i,refetch:l}}const R0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Ms extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class L0 extends Ms{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class en extends Ms{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class tn extends Ms{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var cs;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(cs||(cs={}));class M0{constructor(e,{headers:r={},customFetch:s,region:n=cs.Any}={}){this.url=e,this.headers=r,this.region=n,this.fetch=R0(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return a0(this,arguments,void 0,function*(r,s={}){var n;let o,i;try{const{headers:l,method:x,body:d,signal:c,timeout:h}=s;let u={},{region:p}=s;p||(p=this.region);const f=new URL(`${this.url}/${r}`);p&&p!=="any"&&(u["x-region"]=p,f.searchParams.set("forceFunctionRegion",p));let E;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",E=d):typeof d=="string"?(u["Content-Type"]="text/plain",E=d):typeof FormData<"u"&&d instanceof FormData?E=d:(u["Content-Type"]="application/json",E=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?E=JSON.stringify(d):E=d;let m=c;h&&(i=new AbortController,o=setTimeout(()=>i.abort(),h),c?(m=i.signal,c.addEventListener("abort",()=>i.abort())):m=i.signal);const C=yield this.fetch(f.toString(),{method:x||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),l),body:E,signal:m}).catch(B=>{throw new L0(B)}),v=C.headers.get("x-relay-error");if(v&&v==="true")throw new en(C);if(!C.ok)throw new tn(C);let y=((n=C.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return y==="application/json"?g=yield C.json():y==="application/octet-stream"||y==="application/pdf"?g=yield C.blob():y==="text/event-stream"?g=C:y==="multipart/form-data"?g=yield C.formData():g=yield C.text(),{data:g,error:null,response:C}}catch(l){return{data:null,error:l,response:l instanceof tn||l instanceof en?l.context:void 0}}finally{o&&clearTimeout(o)}})}}var U0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},$0=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let i=null,l=null,x=null,d=o.status,c=o.statusText;if(o.ok){var h,u;if(r.method!=="HEAD"){var p;const C=await o.text();C===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=C:l=JSON.parse(C))}const E=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),m=(u=o.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");E&&m&&m.length>1&&(x=parseInt(m[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(i={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,x=null,d=406,c="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var f;const E=await o.text();try{i=JSON.parse(E),Array.isArray(i)&&o.status===404&&(l=[],i=null,d=200,c="OK")}catch{o.status===404&&E===""?(d=204,c="No Content"):i={message:E}}if(i&&r.isMaybeSingle&&(!(i==null||(f=i.details)===null||f===void 0)&&f.includes("0 rows"))&&(i=null,d=200,c="OK"),i&&r.shouldThrowOnError)throw new U0(i)}return{error:i,data:l,count:x,status:d,statusText:c}});return this.shouldThrowOnError||(n=n.catch(o=>{var i;let l="";const x=o==null?void 0:o.cause;if(x){var d,c,h,u;const f=(d=x==null?void 0:x.message)!==null&&d!==void 0?d:"",E=(c=x==null?void 0:x.code)!==null&&c!==void 0?c:"";l=`${(h=o==null?void 0:o.name)!==null&&h!==void 0?h:"FetchError"}: ${o==null?void 0:o.message}`,l+=`

Caused by: ${(u=x==null?void 0:x.name)!==null&&u!==void 0?u:"Error"}: ${f}`,E&&(l+=` (${E})`),x!=null&&x.stack&&(l+=`
${x.stack}`)}else{var p;l=(p=o==null?void 0:o.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),n.then(t,e)}returns(){return this}overrideTypes(){return this}},V0=class extends $0{select(t){let e=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:s,referencedTable:n=s}={}){const o=n?`${n}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:s=r}={}){const n=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:s=!1,wal:n=!1,format:o="text"}={}){var i;const l=[t?"analyze":null,e?"verbose":null,r?"settings":null,s?"buffers":null,n?"wal":null].filter(Boolean).join("|"),x=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${x}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const rn=new RegExp("[,()]");var kt=class extends V0{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(s=>typeof s=="string"&&rn.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(s=>typeof s=="string"&&rn.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:s}={}){let n="";s==="plain"?n="pl":s==="phrase"?n="ph":s==="websearch"&&(n="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${n}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},z0=class{constructor(t,{headers:e={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:s}=e??{},n=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join(""),{url:l,headers:x}=this.cloneRequestState();return l.searchParams.set("select",i),s&&x.append("Prefer",`count=${s}`),new kt({method:n,url:l,headers:x,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var s;const n="POST",{url:o,headers:i}=this.cloneRequestState();if(e&&i.append("Prefer",`count=${e}`),r||i.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((x,d)=>x.concat(Object.keys(d)),[]);if(l.length>0){const x=[...new Set(l)].map(d=>`"${d}"`);o.searchParams.set("columns",x.join(","))}}return new kt({method:n,url:o,headers:i,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:s,defaultToNull:n=!0}={}){var o;const i="POST",{url:l,headers:x}=this.cloneRequestState();if(x.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&l.searchParams.set("on_conflict",e),s&&x.append("Prefer",`count=${s}`),n||x.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(d.length>0){const c=[...new Set(d)].map(h=>`"${h}"`);l.searchParams.set("columns",c.join(","))}}return new kt({method:i,url:l,headers:x,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var r;const s="PATCH",{url:n,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new kt({method:s,url:n,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:s,headers:n}=this.cloneRequestState();return t&&n.append("Prefer",`count=${t}`),new kt({method:r,url:s,headers:n,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},q0=class Ca{constructor(e,{headers:r={},schema:s,fetch:n}={}){this.url=e,this.headers=new Headers(r),this.schemaName=s,this.fetch=n}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new z0(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ca(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:s=!1,get:n=!1,count:o}={}){var i;let l;const x=new URL(`${this.url}/rpc/${e}`);let d;const c=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(c)),h=s&&Object.values(r).some(c);h?(l="POST",d=r):s||n?(l=s?"HEAD":"GET",Object.entries(r).filter(([p,f])=>f!==void 0).map(([p,f])=>[p,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([p,f])=>{x.searchParams.append(p,f)})):(l="POST",d=r);const u=new Headers(this.headers);return h?u.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&u.set("Prefer",`count=${o}`),new kt({method:l,url:x,headers:u,schema:this.schemaName,body:d,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class W0{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const s=r.versions;if(s&&s.node){const n=s.node,o=parseInt(n.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const H0="2.93.3",G0=`realtime-js/${H0}`,K0="1.0.0",ba="2.0.0",sn=ba,ds=1e4,J0=1e3,X0=100;var nt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(nt||(nt={}));var ye;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ye||(ye={}));var ze;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ze||(ze={}));var us;(function(t){t.websocket="websocket"})(us||(us={}));var ft;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ft||(ft={}));class Q0{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,s;const n=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(e){var r,s;const n=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},i=new TextEncoder().encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(e,r,s){var n,o;const i=e.topic,l=(n=e.ref)!==null&&n!==void 0?n:"",x=(o=e.join_ref)!==null&&o!==void 0?o:"",d=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(c).length===0?"":JSON.stringify(c);if(x.length>255)throw new Error(`joinRef length ${x.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const u=this.USER_BROADCAST_PUSH_META_LENGTH+x.length+l.length+i.length+d.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+u);let f=new DataView(p),E=0;f.setUint8(E++,this.KINDS.userBroadcastPush),f.setUint8(E++,x.length),f.setUint8(E++,l.length),f.setUint8(E++,i.length),f.setUint8(E++,d.length),f.setUint8(E++,h.length),f.setUint8(E++,r),Array.from(x,C=>f.setUint8(E++,C.charCodeAt(0))),Array.from(l,C=>f.setUint8(E++,C.charCodeAt(0))),Array.from(i,C=>f.setUint8(E++,C.charCodeAt(0))),Array.from(d,C=>f.setUint8(E++,C.charCodeAt(0))),Array.from(h,C=>f.setUint8(E++,C.charCodeAt(0)));var m=new Uint8Array(p.byteLength+s.byteLength);return m.set(new Uint8Array(p),0),m.set(new Uint8Array(s),p.byteLength),m.buffer}decode(e,r){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return r(s)}if(typeof e=="string"){const s=JSON.parse(e),[n,o,i,l,x]=s;return r({join_ref:n,ref:o,topic:i,event:l,payload:x})}return r({})}_binaryDecode(e){const r=new DataView(e),s=r.getUint8(0),n=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,n)}}_decodeUserBroadcast(e,r,s){const n=r.getUint8(1),o=r.getUint8(2),i=r.getUint8(3),l=r.getUint8(4);let x=this.HEADER_LENGTH+4;const d=s.decode(e.slice(x,x+n));x=x+n;const c=s.decode(e.slice(x,x+o));x=x+o;const h=s.decode(e.slice(x,x+i));x=x+i;const u=e.slice(x,e.byteLength),p=l===this.JSON_ENCODING?JSON.parse(s.decode(u)):u,f={type:this.BROADCAST_EVENT,event:c,payload:p};return i>0&&(f.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:f}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>r.includes(s)))}}class Aa{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ie||(ie={}));const nn=(t,e,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((o,i)=>(o[i]=Y0(i,t,e,n),o),{}):{}},Y0=(t,e,r,s)=>{const n=e.find(l=>l.name===t),o=n==null?void 0:n.type,i=r[t];return o&&!s.includes(o)?Ba(o,i):hs(i)},Ba=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return ri(e,r)}switch(t){case ie.bool:return Z0(e);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return ei(e);case ie.json:case ie.jsonb:return ti(e);case ie.timestamp:return si(e);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return hs(e);default:return hs(e)}},hs=t=>t,Z0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ei=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ti=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},ri=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>Ba(e,l))}return t},si=t=>typeof t=="string"?t.replace(" ","T"):t,va=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Hr{constructor(e,r,s={},n=ds){this.channel=e,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var an;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(an||(an={}));class Kt{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kt.syncState(this.state,n,o,i),this.pendingDiffs.forEach(x=>{this.state=Kt.syncDiff(this.state,x,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},n=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Kt.syncDiff(this.state,n,o,i),l())}),this.onJoin((n,o,i)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:o,newPresences:i})}),this.onLeave((n,o,i)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,n){const o=this.cloneDeep(e),i=this.transformState(r),l={},x={};return this.map(o,(d,c)=>{i[d]||(x[d]=c)}),this.map(i,(d,c)=>{const h=o[d];if(h){const u=c.map(m=>m.presence_ref),p=h.map(m=>m.presence_ref),f=c.filter(m=>p.indexOf(m.presence_ref)<0),E=h.filter(m=>u.indexOf(m.presence_ref)<0);f.length>0&&(l[d]=f),E.length>0&&(x[d]=E)}else l[d]=c}),this.syncDiff(o,{joins:l,leaves:x},s,n)}static syncDiff(e,r,s,n){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(o,(l,x)=>{var d;const c=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(x),c.length>0){const h=e[l].map(p=>p.presence_ref),u=c.filter(p=>h.indexOf(p.presence_ref)<0);e[l].unshift(...u)}s(l,c,x)}),this.map(i,(l,x)=>{let d=e[l];if(!d)return;const c=x.map(h=>h.presence_ref);d=d.filter(h=>c.indexOf(h.presence_ref)<0),e[l]=d,n(l,d,x),d.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const n=e[s];return"metas"in n?r[s]=n.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[s]=n,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var on;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(on||(on={}));var Jt;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Jt||(Jt={}));var Xe;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Xe||(Xe={}));class St{constructor(e,r={config:{}},s){var n,o;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Hr(this,ze.join,this.params,this.timeout),this.rejoinTimer=new Aa(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ze.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new Kt(this),this.broadcastEndpointURL=va(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,n,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ye.closed){const{config:{broadcast:i,presence:l,private:x}}=this.params,d=(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(p=>p.filter))!==null&&n!==void 0?n:[],c=!!this.bindings[Jt.PRESENCE]&&this.bindings[Jt.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},u={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:c}),postgres_changes:d,private:x};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Xe.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Xe.CLOSED)),this.updateJoinPayload(Object.assign({config:u},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var f;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(Xe.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,m=(f=E==null?void 0:E.length)!==null&&f!==void 0?f:0,C=[];for(let v=0;v<m;v++){const y=E[v],{filter:{event:g,schema:B,table:b,filter:A}}=y,F=p&&p[v];if(F&&F.event===g&&St.isFilterValueEqual(F.schema,B)&&St.isFilterValueEqual(F.table,b)&&St.isFilterValueEqual(F.filter,A))C.push(Object.assign(Object.assign({},y),{id:F.id}));else{this.unsubscribe(),this.state=ye.errored,e==null||e(Xe.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Xe.SUBSCRIBED);return}}).receive("error",p=>{this.state=ye.errored,e==null||e(Xe.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Xe.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===ye.joined&&e===Jt.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var n;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);if(l.status===202)return{success:!0};let x=l.statusText;try{const d=await l.json();x=d.error||d.message||x}catch{}return Promise.reject(new Error(x))}async send(e,r={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=e,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const x={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,x,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=d.body)===null||n===void 0?void 0:n.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,x;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((x=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||x===void 0)&&x.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ye.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ze.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new Hr(this,ze.leave,{},e),s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ye.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const n=new AbortController,o=setTimeout(()=>n.abort(),s),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(o),i}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Hr(this,e,r,s);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>X0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var n,o;const i=e.toLocaleLowerCase(),{close:l,error:x,leave:d,join:c}=ze;if(s&&[l,x,d,c].indexOf(i)>=0&&s!==this._joinRef())return;let u=this._onMessage(i,r,s);if(r&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var f,E,m;return((f=p.filter)===null||f===void 0?void 0:f.event)==="*"||((m=(E=p.filter)===null||E===void 0?void 0:E.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===i}).map(p=>p.callback(u,s)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var f,E,m,C,v,y;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const g=p.id,B=(f=p.filter)===null||f===void 0?void 0:f.event;return g&&((E=r.ids)===null||E===void 0?void 0:E.includes(g))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((m=r.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const g=(v=(C=p==null?void 0:p.filter)===null||C===void 0?void 0:C.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return g==="*"||g===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof u=="object"&&"ids"in u){const f=u.data,{schema:E,table:m,commit_timestamp:C,type:v,errors:y}=f;u=Object.assign(Object.assign({},{schema:E,table:m,commit_timestamp:C,eventType:v,new:{},old:{},errors:y}),this._getPayloadRecords(f))}p.callback(u,s)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const n=e.toLocaleLowerCase(),o={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(o):this.bindings[n]=[o],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(n=>{var o;return!(((o=n.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&St.isEqual(n.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ze.close,{},e)}_onError(e){this._on(ze.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=nn(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=nn(e.columns,e.old_record)),r}}const Gr=()=>{},ur={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ni=[1e3,2e3,5e3,1e4],ai=1e4,oi=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ii{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ds,this.transport=null,this.heartbeatIntervalMs=ur.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gr,this.ref=0,this.reconnectTimer=null,this.vsn=sn,this.logger=Gr,this.conn=null,this.sendBuffer=[],this.serializer=new Q0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=n=>n?(...o)=>n(...o):(...o)=>fetch(...o),!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${us.websocket}`,this.httpEndpoint=va(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=W0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case nt.connecting:return ft.Connecting;case nt.open:return ft.Open;case nt.closing:return ft.Closing;default:return ft.Closed}}isConnected(){return this.connectionState()===ft.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,n=this.getChannels().find(o=>o.topic===s);if(n)return n;{const o=new St(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:s,payload:n,ref:o}=e,i=()=>{this.encode(e,l=>{var x;(x=this.conn)===null||x===void 0||x.send(l)})};this.log("push",`${r} ${s} (${o})`,n),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(J0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ur.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",d)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:n,payload:o,ref:i}=r,l=i?`(${i})`:"",x=o.status||"";this.log("receive",`${x} ${s} ${n} ${l}`.trim(),o),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(n,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===nt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===nt.open||this.conn.readyState===nt.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(ze.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${e}${s}${n}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([oi],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,s=!1;if(e)r=e,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(n){this.log("error","Error fetching access token from callback",n),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const o={access_token:r,version:G0};r&&n.updateJoinPayload(o),n.joinedOnce&&n._isJoined()&&n._push(ze.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Aa(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ur.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,n,o,i,l,x,d,c,h,u,p;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:ds,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:ur.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Gr,this.vsn=(x=e==null?void 0:e.vsn)!==null&&x!==void 0?x:sn,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:f=>ni[f-1]||ai,this.vsn){case K0:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(f,E)=>E(JSON.stringify(f)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(f,E)=>E(JSON.parse(f));break;case ba:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Zt=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function xi(t,e,r){const s=new URL(e,t);if(r)for(const[n,o]of Object.entries(r))o!==void 0&&s.searchParams.set(n,o);return s.toString()}async function li(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function ci(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:n,body:o,headers:i}){const l=xi(t.baseUrl,s,n),x=await li(t.auth),d=await e(l,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...x,...i},body:o?JSON.stringify(o):void 0}),c=await d.text(),h=(d.headers.get("content-type")||"").includes("application/json"),u=h&&c?JSON.parse(c):c;if(!d.ok){const p=h?u:void 0,f=p==null?void 0:p.error;throw new Zt((f==null?void 0:f.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:f==null?void 0:f.type,icebergCode:f==null?void 0:f.code,details:p})}return{status:d.status,headers:d.headers,data:u}}}}function hr(t){return t.join("")}var di=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:hr(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hr(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hr(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hr(t.namespace)}`}),!0}catch(e){if(e instanceof Zt&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Zt&&r.status===409)return;throw r}}};function bt(t){return t.join("")}var ui=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bt(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bt(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bt(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bt(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bt(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bt(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Zt&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Zt&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},hi=class{constructor(t){var s;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=ci({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(s=t.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new di(this.client,e),this.tableOps=new ui(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Lr=class extends Error{constructor(t,e="storage",r,s){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=s}};function Mr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var fr=class extends Lr{constructor(t,e,r,s="storage"){super(t,s,e,r),this.name=s==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},wa=class extends Lr{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const fi=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),pi=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},fs=t=>{if(Array.isArray(t))return t.map(r=>fs(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[n]=fs(s)}),e},Ei=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function er(t){"@babel/helpers - typeof";return er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},er(t)}function mi(t,e){if(er(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(er(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gi(t){var e=mi(t,"string");return er(e)=="symbol"?e:e+""}function yi(t,e,r){return(e=gi(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,s)}return r}function K(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xn(Object(r),!0).forEach(function(s){yi(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}const ln=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Ci=async(t,e,r,s)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t,o=n.status||500;if(typeof n.json=="function")n.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||o+"";e(new fr(ln(i),o,l,s))}).catch(()=>{if(s==="vectors"){const i=o+"";e(new fr(n.statusText||`HTTP ${o} error`,o,i,s))}else{const i=o+"";e(new fr(n.statusText||`HTTP ${o} error`,o,i,s))}});else{const i=o+"";e(new fr(n.statusText||`HTTP ${o} error`,o,i,s))}}else e(new wa(ln(t),t,s))},bi=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!s?K(K({},n),r):(pi(s)?(n.headers=K({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(s)):n.body=s,e!=null&&e.duplex&&(n.duplex=e.duplex),K(K({},n),r))};async function Vt(t,e,r,s,n,o,i){return new Promise((l,x)=>{t(r,bi(e,s,n,o)).then(d=>{if(!d.ok)throw d;if(s!=null&&s.noResolveJson)return d;if(i==="vectors"){const c=d.headers.get("content-type");if(d.headers.get("content-length")==="0"||d.status===204)return{};if(!c||!c.includes("application/json"))return{}}return d.json()}).then(d=>l(d)).catch(d=>Ci(d,x,s,i))})}function Da(t="storage"){return{get:async(e,r,s,n)=>Vt(e,"GET",r,s,n,void 0,t),post:async(e,r,s,n,o)=>Vt(e,"POST",r,n,o,s,t),put:async(e,r,s,n,o)=>Vt(e,"PUT",r,n,o,s,t),head:async(e,r,s,n)=>Vt(e,"HEAD",r,K(K({},s),{},{noResolveJson:!0}),n,void 0,t),remove:async(e,r,s,n,o)=>Vt(e,"DELETE",r,n,o,s,t)}}const Ai=Da("storage"),{get:tr,post:Ve,put:ps,head:Bi,remove:Us}=Ai,Pe=Da("vectors");var Lt=class{constructor(t,e={},r,s="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=fi(r),this.namespace=s}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mr(r))return{data:null,error:r};throw r}}},vi=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Mr(e))return{data:null,error:e};throw e}}};let Fa;Fa=Symbol.toStringTag;var wi=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Fa]="BlobDownloadBuilder",this.promise=null}asStream(){return new vi(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Mr(e))return{data:null,error:e};throw e}}};const Di={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Fi=class extends Lt{constructor(t,e={},r,s){super(t,e,s,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,s){var n=this;return n.handleOperation(async()=>{let o;const i=K(K({},cn),s);let l=K(K({},n.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const x=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),x&&o.append("metadata",n.encodeMetadata(x)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),x&&!o.has("metadata")&&o.append("metadata",n.encodeMetadata(x))):(o=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,x&&(l["x-metadata"]=n.toBase64(n.encodeMetadata(x))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),s!=null&&s.headers&&(l=K(K({},l),s.headers));const d=n._removeEmptyFolders(e),c=n._getFinalPath(d),h=await(t=="PUT"?ps:Ve)(n.fetch,`${n.url}/object/${c}`,o,K({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{path:d,id:h.Id,fullPath:h.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,s){var n=this;const o=n._removeEmptyFolders(t),i=n._getFinalPath(o),l=new URL(n.url+`/object/upload/sign/${i}`);return l.searchParams.set("token",e),n.handleOperation(async()=>{let x;const d=K({upsert:cn.upsert},s),c=K(K({},n.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&r instanceof Blob?(x=new FormData,x.append("cacheControl",d.cacheControl),x.append("",r)):typeof FormData<"u"&&r instanceof FormData?(x=r,x.append("cacheControl",d.cacheControl)):(x=r,c["cache-control"]=`max-age=${d.cacheControl}`,c["content-type"]=d.contentType),{path:o,fullPath:(await ps(n.fetch,l.toString(),x,{headers:c})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(t);const n=K({},r.headers);e!=null&&e.upsert&&(n["x-upsert"]="true");const o=await Ve(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:n}),i=new URL(r.url+o.url),l=i.searchParams.get("token");if(!l)throw new Lr("No token returned by API");return{signedUrl:i.toString(),path:t,token:l}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var s=this;return s.handleOperation(async()=>await Ve(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:s.headers}))}async copy(t,e,r){var s=this;return s.handleOperation(async()=>({path:(await Ve(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:s.headers})).Key}))}async createSignedUrl(t,e,r){var s=this;return s.handleOperation(async()=>{let n=s._getFinalPath(t),o=await Ve(s.fetch,`${s.url}/object/sign/${n}`,K({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:s.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${s.url}${o.signedURL}${i}`)}})}async createSignedUrls(t,e,r){var s=this;return s.handleOperation(async()=>{const n=await Ve(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return n.map(i=>K(K({},i),{},{signedUrl:i.signedURL?encodeURI(`${s.url}${i.signedURL}${o}`):null}))})}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),n=s?`?${s}`:"",o=this._getFinalPath(t),i=()=>tr(this.fetch,`${this.url}/${r}/${o}${n}`,{headers:this.headers,noResolveJson:!0});return new wi(i,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>fs(await tr(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await Bi(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Mr(s)&&s instanceof wa){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const r=this._getFinalPath(t),s=[],n=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";n!==""&&s.push(n);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});i!==""&&s.push(i);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${l}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Us(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var s=this;return s.handleOperation(async()=>{const n=K(K(K({},Di),e),{},{prefix:t||""});return await Ve(s.fetch,`${s.url}/object/list/${s.bucketId}`,n,{headers:s.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const s=K({},t);return await Ve(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const ki="2.93.3",cr={"X-Client-Info":`storage-js/${ki}`};var _i=class extends Lt{constructor(t,e={},r,s){const n=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase."));const o=n.href.replace(/\/$/,""),i=K(K({},cr),e);super(o,i,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await tr(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await tr(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await Ve(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await ps(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Ve(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Us(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Ni=class extends Lt{constructor(t,e={},r){const s=t.replace(/\/$/,""),n=K(K({},cr),e);super(s,n,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Ve(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const s=r.toString(),n=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return await tr(e.fetch,n,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Us(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!Ei(t))throw new Lr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new hi({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(n,o){const i=n[o];return typeof i!="function"?i:async(...l)=>{try{return{data:await i.apply(n,l),error:null}}catch(x){if(s)throw x;return{data:null,error:x}}}}})}},ji=class extends Lt{constructor(t,e={},r){const s=t.replace(/\/$/,""),n=K(K({},cr),{},{"Content-Type":"application/json"},e);super(s,n,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Pe.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await Pe.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Pe.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await Pe.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},Si=class extends Lt{constructor(t,e={},r){const s=t.replace(/\/$/,""),n=K(K({},cr),{},{"Content-Type":"application/json"},e);super(s,n,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Pe.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Pe.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Pe.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Pe.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Pe.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},Ti=class extends Lt{constructor(t,e={},r){const s=t.replace(/\/$/,""),n=K(K({},cr),{},{"Content-Type":"application/json"},e);super(s,n,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Pe.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Pe.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Pe.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Pe.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},Pi=class extends Ti{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Ii(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},Ii=class extends ji{constructor(t,e,r,s){super(t,e,s),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,K(K({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,K(K({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new Oi(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Oi=class extends Si{constructor(t,e,r,s,n){super(t,e,n),this.vectorBucketName=r,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,K(K({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,K(K({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,K(K({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,K(K({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,K(K({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Ri=class extends _i{constructor(t,e={},r,s){super(t,e,r,s)}from(t){return new Fi(this.url,this.headers,t,this.fetch)}get vectors(){return new Pi(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ni(this.url+"/iceberg",this.headers,this.fetch)}};const ka="2.93.3",_t=30*1e3,Es=3,Kr=Es*_t,Li="http://localhost:9999",Mi="supabase.auth.token",Ui={"X-Client-Info":`gotrue-js/${ka}`},ms="X-Supabase-Api-Version",_a={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$i=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vi=10*60*1e3;class rr extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function W(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class zi extends rr{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function qi(t){return W(t)&&t.name==="AuthApiError"}class pt extends rr{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class et extends rr{constructor(e,r,s,n){super(e,s,n),this.name=r,this.status=s}}class Te extends et{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jr(t){return W(t)&&t.name==="AuthSessionMissingError"}class At extends et{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pr extends et{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Er extends et{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Wi(t){return W(t)&&t.name==="AuthImplicitGrantRedirectError"}class dn extends et{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hi extends et{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class gs extends et{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Xr(t){return W(t)&&t.name==="AuthRetryableFetchError"}class un extends et{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class ys extends et{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const kr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hn=` 	
\r=`.split(""),Gi=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<hn.length;e+=1)t[hn[e].charCodeAt(0)]=-2;for(let e=0;e<kr.length;e+=1)t[kr[e].charCodeAt(0)]=e;return t})();function fn(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(kr[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(kr[s]),e.queuedBits-=6}}function Na(t,e,r){const s=Gi[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function pn(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},o=i=>{Xi(i,s,r)};for(let i=0;i<t.length;i+=1)Na(t.charCodeAt(i),n,o);return e.join("")}function Ki(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Ji(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}Ki(s,e)}}function Xi(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ot(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Na(t.charCodeAt(n),r,s);return new Uint8Array(e)}function Qi(t){const e=[];return Ji(t,r=>e.push(r)),new Uint8Array(e)}function Et(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};return t.forEach(n=>fn(n,r,s)),fn(null,r,s),e.join("")}function Yi(t){return Math.round(Date.now()/1e3)+t}function Zi(){return Symbol("auth-callback")}const Be=()=>typeof window<"u"&&typeof document<"u",dt={tested:!1,writable:!1},ja=()=>{if(!Be())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dt.tested)return dt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),dt.tested=!0,dt.writable=!0}catch{dt.tested=!0,dt.writable=!1}return dt.writable};function ex(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,o)=>{e[o]=n})}catch{}return r.searchParams.forEach((s,n)=>{e[n]=s}),e}const Sa=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tx=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Nt=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ut=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ae=async(t,e)=>{await t.removeItem(e)};class Ur{constructor(){this.promise=new Ur.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ur.promiseConstructor=Promise;function mr(t){const e=t.split(".");if(e.length!==3)throw new ys("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!$i.test(e[s]))throw new ys("JWT not in base64url format");return{header:JSON.parse(pn(e[0])),payload:JSON.parse(pn(e[1])),signature:Ot(e[2]),raw:{header:e[0],payload:e[1]}}}async function rx(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function sx(t,e){return new Promise((s,n)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){s(i);return}}catch(i){if(!e(o,i)){n(i);return}}})()})}function nx(t){return("0"+t.toString(16)).substr(-2)}function ax(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let o=0;o<56;o++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,nx).join("")}async function ox(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(o=>String.fromCharCode(o)).join("")}async function ix(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await ox(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bt(t,e,r=!1){const s=ax();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await Nt(t,`${e}-code-verifier`,n);const o=await ix(s);return[o,s===o?"plain":"s256"]}const xx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lx(t){const e=t.headers.get(ms);if(!e||!e.match(xx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function cx(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function dx(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ux=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vt(t){if(!ux.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qr(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hx(t,e){return new Proxy(t,{get:(r,s,n)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,n)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,s,n)}})}function En(t){return JSON.parse(JSON.stringify(t))}const ht=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fx=[502,503,504];async function mn(t){var e;if(!tx(t))throw new gs(ht(t),0);if(fx.includes(t.status))throw new gs(ht(t),t.status);let r;try{r=await t.json()}catch(o){throw new pt(ht(o),o)}let s;const n=lx(t);if(n&&n.getTime()>=_a["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new un(ht(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Te}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new un(ht(r),t.status,r.weak_password.reasons);throw new zi(ht(r),t.status||500,s)}const px=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function G(t,e,r,s){var n;const o=Object.assign({},s==null?void 0:s.headers);o[ms]||(o[ms]=_a["2024-01-01"].name),s!=null&&s.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const i=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(i.redirect_to=s.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",x=await Ex(t,e,r+l,{headers:o,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(x):{data:Object.assign({},x),error:null}}async function Ex(t,e,r,s,n,o){const i=px(e,s,n,o);let l;try{l=await t(r,Object.assign({},i))}catch(x){throw console.error(x),new gs(ht(x),0)}if(l.ok||await mn(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(x){await mn(x)}}function $e(t){var e;let r=null;yx(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Yi(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function gn(t){const e=$e(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function at(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function mx(t){return{data:t,error:null}}function gx(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:o}=t,i=Rr(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:o},x=Object.assign({},i);return{data:{properties:l,user:x},error:null}}function yn(t){return t}function yx(t){return t.access_token&&t.refresh_token&&t.expires_in}const Yr=["global","local","others"];class Cx{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=Sa(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Yr[0]){if(Yr.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yr.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(W(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:at})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=Rr(e,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:gx,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(W(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:at})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,n,o,i,l,x;try{const d={nextPage:null,lastPage:0,total:0},c=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(o=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:""},xform:yn});if(c.error)throw c.error;const h=await c.json(),u=(i=c.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(x=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&x!==void 0?x:[];return p.length>0&&(p.forEach(f=>{const E=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(f.split(";")[1].split("=")[1]);d[`${m}Page`]=E}),d.total=parseInt(u)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(W(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){vt(e);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:at})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){vt(e);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:at})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){vt(e);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:at})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){vt(e.userId);try{const{data:r,error:s}=await G(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteFactor(e){vt(e.userId),vt(e.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,n,o,i,l,x;try{const d={nextPage:null,lastPage:0,total:0},c=await G(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(o=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:""},xform:yn});if(c.error)throw c.error;const h=await c.json(),u=(i=c.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(x=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&x!==void 0?x:[];return p.length>0&&(p.forEach(f=>{const E=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(f.split(";")[1].split("=")[1]);d[`${m}Page`]=E}),d.total=parseInt(u)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(W(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await G(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await G(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await G(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}}function Cn(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const wt={debug:!!(globalThis&&ja()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ta extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class bx extends Ta{}async function Ax(t,e,r){wt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),wt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){wt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await r()}finally{wt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw wt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new bx(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(wt.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Bx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Pa(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function vx(t){return parseInt(t,16)}function wx(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function Dx(t){var e;const{chainId:r,domain:s,expirationTime:n,issuedAt:o=new Date,nonce:i,notBefore:l,requestId:x,resources:d,scheme:c,uri:h,version:u}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(u!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${u}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=Pa(t.address),f=c?`${c}://${s}`:s,E=t.statement?`${t.statement}
`:"",m=`${f} wants you to sign in with your Ethereum account:
${p}

${E}`;let C=`URI: ${h}
Version: ${u}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(n&&(C+=`
Expiration Time: ${n.toISOString()}`),l&&(C+=`
Not Before: ${l.toISOString()}`),x&&(C+=`
Request ID: ${x}`),d){let v=`
Resources:`;for(const y of d){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);v+=`
- ${y}`}C+=v}return`${m}
${C}`}class fe extends Error{constructor({message:e,code:r,cause:s,name:n}){var o;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(o=n??(s instanceof Error?s.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class _r extends fe{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Fx({error:t,options:e}){var r,s,n;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new fe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(Ia(i)){if(o.rp.id!==i)return new fe({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function kx({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new fe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Ia(s)){if(r.rpId!==s)return new fe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class _x{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Nx=new _x;function jx(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,n=Rr(t,["challenge","user","excludeCredentials"]),o=Ot(e).buffer,i=Object.assign(Object.assign({},r),{id:Ot(r.id).buffer}),l=Object.assign(Object.assign({},n),{challenge:o,user:i});if(s&&s.length>0){l.excludeCredentials=new Array(s.length);for(let x=0;x<s.length;x++){const d=s[x];l.excludeCredentials[x]=Object.assign(Object.assign({},d),{id:Ot(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function Sx(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=Rr(t,["challenge","allowCredentials"]),n=Ot(e).buffer,o=Object.assign(Object.assign({},s),{challenge:n});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},l),{id:Ot(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return o}function Tx(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Et(new Uint8Array(t.response.attestationObject)),clientDataJSON:Et(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Px(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),n=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Et(new Uint8Array(n.authenticatorData)),clientDataJSON:Et(new Uint8Array(n.clientDataJSON)),signature:Et(new Uint8Array(n.signature)),userHandle:n.userHandle?Et(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ia(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function bn(){var t,e;return!!(Be()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Ix(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new _r("Browser returned unexpected credential type",e)}:{data:null,error:new _r("Empty credential response",e)}}catch(e){return{data:null,error:Fx({error:e,options:t})}}}async function Ox(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new _r("Browser returned unexpected credential type",e)}:{data:null,error:new _r("Empty credential response",e)}}catch(e){return{data:null,error:kx({error:e,options:t})}}}const Rx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Lx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Nr(...t){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),s={};for(const n of t)if(n)for(const o in n){const i=n[o];if(i!==void 0)if(Array.isArray(i))s[o]=i;else if(r(i))s[o]=i;else if(e(i)){const l=s[o];e(l)?s[o]=Nr(l,i):s[o]=Nr(i)}else s[o]=i}return s}function Mx(t,e){return Nr(Rx,t,e||{})}function Ux(t,e){return Nr(Lx,t,e||{})}class $x{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:n},o){var i;try{const{data:l,error:x}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!l)return{data:null,error:x};const d=n??Nx.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:c}=l.webauthn.credential_options.publicKey;if(!c.name){const h=s;if(h)c.name=`${c.id}:${h}`;else{const p=(await this.client.getUser()).data.user,f=((i=p==null?void 0:p.user_metadata)===null||i===void 0?void 0:i.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";c.name=`${c.id}:${f}`}}c.displayName||(c.displayName=c.name)}switch(l.webauthn.type){case"create":{const c=Mx(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:u}=await Ix({publicKey:c,signal:d});return h?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:u}}case"request":{const c=Ux(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:u}=await Ox(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:c,signal:d}));return h?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:u}}}}catch(l){return W(l)?{data:null,error:l}:{data:null,error:new pt("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},o){if(!r)return{data:null,error:new rr("rpId is required for WebAuthn authentication")};try{if(!bn())return{data:null,error:new pt("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:n},{request:o});if(!i)return{data:null,error:l};const{webauthn:x}=i;return this._verify({factorId:e,challengeId:i.challengeId,webauthn:{type:x.type,rpId:r,rpOrigins:s,credential_response:x.credential_response}})}catch(i){return W(i)?{data:null,error:i}:{data:null,error:new pt("Unexpected error in authenticate",i)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},o){if(!r)return{data:null,error:new rr("rpId is required for WebAuthn registration")};try{if(!bn())return{data:null,error:new pt("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:e});if(!i)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(u=>u.factor_type==="webauthn"&&u.friendly_name===e&&u.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:l};const{data:x,error:d}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:n},{create:o});return x?this._verify({factorId:i.id,challengeId:x.challengeId,webauthn:{rpId:r,rpOrigins:s,type:x.webauthn.type,credential_response:x.webauthn.credential_response}}):{data:null,error:d}}catch(i){return W(i)?{data:null,error:i}:{data:null,error:new pt("Unexpected error in register",i)}}}}Bx();const Vx={url:Li,storageKey:Mi,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ui,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function An(t,e,r){return await r()}const Dt={};class sr{get jwks(){var e,r;return(r=(e=Dt[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Dt[this.storageKey]=Object.assign(Object.assign({},Dt[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Dt[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Dt[this.storageKey]=Object.assign(Object.assign({},Dt[this.storageKey]),{cachedAt:e})}constructor(e){var r,s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Vx),e);if(this.storageKey=o.storageKey,this.instanceID=(r=sr.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,sr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Be()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Cx({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Sa(o.fetch),this.lock=o.lock||An,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&Be()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Ax:this.lock=An,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $x(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:ja()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cn(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Cn(this.memoryStorage)),Be()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i);try{await this._notifyAllSubscribers(i.data.event,i.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(i=>{this._debug("#initialize()","error",i)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ka}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},s="none";if(Be()&&(r=ex(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),Be()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:o}=await this._getSessionFromURL(r,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Wi(o)){const x=(e=o.details)===null||e===void 0?void 0:e.code;if(x==="identity_already_exists"||x==="identity_not_found"||x==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:i,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return W(r)?this._returnResult({error:r}):this._returnResult({error:new pt("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,n;try{const o=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:$e}),{data:i,error:l}=o;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const x=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",x)),this._returnResult({data:{user:d,session:x},error:null})}catch(o){if(W(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,s,n;try{let o;if("email"in e){const{email:c,password:h,options:u}=e;let p=null,f=null;this.flowType==="pkce"&&([p,f]=await Bt(this.storage,this.storageKey)),o=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:u==null?void 0:u.emailRedirectTo,body:{email:c,password:h,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:p,code_challenge_method:f},xform:$e})}else if("phone"in e){const{phone:c,password:h,options:u}=e;o=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},channel:(n=u==null?void 0:u.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:$e})}else throw new pr("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return await Ae(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const x=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",x)),this._returnResult({data:{user:d,session:x},error:null})}catch(o){if(await Ae(this.storage,`${this.storageKey}-code-verifier`),W(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:l}=e;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gn})}else if("phone"in e){const{phone:o,password:i,options:l}=e;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gn})}else throw new pr("You must provide either an email or phone number and a password");const{data:s,error:n}=r;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!s||!s.session||!s.user){const o=new At;return this._returnResult({data:{user:null,session:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,s,n,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,n,o,i,l,x,d,c,h,u;let p,f;if("message"in e)p=e.message,f=e.signature;else{const{chain:E,wallet:m,statement:C,options:v}=e;let y;if(Be())if(typeof m=="object")y=m;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")y=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=m}const g=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),B=await y.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!B||B.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=Pa(B[0]);let A=(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!A){const N=await y.request({method:"eth_chainId"});A=vx(N)}const F={domain:g.host,address:b,statement:C,uri:g.href,version:"1",chainId:A,nonce:(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(i=(o=v==null?void 0:v.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(x=v==null?void 0:v.signInWithEthereum)===null||x===void 0?void 0:x.notBefore,requestId:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=Dx(F),f=await y.request({method:"personal_sign",params:[wx(p),b]})}try{const{data:E,error:m}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:f},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(u=e.options)===null||u===void 0?void 0:u.captchaToken}}:null),xform:$e});if(m)throw m;if(!E||!E.session||!E.user){const C=new At;return this._returnResult({data:{user:null,session:null},error:C})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:m})}catch(E){if(W(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var r,s,n,o,i,l,x,d,c,h,u,p;let f,E;if("message"in e)f=e.message,E=e.signature;else{const{chain:m,wallet:C,statement:v,options:y}=e;let g;if(Be())if(typeof C=="object")g=C;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))g=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=C}const B=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in g&&g.signIn){const b=await g.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),v?{statement:v}:null));let A;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")A=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)A=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)f=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),E=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in g)||typeof g.signMessage!="function"||!("publicKey"in g)||typeof g!="object"||!g.publicKey||!("toBase58"in g.publicKey)||typeof g.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${B.host} wants you to sign in with your Solana account:`,g.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(n=(s=y==null?void 0:y.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((x=y==null?void 0:y.signInWithSolana)===null||x===void 0)&&x.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((d=y==null?void 0:y.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(c=y==null?void 0:y.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const b=await g.signMessage(new TextEncoder().encode(f),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=b}}try{const{data:m,error:C}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:Et(E)},!((u=e.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:$e});if(C)throw C;if(!m||!m.session||!m.user){const v=new At;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:C})}catch(m){if(W(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async _exchangeCodeForSession(e){const r=await ut(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{if(!s&&this.flowType==="pkce")throw new Hi;const{data:o,error:i}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:$e});if(await Ae(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const l=new At;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:n??null}),error:i})}catch(o){if(await Ae(this.storage,`${this.storageKey}-code-verifier`),W(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:s,token:n,access_token:o,nonce:i}=e,l=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$e}),{data:x,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!x||!x.session||!x.user){const c=new At;return this._returnResult({data:{user:null,session:null},error:c})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:x,error:d})}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,s,n,o,i;try{if("email"in e){const{email:l,options:x}=e;let d=null,c=null;this.flowType==="pkce"&&([d,c]=await Bt(this.storage,this.storageKey));const{error:h}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},create_user:(s=x==null?void 0:x.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:d,code_challenge_method:c},redirectTo:x==null?void 0:x.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:l,options:x}=e,{data:d,error:c}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},create_user:(o=x==null?void 0:x.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},channel:(i=x==null?void 0:x.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:c})}throw new pr("You must provide either an email or phone number.")}catch(l){if(await Ae(this.storage,`${this.storageKey}-code-verifier`),W(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,s;try{let n,o;"options"in e&&(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:i,error:l}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:n,xform:$e});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const x=i.session,d=i.user;return x!=null&&x.access_token&&(await this._saveSession(x),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",x)),this._returnResult({data:{user:d,session:x},error:null})}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(e){var r,s,n,o,i;try{let l=null,x=null;this.flowType==="pkce"&&([l,x]=await Bt(this.storage,this.storageKey));const d=await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:x}),headers:this.headers,xform:mx});return!((o=d.data)===null||o===void 0)&&o.url&&Be()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await Ae(this.storage,`${this.storageKey}-code-verifier`),W(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new Te;const{error:n}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if(W(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:o}=e,{error:i}=await G(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in e){const{phone:s,type:n,options:o}=e,{data:i,error:l}=await G(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l})}throw new pr("You must provide either an email or phone number and a type")}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ut(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Kr:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const i=await ut(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=Qr()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};e.user=hx(e.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:n,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:at}):await this._useSession(async r=>{var s,n,o;const{data:i,error:l}=r;if(l)throw l;return!(!((s=i.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Te}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0,xform:at})})}catch(r){if(W(r))return Jr(r)&&(await this._removeSession(),await Ae(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:n,error:o}=s;if(o)throw o;if(!n.session)throw new Te;const i=n.session;let l=null,x=null;this.flowType==="pkce"&&e.email!=null&&([l,x]=await Bt(this.storage,this.storageKey));const{data:d,error:c}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:x}),jwt:i.access_token,xform:at});if(c)throw c;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(s){if(await Ae(this.storage,`${this.storageKey}-code-verifier`),W(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Te;const r=Date.now()/1e3;let s=r,n=!0,o=null;const{payload:i}=mr(e.access_token);if(i.exp&&(s=i.exp,n=s<=r),n){const{data:l,error:x}=await this._callRefreshToken(e.refresh_token);if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:x}=await this._getUser(e.access_token);if(x)return this._returnResult({data:{user:null,session:null},error:x});o={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(W(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:i,error:l}=r;if(l)throw l;e=(s=i.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Te;const{data:n,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Be())throw new Er("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Er(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new dn("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Er("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new dn("No code detected.");const{data:v,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const g=new URL(window.location.href);return g.searchParams.delete("code"),window.history.replaceState(window.history.state,"",g.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:o,refresh_token:i,expires_in:l,expires_at:x,token_type:d}=e;if(!o||!l||!i||!d)throw new Er("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(l);let u=c+h;x&&(u=parseInt(x));const p=u-c;p*1e3<=_t&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const f=u-h;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,u,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,u,c);const{data:E,error:m}=await this._getUser(o);if(m)throw m;const C={provider_token:s,provider_refresh_token:n,access_token:o,expires_in:h,expires_at:u,refresh_token:i,token_type:d,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(s){if(W(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ut(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:o}=r;if(o&&!Jr(o))return this._returnResult({error:o});const i=(s=n.session)===null||s===void 0?void 0:s.access_token;if(i){const{error:l}=await this.admin.signOut(i,e);if(l&&!(qi(l)&&(l.status===404||l.status===401||l.status===403)||Jr(l)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Ae(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Zi(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,n;try{const{data:{session:o},error:i}=r;if(i)throw i;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await Bt(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await Ae(this.storage,`${this.storageKey}-code-verifier`),W(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:n}=await this._useSession(async o=>{var i,l,x,d,c;const{data:h,error:u}=o;if(u)throw u;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(x=e.options)===null||x===void 0?void 0:x.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Be()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(W(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:n,data:{session:o}}=r;if(n)throw n;const{options:i,provider:l,token:x,access_token:d,nonce:c}=e,h=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=o==null?void 0:o.access_token)!==null&&s!==void 0?s:void 0,body:{provider:l,id_token:x,access_token:d,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:$e}),{data:u,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!u||!u.session||!u.user?this._returnResult({data:{user:null,session:null},error:new At}):(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("USER_UPDATED",u.session)),this._returnResult({data:u,error:p}))}catch(n){if(await Ae(this.storage,`${this.storageKey}-code-verifier`),W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,n;const{data:o,error:i}=r;if(i)throw i;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await sx(async n=>(n>0&&await rx(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$e})),(n,o)=>{const i=200*Math.pow(2,n);return o&&Xr(o)&&Date.now()+i-s<_t})}catch(s){if(this._debug(r,"error",s),W(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),Be()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await ut(this.storage,this.storageKey);if(n&&this.userStorage){let i=await ut(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:n.user},await Nt(this.userStorage,this.storageKey+"-user",i)),n.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:Qr()}else if(n&&!n.user&&!n.user){const i=await ut(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(n.user=i.user,await Ae(this.storage,this.storageKey+"-user"),await Nt(this.storage,this.storageKey,n)):n.user=Qr()}if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const o=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Kr;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${Kr}s`),o){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Xr(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(n.access_token);!l&&(i!=null&&i.user)?(n.user=i.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(s,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new Te;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Ur;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new Te;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={data:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(n,"error",o),W(o)){const i={data:null,error:o};return Xr(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,r,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(x){o.push(x)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ae(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Nt(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const o=En(n);await Nt(this.storage,this.storageKey,o)}else{const n=En(r);await Nt(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ae(this.storage,this.storageKey),await Ae(this.storage,this.storageKey+"-code-verifier"),await Ae(this.storage,this.storageKey+"-user"),this.userStorage&&await Ae(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Be()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_t);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/_t);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${_t}ms, refresh threshold is ${Es} ticks`),n<=Es&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ta)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Be()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,i]=await Bt(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});n.push(l.toString())}if(s!=null&&s.queryParams){const o=new URLSearchParams(s.queryParams);n.push(o.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:n,error:o}=r;return o?this._returnResult({data:null,error:o}):await G(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,n;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:x,error:d}=await G(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&x.type==="totp"&&(!((n=x==null?void 0:x.totp)===null||n===void 0)&&n.qr_code)&&(x.totp.qr_code=`data:image/svg+xml;utf-8,${x.totp.qr_code}`),this._returnResult({data:x,error:null}))})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Tx(e.webauthn.credential_response):Px(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:x}=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return x?this._returnResult({data:null,error:x}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:x}))})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:jx(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Sx(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const n={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])n.all.push(o),o.status==="verified"&&n[o.factor_type].push(o);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,s,n,o;if(e)try{const{payload:p}=mr(e);let f=null;p.aal&&(f=p.aal);let E=f;const{data:{user:m},error:C}=await this.getUser(e);if(C)return this._returnResult({data:null,error:C});((s=(r=m==null?void 0:m.factors)===null||r===void 0?void 0:r.filter(g=>g.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(E="aal2");const y=p.amr||[];return{data:{currentLevel:f,nextLevel:E,currentAuthenticationMethods:y},error:null}}catch(p){if(W(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:i},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:x}=mr(i.access_token);let d=null;x.aal&&(d=x.aal);let c=d;((o=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(c="aal2");const u=x.amr||[];return{data:{currentLevel:d,nextLevel:c,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:s},error:n}=r;return n?this._returnResult({data:null,error:n}):s?await G(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Te})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:n},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!n)return this._returnResult({data:null,error:new Te});const i=await G(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&Be()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:n},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!n)return this._returnResult({data:null,error:new Te});const i=await G(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&Be()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;return s?this._returnResult({data:null,error:s}):r?await G(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new Te})})}catch(e){if(W(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:s},error:n}=r;return n?this._returnResult({data:null,error:n}):s?(await G(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Te})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(l=>l.kid===e);if(s)return s;const n=Date.now();if(s=this.jwks.keys.find(l=>l.kid===e),s&&this.jwks_cached_at+Vi>n)return s;const{data:o,error:i}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=n,s=o.keys.find(l=>l.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:p,error:f}=await this.getSession();if(f||!p.session)return this._returnResult({data:null,error:f});s=p.session.access_token}const{header:n,payload:o,signature:i,raw:{header:l,payload:x}}=mr(s);r!=null&&r.allowExpired||cx(o.exp);const d=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:o,header:n,signature:i},error:null}}const c=dx(n.alg),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,i,Qi(`${l}.${x}`)))throw new ys("Invalid JWT signature");return{data:{claims:o,header:n,signature:i},error:null}}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}}sr.nextInstanceID={};const zx=sr,qx="2.93.3";let Ht="";typeof Deno<"u"?Ht="deno":typeof document<"u"?Ht="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ht="react-native":Ht="node";const Wx={"X-Client-Info":`supabase-js-${Ht}/${qx}`},Hx={headers:Wx},Gx={schema:"public"},Kx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Jx={};function nr(t){"@babel/helpers - typeof";return nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(t)}function Xx(t,e){if(nr(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(nr(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qx(t){var e=Xx(t,"string");return nr(e)=="symbol"?e:e+""}function Yx(t,e,r){return(e=Qx(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,s)}return r}function de(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bn(Object(r),!0).forEach(function(s){Yx(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bn(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}const Zx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),el=()=>Headers,tl=(t,e,r)=>{const s=Zx(r),n=el();return async(o,i)=>{var l;const x=(l=await e())!==null&&l!==void 0?l:t;let d=new n(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${x}`),s(o,de(de({},i),{},{headers:d}))}};function rl(t){return t.endsWith("/")?t:t+"/"}function sl(t,e){var r,s;const{db:n,auth:o,realtime:i,global:l}=t,{db:x,auth:d,realtime:c,global:h}=e,u={db:de(de({},x),n),auth:de(de({},d),o),realtime:de(de({},c),i),storage:{},global:de(de(de({},h),l),{},{headers:de(de({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}function nl(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(rl(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var al=class extends zx{constructor(t){super(t)}},ol=class{constructor(t,e,r){var s,n;this.supabaseUrl=t,this.supabaseKey=e;const o=nl(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const i=`sb-${o.hostname.split(".")[0]}-auth-token`,l={db:Gx,realtime:Jx,auth:de(de({},Kx),{},{storageKey:i}),global:Hx},x=sl(r??{},l);if(this.storageKey=(s=x.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(n=x.global.headers)!==null&&n!==void 0?n:{},x.accessToken)this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(c,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=x.auth)!==null&&d!==void 0?d:{},this.headers,x.global.fetch)}this.fetch=tl(e,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(de({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new q0(new URL("rest/v1",o).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new Ri(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new M0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:s,userStorage:n,storageKey:o,flowType:i,lock:l,debug:x,throwOnError:d},c,h){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new al({url:this.authUrl.href,headers:de(de({},u),c),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:s,userStorage:n,flowType:i,lock:l,debug:x,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new ii(this.realtimeUrl.href,de(de({},t),{},{params:de(de({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const il=(t,e,r)=>new ol(t,e,r);function xl(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}xl()&&console.warn("âš ï¸  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ll="https://dgzaqrdqinhwvpjjggjr.supabase.co",cl="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRnemFxcmRxaW5od3ZwampnZ2pyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg1MTU4MDYsImV4cCI6MjA4NDA5MTgwNn0.4Lc4CDJCiCVVhV5E1y2i2nnMxOR78igvp_O2zKhTDW0",pe=il(ll,cl);function Oa(){const{address:t}=Ee(),[e,r]=D.useState([]),[s,n]=D.useState(!1);return D.useEffect(()=>{if(!t){r([]);return}const o=async()=>{n(!0);try{const{data:l,error:x}=await pe.from("transactions").select("*").eq("user_address",t).order("created_at",{ascending:!1}).limit(50);if(x)throw x;const d=(l||[]).map(c=>({id:c.id,type:c.type,title:dl(c),amount:ul(c),date:hl(c.created_at),status:c.status||"CONFIRMED",hash:c.tx_hash||"",from_token:c.from_token,to_token:c.to_token}));r(d)}catch(l){console.error("Failed to fetch transaction history:",l),r([])}finally{n(!1)}};o();const i=pe.channel("transactions").on("postgres_changes",{event:"INSERT",schema:"public",table:"transactions",filter:`user_address=eq.${t}`},()=>{o()}).subscribe();return()=>{pe.removeChannel(i)}},[t]),{transactions:e,isLoading:s}}function dl(t){switch(t.type){case"swap":return`Swap ${t.from_token} â†’ ${t.to_token}`;case"snap_create":return"Created Snap";case"snap_claim":return"Claimed Snap";case"send":return`Sent ${t.to_token||"Token"}`;case"receive":return`Received ${t.to_token||"Token"}`;default:return"Transaction"}}function ul(t){return t.type==="swap"?`${t.amount} ${t.from_token}`:`${t.amount} ${t.to_token||""}`}function hl(t){const e=new Date(t),s=new Date().getTime()-e.getTime(),n=Math.floor(s/6e4),o=Math.floor(s/36e5),i=Math.floor(s/864e5);return n<1?"Just now":n<60?`${n}m ago`:o<24?`${o}h ago`:i<7?`${i}d ago`:e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function Oe({children:t,variant:e="primary",fullWidth:r,className:s,...n}){return a.jsx("button",{className:J("h-12 px-6 font-bold tracking-wide transition-all active:scale-95 rounded-swiss disabled:opacity-50 disabled:cursor-not-allowed","uppercase text-sm",e==="primary"&&"bg-primary text-white hover:bg-primary-700 shadow-sm",e==="secondary"&&"bg-axon-paper text-axon-obsidian hover:bg-gray-200",e==="outline"&&"bg-transparent border border-gray-200 text-axon-obsidian hover:border-gray-900",e==="ghost"&&"bg-transparent text-axon-obsidian hover:bg-gray-100",r&&"w-full",s),...n,children:t})}async function fl(t,e,r=8453){var o,i;const s=[],n=[];try{const{getSwapQuote:l}=await ha(async()=>{const{getSwapQuote:p}=await import("./index--Kw6qDV4.js");return{getSwapQuote:p}},__vite__mapDeps([0,1,2,3])),x=ve.find(p=>p.symbol==="USDC"),d=ve.find(p=>p.symbol==="IDRX");if(!x||!d)return{canSwap:!1,error:"Token configuration missing"};const c=parseFloat(t);if(isNaN(c)||c<=0)return{canSwap:!1,error:"Invalid amount"};c<1&&(s.push("Amounts less than 1 USDC may have higher slippage"),n.push("Consider using amounts of 1 USDC or more for better rates")),c>1e4&&(s.push("Large amounts may have liquidity constraints"),n.push("Consider breaking into smaller transactions"));const h={from:{address:x.address,symbol:x.symbol,name:x.name,decimals:x.decimals,chainId:r,image:""},to:{address:d.address,symbol:d.symbol,name:d.name,decimals:d.decimals,chainId:r,image:""},amount:t,useAggregator:!0,maxSlippage:"5",isAmountInDecimals:!0},u=await l(h);if("error"in u){console.error("IDRX test quote failed:",u);let p=u.error||u.message||"Unknown error";return p.includes("no route")||p.includes("no path")?{canSwap:!1,error:"No swap route available",warnings:["IDRX may have insufficient liquidity"],recommendations:["Try again later when liquidity improves","Use a smaller amount","Contact support if issue persists"]}:{canSwap:!1,error:p,recommendations:["Try refreshing the page and attempting again"]}}return(o=u.quote)!=null&&o.priceImpact&&parseFloat(u.quote.priceImpact)>5&&(s.push(`High price impact: ${u.quote.priceImpact}%`),n.push("Consider reducing the amount or waiting for better rates")),u.warning&&s.push(u.warning.message),{canSwap:!0,estimatedOutput:(i=u.quote)==null?void 0:i.toAmount,warnings:s.length>0?s:void 0,recommendations:n.length>0?n:void 0}}catch(l){return console.error("IDRX swap test failed:",l),{canSwap:!1,error:l instanceof Error?l.message:"Test failed",recommendations:["Check your internet connection","Ensure you are on Base network","Try refreshing the page"]}}}const pl={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CDP_PROJECT_ID:"9160a25d-7f00-4b50-ab04-cfc1fe991706",VITE_PAYMASTER_URL:"https://api.developer.coinbase.com/rpc/v1/base/NQTfYj9jR92AAZ4REeBBieHzESBA7lEn",VITE_PUBLIC_ONCHAINKIT_API_KEY:"NQTfYj9jR92AAZ4REeBBieHzESBA7lEn",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRnemFxcmRxaW5od3ZwampnZ2pyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg1MTU4MDYsImV4cCI6MjA4NDA5MTgwNn0.4Lc4CDJCiCVVhV5E1y2i2nnMxOR78igvp_O2zKhTDW0",VITE_SUPABASE_URL:"https://dgzaqrdqinhwvpjjggjr.supabase.co"},ot=t=>{const e=pl[t],r=!!(e&&e.trim()!==""&&e!=="undefined");return{isValid:r,value:r?e.trim():""}};function Ra(){const t=ot("VITE_PUBLIC_ONCHAINKIT_API_KEY"),e=ot("VITE_CDP_PROJECT_ID");return t.isValid&&e.isValid}function El(){const t=ot("VITE_PUBLIC_ONCHAINKIT_API_KEY");return t.isValid?t.value:null}function ml(){const t=ot("VITE_CDP_PROJECT_ID");return t.isValid?t.value:null}function gl(){const t=ot("VITE_PAYMASTER_URL");return t.isValid?t.value:null}function yl(t){try{const e=parseFloat(t);if(isNaN(e))return{isValid:!1,error:"Invalid amount format"};if(e<=0)return{isValid:!1,error:"Amount must be greater than 0"};const r=t.split(".");return r.length>1&&r[1].length>2?{isValid:!1,error:"IDRX amount cannot have more than 2 decimal places"}:e<.01?{isValid:!1,error:"Minimum amount is 0.01 USDC"}:e>1e4?{isValid:!1,error:"Maximum amount is 10,000 USDC for IDRX swaps"}:{isValid:!0}}catch{return{isValid:!1,error:"Amount validation failed"}}}const Cl={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CDP_PROJECT_ID:"9160a25d-7f00-4b50-ab04-cfc1fe991706",VITE_PAYMASTER_URL:"https://api.developer.coinbase.com/rpc/v1/base/NQTfYj9jR92AAZ4REeBBieHzESBA7lEn",VITE_PUBLIC_ONCHAINKIT_API_KEY:"NQTfYj9jR92AAZ4REeBBieHzESBA7lEn",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRnemFxcmRxaW5od3ZwampnZ2pyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg1MTU4MDYsImV4cCI6MjA4NDA5MTgwNn0.4Lc4CDJCiCVVhV5E1y2i2nnMxOR78igvp_O2zKhTDW0",VITE_SUPABASE_URL:"https://dgzaqrdqinhwvpjjggjr.supabase.co"},it=El(),xt=ml(),lt=gl();console.log("ðŸ§ª useSwapTokens Module Load:",{hasApiKey:!!it,hasProjectId:!!xt,hasPaymasterUrl:!!lt,apiKeyPrefix:it?it.substring(0,8)+"...":"MISSING",projectIdPrefix:xt?xt.substring(0,4)+"...":"MISSING",paymasterPrefix:lt?lt.substring(0,30)+"...":"MISSING",hasCriticalConfig:Ra()});console.log("ðŸ§ª useSwapTokens Module Load:",{hasApiKey:!!it,hasProjectId:!!xt,hasPaymasterUrl:!!lt,apiKeyPrefix:it?it.substring(0,8)+"...":"MISSING",projectIdPrefix:xt?xt.substring(0,4)+"...":"MISSING",paymasterPrefix:lt?lt.substring(0,30)+"...":"MISSING",envKeys:Object.keys(Cl).filter(t=>t.startsWith("VITE_"))});if(it&&xt)try{fa({apiKey:it,projectId:xt}),console.log("âœ… OnchainKit configured successfully")}catch(t){console.error("âŒ Failed to configure OnchainKit:",t)}else console.error("âŒ Cannot configure OnchainKit - missing required environment variables");function bl(){const{address:t,chainId:e}=Ee(),{sendTransaction:r,data:s}=o0(),{isLoading:n,isSuccess:o}=i0({hash:s}),[i,l]=D.useState(!1),[x,d]=D.useState(null),c=D.useRef(null),h=D.useCallback(async u=>{var v,y,g,B,b,A,F,N,P,T,j,V,M,w,_;c.current=u;const{fromToken:p,toToken:f,amount:E}=u;if(!t){d("Wallet not connected");return}if(!Ra()){const k="Critical configuration missing. Check console for details.";console.error("âŒ",k),d(k);return}const C=yl(E);if(!C.isValid){d(C.error||"Invalid amount");return}try{d(null),l(!0),console.log(`ðŸ” Getting swap quote for ${E} tokens...`);const{getSwapQuote:k,buildSwapTransaction:I}=await ha(async()=>{const{getSwapQuote:oe,buildSwapTransaction:Re}=await import("./index--Kw6qDV4.js");return{getSwapQuote:oe,buildSwapTransaction:Re}},__vite__mapDeps([0,1,2,3])),L=ve.find(oe=>oe.address.toLowerCase()===p.toLowerCase()),R=ve.find(oe=>oe.address.toLowerCase()===f.toLowerCase());if(console.log("ðŸ” Token lookup results:",{fromToken:p,toToken:f,fromTokenData:L?`${L.symbol} (${L.address})`:"NOT FOUND",toTokenData:R?`${R.symbol} (${R.address})`:"NOT FOUND"}),!L||!R){const oe=[];throw L||oe.push(`from: ${p}`),R||oe.push(`to: ${f}`),new Error(`Token configuration not found for: ${oe.join(", ")}`)}const O=R.symbol==="IDRX";if(O){console.log("ðŸ‡®ðŸ‡© IDRX Swap detected - using enhanced configuration");const oe=await fl(E,t,e||8453);if(!oe.canSwap){const Re=[oe.error,...oe.recommendations||[]].filter(Boolean).join(" | ");throw new Error(`IDRX swap unavailable: ${Re}`)}oe.warnings&&oe.warnings.length>0&&console.warn("ðŸ‡®ðŸ‡© IDRX Swap Warnings:",oe.warnings)}const Q=e||8453,se={address:L.address,symbol:L.symbol,name:L.name,decimals:L.decimals,chainId:Q,image:""},U={address:R.address,symbol:R.symbol,name:R.name,decimals:R.decimals,chainId:Q,image:""};O&&(console.log("ðŸ‡®ðŸ‡© IDRX Swap Configuration:",{fromToken:se.symbol,toToken:U.symbol,fromAmount:E,decimals:{from:se.decimals,to:U.decimals},chainId:Q}),U.decimals===2&&se.decimals===6&&parseFloat(E)<100&&console.warn("âš ï¸ Small amount detected for IDRX swap, may fail due to dust"));const me=u.maxSlippage||"3",le={from:se,to:U,amount:E,useAggregator:!0,maxSlippage:O?Math.max(parseFloat(me),5).toString():me,isAmountInDecimals:!0};console.log("ðŸ’Ž Requesting quote with params:",JSON.stringify(le,null,2));const ne=await k(le);if("error"in ne){console.error("âŒ OnchainKit Swap Quote Error Object:",ne);const oe=ne.message||ne.error||"Failed to get swap quote";throw O&&console.error("ðŸ‡®ðŸ‡© IDRX Quote Error Details:",{fromAsset:se,toAsset:U,amount:E,chainId:Q,tokenSupport:"IDRX may not be supported by this aggregator"}),new Error(oe)}console.log("ðŸ“¦ OnchainKit Swap Quote Success:",{hasQuote:!!ne,fromAmount:(v=ne.quote)==null?void 0:v.fromAmount,toAmount:(y=ne.quote)==null?void 0:y.toAmount,hasWarning:!!ne.warning,warningType:(g=ne.warning)==null?void 0:g.type});const Ke={from:se,to:U,amount:E,fromAddress:t,maxSlippage:u.maxSlippage||"3",isAmountInDecimals:!0};console.log("ðŸ› ï¸ Building swap transaction with params:",JSON.stringify(Ke,null,2));const re=await I(Ke);if("error"in re){console.error("âŒ OnchainKit Build Transaction Error Object:",re);const oe=re.message||re.error||"Failed to build swap transaction";throw O&&console.error("ðŸ‡®ðŸ‡© IDRX Build Transaction Error Details:",{fromAsset:se,toAsset:U,amount:E,address:t,error:re,possibleCauses:["Insufficient liquidity for IDRX","IDRX token not supported by aggregator","Gas estimation failed","Slippage too high"]}),new Error(oe)}if(console.log("ðŸ—ï¸ Transaction Build Success:",{hasTransaction:!!re.transaction,hasApprove:!!re.approveTransaction,to:(B=re.transaction)==null?void 0:B.to,value:(b=re.transaction)==null?void 0:b.value,dataLength:(F=(A=re.transaction)==null?void 0:A.data)==null?void 0:F.length}),re.transaction){console.log("ðŸ’³ Sending transaction to wallet with sponsorship...");const oe=lt?{paymasterService:{url:lt}}:void 0;if(!re.transaction.to||!re.transaction.data)throw console.error("âŒ Invalid transaction data:",re.transaction),new Error("Invalid transaction data: missing to or data fields");console.log("ðŸ“¤ Transaction details:",{to:re.transaction.to,dataLength:re.transaction.data.length,value:re.transaction.value,hasCapabilities:!!oe}),r({to:re.transaction.to,data:re.transaction.data,value:BigInt(re.transaction.value||"0"),capabilities:oe})}else throw console.error("âŒ No transaction data in swap response"),new Error("No transaction data received from aggregator");l(!1)}catch(k){if(console.error("Swap error:",k),((N=c.current)==null?void 0:N.toToken)&&((P=ve.find(L=>L.address.toLowerCase()===c.current.toToken.toLowerCase()))==null?void 0:P.symbol)==="IDRX")debugIdrxSwap({amount:u.amount,userAddress:t,chainId:e||8453,error:k}),(T=k.message)!=null&&T.includes("insufficient funds")?d("Insufficient balance for IDRX swap. Please check your USDC balance."):(j=k.message)!=null&&j.includes("UNPREDICTABLE_GAS_LIMIT")?d("Gas estimation failed. Try a smaller amount or wait for better liquidity."):(V=k.message)!=null&&V.includes("no route")||(M=k.message)!=null&&M.includes("no path")?d("No swap route for IDRX. The token may have insufficient liquidity right now."):(w=k.message)!=null&&w.includes("slippage")?d("High slippage detected. Reduce amount or increase tolerance to 5%."):(_=k.message)!=null&&_.includes("Missing OnchainKit API Key")?d("API configuration missing. Please contact support."):d("IDRX swap failed. Try again or use a different amount.");else{let L=k.message||(typeof k=="string"?k:"Swap failed - Check console");L.includes("insufficient funds")?L="Insufficient balance for this swap.":L.includes("no route")&&(L="No swap route available. Try different tokens."),d(L)}l(!1)}},[t,r]);return D.useEffect(()=>{if(o&&s&&c.current&&t){const u=c.current,p=ve.find(v=>v.address.toLowerCase()===u.fromToken.toLowerCase()),f=ve.find(v=>v.address.toLowerCase()===u.toToken.toLowerCase()),E=(p==null?void 0:p.symbol)||"USD",m=(f==null?void 0:f.symbol)||"IDRX";(async()=>{try{console.log(`ðŸ“ Recording swap: ${u.amount} ${E} -> ${m}`),await pe.from("transactions").insert({user_address:t,type:"swap",amount:u.amount,from_token:E,to_token:m,status:"CONFIRMED",tx_hash:s,created_at:new Date().toISOString()}),console.log("âœ… Swap transaction recorded successfully")}catch(v){console.error("âŒ Failed to record swap transaction:",v)}})()}},[o,s,t,h]),{executeSwap:h,isPending:i,isConfirming:n,isSuccess:o,error:x}}function jr({children:t,className:e,glass:r,onClick:s}){return a.jsx("div",{onClick:s,className:J("bg-white border border-gray-200 rounded-swiss",s&&"active:scale-[0.98] transition-transform",r&&"bg-white/80 backdrop-blur-md border-white/40",e),children:t})}function La(){const[t,e]=D.useState({USDC:1,USDT:1,IDRX:63e-6,ETH:0}),[r,s]=D.useState(15850),[n,o]=D.useState(!0),i=D.useCallback(async()=>{var x;try{const c=await(await fetch("https://api.coinbase.com/v2/exchange-rates?currency=USD")).json();if((x=c==null?void 0:c.data)!=null&&x.rates){const h=parseFloat(c.data.rates.IDR);h&&s(h);const u={USDC:1,USDT:1,IDRX:1/h,ETH:1/parseFloat(c.data.rates.ETH)||0,VIRTUAL:1/parseFloat(c.data.rates.VIRTUAL)||0};e(u)}}catch(d){console.error("Failed to fetch real-time prices:",d)}finally{o(!1)}},[]);return D.useEffect(()=>{i();const x=setInterval(i,6e4);return()=>clearInterval(x)},[i]),{prices:t,usdToIdr:r,convertToIdr:x=>x*r,isLoading:n,refresh:i}}function Al({isOpen:t,onClose:e,balances:r,onSwap:s,isPending:n}){const[o,i]=D.useState(""),[l,x]=D.useState("input"),{usdToIdr:d}=La(),c=ve[0],h=ve[2],u=r[c.symbol]||"0.00",p=parseFloat(u.replace(/,/g,"")),f=d,E=D.useMemo(()=>((parseFloat(o)||0)*f).toLocaleString("id-ID",{minimumFractionDigits:0,maximumFractionDigits:0}),[o,f]),m=()=>{i(p.toString())},C=()=>{const y=parseFloat(o);if(!y||y<=0){ae.error("Enter a valid amount");return}if(y>p){ae.error("Insufficient balance");return}x("confirm")},v=async()=>{try{if(h.symbol==="IDRX"){if(parseFloat(o)<.01){ae.error("Minimum amount for IDRX swap is 0.01 USDC");return}ae.loading("Preparing IDRX swap...",{id:"idrx-swap"})}await s({fromToken:c,toToken:h,amount:o}),h.symbol==="IDRX"&&ae.dismiss("idrx-swap")}catch(y){console.error("Swap confirm error:",y),h.symbol==="IDRX"&&(ae.dismiss("idrx-swap"),ae.error("IDRX swap failed. Please try a different amount or contact support."))}};return D.useEffect(()=>{t||(x("input"),i(""))},[t]),a.jsx(_e,{children:t&&a.jsxs(a.Fragment,{children:[a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-md z-[100]",onClick:e}),a.jsx($.div,{initial:{opacity:0,scale:.9,y:100},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:100},className:"fixed inset-x-4 bottom-8 md:relative md:inset-auto md:max-w-md md:mx-auto z-[101]",children:a.jsxs(jr,{className:"overflow-hidden !border-0 bg-[#F5F5F7]",children:[a.jsxs("div",{className:"p-6 bg-white border-b border-gray-100 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:l==="input"?"CONVERT ASSETS":"CONFIRM SWAP"}),a.jsx("p",{className:"text-[10px] font-bold text-axon-steel uppercase tracking-widest",children:"Powered by Coinbase CDP"})]}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(ct,{className:"w-5 h-5 text-axon-steel"})})]}),a.jsx("div",{className:"p-6 space-y-6",children:l==="input"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-gray-200 focus-within:border-axon-obsidian transition-all shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-[10px] font-bold text-axon-steel uppercase tracking-widest",children:"FROM"}),a.jsxs("span",{className:"text-[10px] font-mono text-axon-steel uppercase",children:["Bal: ",u]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"number",value:o,onChange:y=>i(y.target.value),placeholder:"0.00",className:"text-4xl font-black bg-transparent w-full outline-none placeholder:text-gray-200"}),a.jsxs("div",{className:"flex flex-col items-end gap-1",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 px-3 py-1.5 rounded-full border border-gray-200",children:[a.jsx("div",{className:J("w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold text-white",c.color),children:c.icon}),a.jsx("span",{className:"font-black text-sm",children:c.symbol})]}),a.jsx("button",{onClick:m,className:"text-[9px] font-black text-primary hover:opacity-80 uppercase tracking-tighter",children:"USE MAX"})]})]})]}),a.jsx("div",{className:"flex justify-center -my-3 relative z-10",children:a.jsx("div",{className:"bg-axon-obsidian text-axon-neon p-2 rounded-full border-4 border-[#F5F5F7] shadow-lg",children:a.jsx(So,{className:"w-5 h-5"})})}),a.jsxs("div",{className:"bg-white/60 rounded-2xl p-5 border border-gray-100 transition-all opacity-80",children:[a.jsx("div",{className:"flex justify-between items-center mb-2",children:a.jsx("span",{className:"text-[10px] font-bold text-axon-steel uppercase tracking-widest",children:"TO (ESTIMATED)"})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-3xl font-bold bg-transparent w-full text-axon-obsidian",children:E}),a.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 px-3 py-1.5 rounded-full border border-gray-200",children:[a.jsx("div",{className:J("w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold text-white",h.color),children:h.icon}),a.jsx("span",{className:"font-black text-sm",children:h.symbol})]})]})]})]}),a.jsxs("div",{className:"flex justify-between items-center px-2",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(wr,{className:"w-3.5 h-3.5 text-axon-steel"}),a.jsxs("span",{className:"text-[10px] font-mono text-axon-steel",children:["1 ",c.symbol," = ",f.toLocaleString()," ",h.symbol]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[a.jsx(Qe,{className:"w-3 h-3 fill-current"}),a.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"No Fee"})]})]}),a.jsx(Oe,{fullWidth:!0,onClick:C,className:"!h-16 !bg-axon-obsidian !text-white !font-black !tracking-widest shadow-xl",children:"REVIEW SWAP"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 shadow-sm space-y-4",children:[a.jsxs("div",{className:"flex justify-between border-b border-gray-50 pb-4",children:[a.jsx("span",{className:"text-xs text-axon-steel font-bold uppercase",children:"Sell"}),a.jsxs("span",{className:"text-sm font-black",children:[o," ",c.symbol]})]}),a.jsxs("div",{className:"flex justify-between border-b border-gray-50 pb-4",children:[a.jsx("span",{className:"text-xs text-axon-steel font-bold uppercase",children:"Receive"}),a.jsxs("span",{className:"text-sm font-black text-axon-obsidian",children:["~ ",E," ",h.symbol]})]}),a.jsxs("div",{className:"flex justify-between pt-1",children:[a.jsx("span",{className:"text-xs text-axon-steel font-bold uppercase",children:"Network Fee"}),a.jsx("span",{className:"text-[10px] font-black text-green-600 uppercase",children:"Sponsored"})]})]}),h.symbol==="IDRX"&&a.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl flex items-start gap-3 border border-amber-100",children:[a.jsx(Ns,{className:"w-5 h-5 text-amber-600 shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-[10px] text-amber-900 font-medium leading-relaxed",children:[a.jsx("p",{className:"mb-2",children:a.jsx("strong",{children:"ðŸ‡®ðŸ‡© IDRX Conversion Guide:"})}),a.jsxs("ul",{className:"space-y-1 text-xs",children:[a.jsxs("li",{children:["â€¢ ",a.jsx("strong",{children:"Min Amount:"})," 0.01 USDC for better success"]}),a.jsxs("li",{children:["â€¢ ",a.jsx("strong",{children:"Network:"})," Base Mainnet (8453)"]}),a.jsxs("li",{children:["â€¢ ",a.jsx("strong",{children:"Gas Fees:"})," 100% sponsored by Coinbase"]}),a.jsxs("li",{children:["â€¢ ",a.jsx("strong",{children:"Slippage:"})," Auto-set to 5% for reliability"]}),a.jsxs("li",{children:["â€¢ ",a.jsx("strong",{children:"Wallet:"})," Works with Smart Wallet & Coinbase"]})]}),a.jsxs("p",{className:"mt-2 text-[9px] text-amber-700",children:[a.jsx("strong",{children:"Troubleshooting:"})," If swap fails, try increasing amount to 1+ USDC or refresh the page."]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4",children:[a.jsx(Oe,{variant:"secondary",onClick:()=>x("input"),className:"!h-16",children:"BACK"}),a.jsx(Oe,{onClick:v,disabled:n,className:"!h-16 !bg-axon-neon !text-axon-obsidian !font-black !tracking-widest flex items-center justify-center gap-2",children:n?a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(Fe,{className:"w-5 h-5 animate-spin mb-1"}),a.jsx("span",{className:"text-[8px] font-bold uppercase tracking-tight",children:"Check signing modal"})]}):"CONFIRM"})]})]})})]})})]})})}function Bl({isOpen:t,onClose:e,asset:r,idrValue:s,transactions:n}){const o=D.useMemo(()=>n.filter(l=>l.from_token===r.symbol||l.to_token===r.symbol||l.token_symbol===r.symbol).slice(0,5),[n,r.symbol]),i=D.useMemo(()=>(r.change24h>=0?[20,18,15,16,12,14,8,10,5,2]:[2,5,8,10,12,10,14,16,18,20]).map((x,d)=>`${d*11},${x*2}`).join(" L "),[r.change24h]);return a.jsx(_e,{children:t&&a.jsxs(a.Fragment,{children:[a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-lg z-[110]",onClick:e}),a.jsxs($.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-x-0 bottom-0 z-[111] bg-[#F5F5F7] rounded-t-[32px] overflow-hidden max-h-[90vh] flex flex-col",children:[a.jsx("div",{className:"w-full h-8 flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full"})}),a.jsxs("div",{className:"px-6 pb-4 flex justify-between items-center bg-[#F5F5F7]/80 backdrop-blur-md",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:J("w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-lg",r.color),children:r.icon}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black uppercase tracking-tight leading-none",children:r.name}),a.jsxs("p",{className:"text-[10px] font-bold text-axon-steel uppercase tracking-widest",children:[r.symbol," â€¢ Base Network"]})]})]}),a.jsx("button",{onClick:e,className:"p-2 bg-gray-200 hover:bg-gray-300 rounded-full transition-colors",children:a.jsx(ct,{className:"w-5 h-5 text-axon-obsidian"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-20 space-y-8",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-bold text-axon-steel uppercase tracking-[0.2em] mb-2",children:"Portfolio Value"}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsxs("h1",{className:"text-5xl font-black tracking-tighter italic",children:["Rp",s]}),a.jsx("span",{className:"text-axon-steel font-mono font-medium text-sm",children:"IDR"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:J("flex items-center gap-1 text-xs font-bold",r.change24h>=0?"text-green-600":"text-red-600"),children:[r.change24h>=0?a.jsx(wr,{className:"w-3.5 h-3.5"}):a.jsx(oa,{className:"w-3.5 h-3.5"}),r.change24h,"%"]}),a.jsx("span",{className:"text-[10px] text-gray-400 font-mono uppercase",children:"Past 24H"})]})]}),a.jsxs("div",{className:"relative h-48 w-full group",children:[a.jsxs("svg",{viewBox:"0 0 100 45",className:"w-full h-full overflow-visible drop-shadow-2xl",children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"chartGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:r.change24h>=0?"#10b981":"#ef4444",stopOpacity:"0.3"}),a.jsx("stop",{offset:"100%",stopColor:r.change24h>=0?"#10b981":"#ef4444",stopOpacity:"0"})]})}),a.jsx($.path,{initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1.5,ease:"easeInOut"},d:`M 0,${r.change24h>=0?25:5} L ${i}`,fill:"none",stroke:r.change24h>=0?"#10b981":"#ef4444",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:`M 0,${r.change24h>=0?25:5} L ${i} V 45 H 0 Z`,fill:"url(#chartGradient)"})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-between pointer-events-none opacity-20 text-[8px] font-mono text-axon-steel uppercase",children:a.jsxs("div",{className:"flex flex-col h-full justify-between",children:[a.jsx("span",{children:"$High"}),a.jsx("span",{children:"$Low"})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs(Oe,{className:"!h-16 !bg-axon-obsidian !text-white flex items-center justify-center gap-2",children:[a.jsx(ia,{className:"w-5 h-5 text-axon-neon"}),a.jsx("span",{children:"RECEIVE"})]}),a.jsxs(Oe,{className:"!h-16 !bg-white !text-axon-obsidian border border-gray-200 flex items-center justify-center gap-2",children:[a.jsx(Dr,{className:"w-5 h-5 text-primary"}),a.jsx("span",{children:"SEND"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-bold text-axon-steel uppercase tracking-[0.2em]",children:"Market Stats"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-gray-100",children:[a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mb-1",children:"On-chain Balance"}),a.jsxs("p",{className:"text-lg font-black",children:[r.balance," ",r.symbol]})]}),a.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-gray-100",children:[a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mb-1",children:"Network"}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("img",{src:"/base-logo.png",className:"w-4 h-4",alt:"",onError:l=>l.currentTarget.style.display="none"}),a.jsx("p",{className:"text-sm font-black uppercase",children:"BASE MAINNET"})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-[10px] font-bold text-axon-steel uppercase tracking-[0.2em]",children:"Recent Activity"}),a.jsx(To,{className:"w-4 h-4 text-gray-300"})]}),a.jsx("div",{className:"space-y-2",children:o.length>0?o.map((l,x)=>a.jsxs(jr,{className:"p-4 flex items-center justify-between !shadow-none !border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-50 flex items-center justify-center font-bold text-xs uppercase",children:l.type==="swap"?"â‡†":l.type==="receive"?"â†“":"â†‘"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold uppercase tracking-wide",children:l.type}),a.jsx("p",{className:"text-[10px] text-axon-steel",children:new Date(l.created_at).toLocaleDateString()})]})]}),a.jsxs("p",{className:"font-bold text-xs font-mono",children:[l.amount," ",r.symbol]})]},x)):a.jsx("div",{className:"text-center py-6 border border-dashed border-gray-200 rounded-2xl",children:a.jsxs("span",{className:"text-[10px] text-gray-400 font-mono uppercase tracking-widest",children:["No activity for ",r.symbol]})})})]})]}),a.jsxs("div",{className:"mt-auto p-4 bg-white border-t border-gray-100 flex items-center justify-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-[8px] font-bold text-axon-steel uppercase tracking-widest",children:[a.jsx(je,{className:"w-3 h-3"})," SECURE LEDGER"]}),a.jsx("div",{className:"w-1 h-1 bg-gray-300 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-1.5 text-[8px] font-bold text-axon-steel uppercase tracking-widest",children:[a.jsx(xa,{className:"w-3 h-3"})," VERIFIED ON BASE"]})]})]})]})})}var vl=Object.defineProperty,Sr=Object.getOwnPropertySymbols,Ma=Object.prototype.hasOwnProperty,Ua=Object.prototype.propertyIsEnumerable,vn=(t,e,r)=>e in t?vl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Cs=(t,e)=>{for(var r in e||(e={}))Ma.call(e,r)&&vn(t,r,e[r]);if(Sr)for(var r of Sr(e))Ua.call(e,r)&&vn(t,r,e[r]);return t},bs=(t,e)=>{var r={};for(var s in t)Ma.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&Sr)for(var s of Sr(t))e.indexOf(s)<0&&Ua.call(t,s)&&(r[s]=t[s]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var mt;(t=>{const e=class ee{constructor(x,d,c,h){if(this.version=x,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],x<ee.MIN_VERSION||x>ee.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=x*4+17;let u=[];for(let f=0;f<this.size;f++)u.push(!1);for(let f=0;f<this.size;f++)this.modules.push(u.slice()),this.isFunction.push(u.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(c);if(this.drawCodewords(p),h==-1){let f=1e9;for(let E=0;E<8;E++){this.applyMask(E),this.drawFormatBits(E);const m=this.getPenaltyScore();m<f&&(h=E,f=m),this.applyMask(E)}}n(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(x,d){const c=t.QrSegment.makeSegments(x);return ee.encodeSegments(c,d)}static encodeBinary(x,d){const c=t.QrSegment.makeBytes(x);return ee.encodeSegments([c],d)}static encodeSegments(x,d,c=1,h=40,u=-1,p=!0){if(!(ee.MIN_VERSION<=c&&c<=h&&h<=ee.MAX_VERSION)||u<-1||u>7)throw new RangeError("Invalid value");let f,E;for(f=c;;f++){const y=ee.getNumDataCodewords(f,d)*8,g=i.getTotalBits(x,f);if(g<=y){E=g;break}if(f>=h)throw new RangeError("Data too long")}for(const y of[ee.Ecc.MEDIUM,ee.Ecc.QUARTILE,ee.Ecc.HIGH])p&&E<=ee.getNumDataCodewords(f,y)*8&&(d=y);let m=[];for(const y of x){r(y.mode.modeBits,4,m),r(y.numChars,y.mode.numCharCountBits(f),m);for(const g of y.getData())m.push(g)}n(m.length==E);const C=ee.getNumDataCodewords(f,d)*8;n(m.length<=C),r(0,Math.min(4,C-m.length),m),r(0,(8-m.length%8)%8,m),n(m.length%8==0);for(let y=236;m.length<C;y^=253)r(y,8,m);let v=[];for(;v.length*8<m.length;)v.push(0);return m.forEach((y,g)=>v[g>>>3]|=y<<7-(g&7)),new ee(f,d,v,u)}getModule(x,d){return 0<=x&&x<this.size&&0<=d&&d<this.size&&this.modules[d][x]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const x=this.getAlignmentPatternPositions(),d=x.length;for(let c=0;c<d;c++)for(let h=0;h<d;h++)c==0&&h==0||c==0&&h==d-1||c==d-1&&h==0||this.drawAlignmentPattern(x[c],x[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(x){const d=this.errorCorrectionLevel.formatBits<<3|x;let c=d;for(let u=0;u<10;u++)c=c<<1^(c>>>9)*1335;const h=(d<<10|c)^21522;n(h>>>15==0);for(let u=0;u<=5;u++)this.setFunctionModule(8,u,s(h,u));this.setFunctionModule(8,7,s(h,6)),this.setFunctionModule(8,8,s(h,7)),this.setFunctionModule(7,8,s(h,8));for(let u=9;u<15;u++)this.setFunctionModule(14-u,8,s(h,u));for(let u=0;u<8;u++)this.setFunctionModule(this.size-1-u,8,s(h,u));for(let u=8;u<15;u++)this.setFunctionModule(8,this.size-15+u,s(h,u));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let x=this.version;for(let c=0;c<12;c++)x=x<<1^(x>>>11)*7973;const d=this.version<<12|x;n(d>>>18==0);for(let c=0;c<18;c++){const h=s(d,c),u=this.size-11+c%3,p=Math.floor(c/3);this.setFunctionModule(u,p,h),this.setFunctionModule(p,u,h)}}drawFinderPattern(x,d){for(let c=-4;c<=4;c++)for(let h=-4;h<=4;h++){const u=Math.max(Math.abs(h),Math.abs(c)),p=x+h,f=d+c;0<=p&&p<this.size&&0<=f&&f<this.size&&this.setFunctionModule(p,f,u!=2&&u!=4)}}drawAlignmentPattern(x,d){for(let c=-2;c<=2;c++)for(let h=-2;h<=2;h++)this.setFunctionModule(x+h,d+c,Math.max(Math.abs(h),Math.abs(c))!=1)}setFunctionModule(x,d,c){this.modules[d][x]=c,this.isFunction[d][x]=!0}addEccAndInterleave(x){const d=this.version,c=this.errorCorrectionLevel;if(x.length!=ee.getNumDataCodewords(d,c))throw new RangeError("Invalid argument");const h=ee.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][d],u=ee.ECC_CODEWORDS_PER_BLOCK[c.ordinal][d],p=Math.floor(ee.getNumRawDataModules(d)/8),f=h-p%h,E=Math.floor(p/h);let m=[];const C=ee.reedSolomonComputeDivisor(u);for(let y=0,g=0;y<h;y++){let B=x.slice(g,g+E-u+(y<f?0:1));g+=B.length;const b=ee.reedSolomonComputeRemainder(B,C);y<f&&B.push(0),m.push(B.concat(b))}let v=[];for(let y=0;y<m[0].length;y++)m.forEach((g,B)=>{(y!=E-u||B>=f)&&v.push(g[y])});return n(v.length==p),v}drawCodewords(x){if(x.length!=Math.floor(ee.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let h=0;h<this.size;h++)for(let u=0;u<2;u++){const p=c-u,E=(c+1&2)==0?this.size-1-h:h;!this.isFunction[E][p]&&d<x.length*8&&(this.modules[E][p]=s(x[d>>>3],7-(d&7)),d++)}}n(d==x.length*8)}applyMask(x){if(x<0||x>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let c=0;c<this.size;c++){let h;switch(x){case 0:h=(c+d)%2==0;break;case 1:h=d%2==0;break;case 2:h=c%3==0;break;case 3:h=(c+d)%3==0;break;case 4:h=(Math.floor(c/3)+Math.floor(d/2))%2==0;break;case 5:h=c*d%2+c*d%3==0;break;case 6:h=(c*d%2+c*d%3)%2==0;break;case 7:h=((c+d)%2+c*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][c]&&h&&(this.modules[d][c]=!this.modules[d][c])}}getPenaltyScore(){let x=0;for(let u=0;u<this.size;u++){let p=!1,f=0,E=[0,0,0,0,0,0,0];for(let m=0;m<this.size;m++)this.modules[u][m]==p?(f++,f==5?x+=ee.PENALTY_N1:f>5&&x++):(this.finderPenaltyAddHistory(f,E),p||(x+=this.finderPenaltyCountPatterns(E)*ee.PENALTY_N3),p=this.modules[u][m],f=1);x+=this.finderPenaltyTerminateAndCount(p,f,E)*ee.PENALTY_N3}for(let u=0;u<this.size;u++){let p=!1,f=0,E=[0,0,0,0,0,0,0];for(let m=0;m<this.size;m++)this.modules[m][u]==p?(f++,f==5?x+=ee.PENALTY_N1:f>5&&x++):(this.finderPenaltyAddHistory(f,E),p||(x+=this.finderPenaltyCountPatterns(E)*ee.PENALTY_N3),p=this.modules[m][u],f=1);x+=this.finderPenaltyTerminateAndCount(p,f,E)*ee.PENALTY_N3}for(let u=0;u<this.size-1;u++)for(let p=0;p<this.size-1;p++){const f=this.modules[u][p];f==this.modules[u][p+1]&&f==this.modules[u+1][p]&&f==this.modules[u+1][p+1]&&(x+=ee.PENALTY_N2)}let d=0;for(const u of this.modules)d=u.reduce((p,f)=>p+(f?1:0),d);const c=this.size*this.size,h=Math.ceil(Math.abs(d*20-c*10)/c)-1;return n(0<=h&&h<=9),x+=h*ee.PENALTY_N4,n(0<=x&&x<=2568888),x}getAlignmentPatternPositions(){if(this.version==1)return[];{const x=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(x*2-2))*2;let c=[6];for(let h=this.size-7;c.length<x;h-=d)c.splice(1,0,h);return c}}static getNumRawDataModules(x){if(x<ee.MIN_VERSION||x>ee.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*x+128)*x+64;if(x>=2){const c=Math.floor(x/7)+2;d-=(25*c-10)*c-55,x>=7&&(d-=36)}return n(208<=d&&d<=29648),d}static getNumDataCodewords(x,d){return Math.floor(ee.getNumRawDataModules(x)/8)-ee.ECC_CODEWORDS_PER_BLOCK[d.ordinal][x]*ee.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][x]}static reedSolomonComputeDivisor(x){if(x<1||x>255)throw new RangeError("Degree out of range");let d=[];for(let h=0;h<x-1;h++)d.push(0);d.push(1);let c=1;for(let h=0;h<x;h++){for(let u=0;u<d.length;u++)d[u]=ee.reedSolomonMultiply(d[u],c),u+1<d.length&&(d[u]^=d[u+1]);c=ee.reedSolomonMultiply(c,2)}return d}static reedSolomonComputeRemainder(x,d){let c=d.map(h=>0);for(const h of x){const u=h^c.shift();c.push(0),d.forEach((p,f)=>c[f]^=ee.reedSolomonMultiply(p,u))}return c}static reedSolomonMultiply(x,d){if(x>>>8||d>>>8)throw new RangeError("Byte out of range");let c=0;for(let h=7;h>=0;h--)c=c<<1^(c>>>7)*285,c^=(d>>>h&1)*x;return n(c>>>8==0),c}finderPenaltyCountPatterns(x){const d=x[1];n(d<=this.size*3);const c=d>0&&x[2]==d&&x[3]==d*3&&x[4]==d&&x[5]==d;return(c&&x[0]>=d*4&&x[6]>=d?1:0)+(c&&x[6]>=d*4&&x[0]>=d?1:0)}finderPenaltyTerminateAndCount(x,d,c){return x&&(this.finderPenaltyAddHistory(d,c),d=0),d+=this.size,this.finderPenaltyAddHistory(d,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(x,d){d[0]==0&&(x+=this.size),d.pop(),d.unshift(x)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function r(l,x,d){if(x<0||x>31||l>>>x)throw new RangeError("Value out of range");for(let c=x-1;c>=0;c--)d.push(l>>>c&1)}function s(l,x){return(l>>>x&1)!=0}function n(l){if(!l)throw new Error("Assertion error")}const o=class ce{constructor(x,d,c){if(this.mode=x,this.numChars=d,this.bitData=c,d<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(x){let d=[];for(const c of x)r(c,8,d);return new ce(ce.Mode.BYTE,x.length,d)}static makeNumeric(x){if(!ce.isNumeric(x))throw new RangeError("String contains non-numeric characters");let d=[];for(let c=0;c<x.length;){const h=Math.min(x.length-c,3);r(parseInt(x.substring(c,c+h),10),h*3+1,d),c+=h}return new ce(ce.Mode.NUMERIC,x.length,d)}static makeAlphanumeric(x){if(!ce.isAlphanumeric(x))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],c;for(c=0;c+2<=x.length;c+=2){let h=ce.ALPHANUMERIC_CHARSET.indexOf(x.charAt(c))*45;h+=ce.ALPHANUMERIC_CHARSET.indexOf(x.charAt(c+1)),r(h,11,d)}return c<x.length&&r(ce.ALPHANUMERIC_CHARSET.indexOf(x.charAt(c)),6,d),new ce(ce.Mode.ALPHANUMERIC,x.length,d)}static makeSegments(x){return x==""?[]:ce.isNumeric(x)?[ce.makeNumeric(x)]:ce.isAlphanumeric(x)?[ce.makeAlphanumeric(x)]:[ce.makeBytes(ce.toUtf8ByteArray(x))]}static makeEci(x){let d=[];if(x<0)throw new RangeError("ECI assignment value out of range");if(x<128)r(x,8,d);else if(x<16384)r(2,2,d),r(x,14,d);else if(x<1e6)r(6,3,d),r(x,21,d);else throw new RangeError("ECI assignment value out of range");return new ce(ce.Mode.ECI,0,d)}static isNumeric(x){return ce.NUMERIC_REGEX.test(x)}static isAlphanumeric(x){return ce.ALPHANUMERIC_REGEX.test(x)}getData(){return this.bitData.slice()}static getTotalBits(x,d){let c=0;for(const h of x){const u=h.mode.numCharCountBits(d);if(h.numChars>=1<<u)return 1/0;c+=4+u+h.bitData.length}return c}static toUtf8ByteArray(x){x=encodeURI(x);let d=[];for(let c=0;c<x.length;c++)x.charAt(c)!="%"?d.push(x.charCodeAt(c)):(d.push(parseInt(x.substring(c+1,c+3),16)),c+=2);return d}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let i=o;t.QrSegment=o})(mt||(mt={}));(t=>{(e=>{const r=class{constructor(n,o){this.ordinal=n,this.formatBits=o}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(mt||(mt={}));(t=>{(e=>{const r=class{constructor(n,o){this.modeBits=n,this.numBitsCharCount=o}numCharCountBits(n){return this.numBitsCharCount[Math.floor((n+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(mt||(mt={}));var Tt=mt;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var wl={L:Tt.QrCode.Ecc.LOW,M:Tt.QrCode.Ecc.MEDIUM,Q:Tt.QrCode.Ecc.QUARTILE,H:Tt.QrCode.Ecc.HIGH},$a=128,Va="L",za="#FFFFFF",qa="#000000",Wa=!1,Ha=1,Dl=4,Fl=0,kl=.1;function Ga(t,e=0){const r=[];return t.forEach(function(s,n){let o=null;s.forEach(function(i,l){if(!i&&o!==null){r.push(`M${o+e} ${n+e}h${l-o}v1H${o+e}z`),o=null;return}if(l===s.length-1){if(!i)return;o===null?r.push(`M${l+e},${n+e} h1v1H${l+e}z`):r.push(`M${o+e},${n+e} h${l+1-o}v1H${o+e}z`);return}i&&o===null&&(o=l)})}),r.join("")}function Ka(t,e){return t.slice().map((r,s)=>s<e.y||s>=e.y+e.h?r:r.map((n,o)=>o<e.x||o>=e.x+e.w?n:!1))}function _l(t,e,r,s){if(s==null)return null;const n=t.length+r*2,o=Math.floor(e*kl),i=n/e,l=(s.width||o)*i,x=(s.height||o)*i,d=s.x==null?t.length/2-l/2:s.x*i,c=s.y==null?t.length/2-x/2:s.y*i,h=s.opacity==null?1:s.opacity;let u=null;if(s.excavate){let f=Math.floor(d),E=Math.floor(c),m=Math.ceil(l+d-f),C=Math.ceil(x+c-E);u={x:f,y:E,w:m,h:C}}const p=s.crossOrigin;return{x:d,y:c,h:x,w:l,excavation:u,opacity:h,crossOrigin:p}}function Nl(t,e){return e!=null?Math.max(Math.floor(e),0):t?Dl:Fl}function Ja({value:t,level:e,minVersion:r,includeMargin:s,marginSize:n,imageSettings:o,size:i,boostLevel:l}){let x=Ce.useMemo(()=>{const f=(Array.isArray(t)?t:[t]).reduce((E,m)=>(E.push(...Tt.QrSegment.makeSegments(m)),E),[]);return Tt.QrCode.encodeSegments(f,wl[e],r,void 0,void 0,l)},[t,e,r,l]);const{cells:d,margin:c,numCells:h,calculatedImageSettings:u}=Ce.useMemo(()=>{let p=x.getModules();const f=Nl(s,n),E=p.length+f*2,m=_l(p,i,f,o);return{cells:p,margin:f,numCells:E,calculatedImageSettings:m}},[x,i,o,s,n]);return{qrcode:x,margin:c,cells:d,numCells:h,calculatedImageSettings:u}}var jl=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Sl=Ce.forwardRef(function(e,r){const s=e,{value:n,size:o=$a,level:i=Va,bgColor:l=za,fgColor:x=qa,includeMargin:d=Wa,minVersion:c=Ha,boostLevel:h,marginSize:u,imageSettings:p}=s,E=bs(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:m}=E,C=bs(E,["style"]),v=p==null?void 0:p.src,y=Ce.useRef(null),g=Ce.useRef(null),B=Ce.useCallback(M=>{y.current=M,typeof r=="function"?r(M):r&&(r.current=M)},[r]),[b,A]=Ce.useState(!1),{margin:F,cells:N,numCells:P,calculatedImageSettings:T}=Ja({value:n,level:i,minVersion:c,boostLevel:h,includeMargin:d,marginSize:u,imageSettings:p,size:o});Ce.useEffect(()=>{if(y.current!=null){const M=y.current,w=M.getContext("2d");if(!w)return;let _=N;const k=g.current,I=T!=null&&k!==null&&k.complete&&k.naturalHeight!==0&&k.naturalWidth!==0;I&&T.excavation!=null&&(_=Ka(N,T.excavation));const L=window.devicePixelRatio||1;M.height=M.width=o*L;const R=o/P*L;w.scale(R,R),w.fillStyle=l,w.fillRect(0,0,P,P),w.fillStyle=x,jl?w.fill(new Path2D(Ga(_,F))):N.forEach(function(O,Q){O.forEach(function(se,U){se&&w.fillRect(U+F,Q+F,1,1)})}),T&&(w.globalAlpha=T.opacity),I&&w.drawImage(k,T.x+F,T.y+F,T.w,T.h)}}),Ce.useEffect(()=>{A(!1)},[v]);const j=Cs({height:o,width:o},m);let V=null;return v!=null&&(V=Ce.createElement("img",{src:v,key:v,style:{display:"none"},onLoad:()=>{A(!0)},ref:g,crossOrigin:T==null?void 0:T.crossOrigin})),Ce.createElement(Ce.Fragment,null,Ce.createElement("canvas",Cs({style:j,height:o,width:o,ref:B,role:"img"},C)),V)});Sl.displayName="QRCodeCanvas";var $s=Ce.forwardRef(function(e,r){const s=e,{value:n,size:o=$a,level:i=Va,bgColor:l=za,fgColor:x=qa,includeMargin:d=Wa,minVersion:c=Ha,boostLevel:h,title:u,marginSize:p,imageSettings:f}=s,E=bs(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:m,cells:C,numCells:v,calculatedImageSettings:y}=Ja({value:n,level:i,minVersion:c,boostLevel:h,includeMargin:d,marginSize:p,imageSettings:f,size:o});let g=C,B=null;f!=null&&y!=null&&(y.excavation!=null&&(g=Ka(C,y.excavation)),B=Ce.createElement("image",{href:f.src,height:y.h,width:y.w,x:y.x+m,y:y.y+m,preserveAspectRatio:"none",opacity:y.opacity,crossOrigin:y.crossOrigin}));const b=Ga(g,m);return Ce.createElement("svg",Cs({height:o,width:o,viewBox:`0 0 ${v} ${v}`,ref:r,role:"img"},E),!!u&&Ce.createElement("title",null,u),Ce.createElement("path",{fill:l,d:`M0,0 h${v}v${v}H0z`,shapeRendering:"crispEdges"}),Ce.createElement("path",{fill:x,d:b,shapeRendering:"crispEdges"}),B)});$s.displayName="QRCodeSVG";const He={name:"New AXON User",email:"",phone:"",address:"",city:"",postalCode:"",level:1};function Xa(){const{address:t,isConnected:e}=Ee(),[r,s]=D.useState(He),[n,o]=D.useState(!1),[i,l]=D.useState(null),x=D.useCallback(async()=>{if(t){o(!0),l(null);try{const{data:c,error:h}=await pe.from("user_profiles").select("*").eq("wallet_address",t.toLowerCase()).single();h?h.code==="PGRST116"?s(He):(console.error("Error loading profile:",h),l(h.message)):c&&s({name:c.name||He.name,email:c.email||He.email,phone:c.phone||He.phone,address:c.address||He.address,city:c.city||He.city,postalCode:c.postal_code||He.postalCode,level:c.verification_level||He.level})}catch(c){console.error("Unexpected error loading profile:",c),l(c.message)}finally{o(!1)}}},[t]),d=D.useCallback(async c=>{var h;if(t)try{console.log("ðŸ’¾ Saving profile for wallet:",t.toLowerCase()),console.log("ðŸ“ Profile data:",c);const{error:u,data:p}=await pe.from("user_profiles").update({name:c.name,email:c.email,phone:c.phone,address:c.address,city:c.city,postal_code:c.postalCode,verification_level:c.level,updated_at:new Date().toISOString()}).eq("wallet_address",t.toLowerCase()).select();if(!u&&p&&p.length>0){console.log("âœ… Profile updated successfully"),s(c);return}if(!u&&(!p||p.length===0)){console.log("ðŸ“ No existing profile found, attempting insert...");const{error:f}=await pe.from("user_profiles").insert({wallet_address:t.toLowerCase(),name:c.name,email:c.email,phone:c.phone,address:c.address,city:c.city,postal_code:c.postalCode,verification_level:c.level,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(f)if(f.code==="23505"||(h=f.message)!=null&&h.includes("duplicate key")){console.warn("âš ï¸ Insert failed due to duplicate, record was likely created concurrently"),await x();return}else throw console.error("Error inserting profile:",f),new Error(`Failed to create profile: ${f.message}`);else{console.log("âœ… Profile created successfully"),s(c);return}}if(u)throw console.error("Error updating profile:",u),new Error(`Failed to update profile: ${u.message}`)}catch(u){console.error("Unexpected error saving profile:",u);try{await x()}catch(p){console.error("Failed to reload profile after error:",p)}throw u}},[t,x]);return D.useEffect(()=>{e&&t?x():s(He)},[e,t,x]),{profile:r,isLoading:n,error:i,saveProfile:d,refreshProfile:x}}function Tl(){const t=Ze(),{countryName:e,location:r}=xr(),{isConnected:s,chainId:n}=Ee(),{switchChain:o}=x0(),{balances:i,isLoading:l}=lr(),{transactions:x,isLoading:d}=Oa(),{prices:c,usdToIdr:h,convertToIdr:u}=La(),p=D.useMemo(()=>ve.map(q=>{const te=i[q.symbol]??"0.00",ge=parseFloat(te.replace(/,/g,"")),we=c[q.symbol]||(q.symbol==="IDRX"?1/h:1);return{...q,change24h:q.symbol==="IDRX"?-.12:.05,balance:te,valueInIdr:u(ge*we).toLocaleString("id-ID",{minimumFractionDigits:0,maximumFractionDigits:0})}}),[i,c,h,u]),[f,E]=D.useState(ve[0]),[m,C]=D.useState(null),[v,y]=D.useState(!1),[g,B]=D.useState(!1),[b,A]=D.useState(!1),[F,N]=D.useState(!1),{profile:P}=Xa(),{address:T}=Ee(),j=r==="ID",[V,M]=D.useState(!1),[w,_]=D.useState(!1),[k,I]=D.useState(!1),[L,R]=D.useState(!1),O=D.useMemo(()=>{const q=parseFloat((i.USDC||"0").replace(/,/g,"")),te=parseFloat((i.USDT||"0").replace(/,/g,""));return q>0||te>0},[i]),Q=D.useMemo(()=>parseFloat((i.IDRX||"0").replace(/,/g,""))>0,[i]);D.useEffect(()=>{console.log("ðŸ” Balance Debug:",{isIndonesia:j,hasUSDBalance:O,hasIDRXBalance:Q,balances:i,countryCode:r})},[j,O,Q,i,r]),D.useEffect(()=>{if(j&&O&&!Q&&!k&&!L){const q=setTimeout(()=>{console.log("âœ… Showing conversion modal - IDRX is required for transactions"),_(!0),R(!0)},1500);return()=>clearTimeout(q)}},[j,O,Q,k,L]);const{executeSwap:se,isPending:U,isSuccess:me,error:le}=bl(),ne=async q=>{const te=q&&"fromToken"in q?q:null;if(!te){M(!0),_(!1);return}const{fromToken:ge,toToken:we,amount:qe}=te;try{if(console.log(`ðŸš€ Swapping ${qe} ${ge==null?void 0:ge.symbol} to ${we==null?void 0:we.symbol}...`),!ge||!we){ae.error("Invalid token selection");return}await se({fromToken:ge.address,toToken:we.address,amount:qe,decimals:ge.decimals,maxSlippage:"3"})}catch(Se){console.error("Conversion trigger failed:",Se),ae.error("Conversion failed: "+(Se.message||"Unknown error"))}},Ke=()=>{_(!1)};D.useEffect(()=>{if(me){ae.success("Conversion successful! Refreshing balances..."),I(!0),_(!1),M(!1);const q=ve.find(te=>te.symbol==="IDRX");q&&E(q),setTimeout(()=>{window.location.reload()},2500)}},[me]),D.useEffect(()=>{if(le){console.error("âŒ Swap Error Detail:",le);const q=le.toString();let te=[];q.includes("IDRX")?(te.push("Try increasing amount to 1+ USDC"),te.push("Ensure you are on Base network"),te.push("Check that IDRX has liquidity")):q.includes("insufficient")?(te.push("Check your token balance"),te.push("Consider using smaller amount")):q.includes("no route")&&(te.push("Try different token pair"),te.push("Wait for better liquidity"));const ge=te.length>0?`

Suggestions: ${te.join(" â€¢ ")}`:"",we=q.length>60?q.substring(0,60)+"..."+ge:q+ge;ae.error(we,{duration:6e3,style:{maxWidth:"400px",fontSize:"12px"}})}},[le]);const re=D.useMemo(()=>{const q=i.IDRX||"0.00",te=parseFloat(q.replace(/,/g,""));if(!k)return q;const ge=parseFloat((i.USDC||"0").replace(/,/g,"")),we=parseFloat((i.USDT||"0").replace(/,/g,"")),qe=te+u(ge+we);return new Intl.NumberFormat("id-ID",{minimumFractionDigits:0,maximumFractionDigits:0}).format(qe)},[k,i,u]),oe=k?re:i[f.symbol]||"0.00",Re=k?"IDRX":f.symbol,qr=k?"Rp":f.icon||"$",Ct=k?"bg-red-600":f.color;return a.jsxs("div",{className:"min-h-screen bg-[#F5F5F7] pb-32 font-sans text-axon-obsidian",children:[s&&n!==Ie.id&&a.jsxs("div",{className:"bg-amber-50 border-b border-amber-100 px-6 py-3 flex items-center justify-between sticky top-0 z-50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Po,{className:"w-5 h-5 text-amber-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-amber-900",children:"WRONG NETWORK DETECTED"}),a.jsx("p",{className:"text-[10px] text-amber-700 font-medium",children:"Please switch to Base Mainnet to see your real balances."})]})]}),a.jsx("button",{onClick:()=>o({chainId:Ie.id}),className:"bg-amber-600 text-white text-[10px] font-black px-4 py-2 rounded-lg hover:bg-amber-700 transition shadow-sm uppercase tracking-wider",children:"Switch to Base"})]}),a.jsxs("div",{className:"relative px-6 pt-8 pb-4 flex justify-between items-center sticky top-0 z-30",children:[a.jsx("div",{className:"absolute inset-0 bg-white/85 backdrop-blur-xl border-b border-gray-200"}),a.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[radial-gradient(#000_1px,transparent_1px)] [background-size:16px_16px]"}),a.jsx("div",{className:"relative z-10 flex flex-col",children:a.jsxs("h1",{className:"text-lg font-black tracking-tight text-axon-obsidian leading-none flex items-center gap-2 font-mono",children:["AXON ",a.jsx("span",{className:"text-[8px] font-bold bg-axon-obsidian text-axon-neon px-1.5 py-0.5 rounded-sm",children:"V2"})]})}),a.jsxs("div",{className:"relative z-10 flex items-center gap-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>A(!b),className:J("w-8 h-8 rounded-full border border-gray-200 flex items-center justify-center bg-white hover:bg-gray-50 transition shadow-sm group",b&&"ring-2 ring-axon-neon/50 border-axon-neon/50"),children:a.jsx(Wr,{className:"w-3.5 h-3.5 text-axon-obsidian group-hover:scale-110 transition-transform"})}),a.jsx(_e,{children:b&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>A(!1)}),a.jsxs($.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute right-0 mt-2 w-40 bg-white border border-gray-200 rounded-swiss shadow-xl z-50 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{t("/scan"),A(!1)},className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-gray-50 transition-colors border-b border-gray-100",children:[a.jsx(Qt,{className:"w-4 h-4 text-axon-obsidian"}),a.jsx("span",{className:"text-xs font-bold text-axon-obsidian uppercase tracking-wider",children:"Scan"})]}),a.jsxs("button",{onClick:()=>{N(!0),A(!1)},className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-gray-50 transition-colors",children:[a.jsx(Wr,{className:"w-4 h-4 text-axon-obsidian"}),a.jsx("span",{className:"text-xs font-bold text-axon-obsidian uppercase tracking-wider",children:"My QR"})]})]})]})})]}),a.jsx("button",{className:"w-8 h-8 rounded-full border border-gray-200 flex items-center justify-center bg-white hover:bg-gray-50 transition shadow-sm group",children:a.jsx(Io,{className:"w-3.5 h-3.5 text-axon-obsidian group-hover:rotate-12 transition-transform"})}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-blue-600 to-indigo-600 border-2 border-white shadow-md ring-1 ring-gray-100"})]})]}),a.jsxs("div",{className:"px-6 space-y-5 pt-2",children:[a.jsxs($.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 px-2 py-1 -ml-2",children:[a.jsx(ks,{className:"w-3.5 h-3.5 text-primary animate-pulse"}),a.jsx("span",{className:"text-[10px] font-bold tracking-widest uppercase text-axon-steel",children:e||"LOCATING..."})]}),a.jsx("h2",{className:"text-3xl font-extrabold text-axon-obsidian tracking-tighter leading-none mb-2",children:oe}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>B(!g),className:J("bg-white border border-gray-200 px-3 py-1.5 rounded-full flex items-center gap-2 transition shadow-sm group hover:bg-gray-50",k&&"ring-2 ring-axon-neon ring-offset-1"),children:[a.jsx("div",{className:J("w-4 h-4 rounded-full flex items-center justify-center text-white text-[8px] font-bold",Ct),children:qr}),a.jsx("span",{className:"text-sm font-bold text-axon-obsidian",children:Re}),a.jsx(la,{className:J("w-3.5 h-3.5 text-axon-steel group-hover:text-axon-obsidian transition-transform",g&&"rotate-180")})]}),a.jsx(_e,{children:g&&a.jsx($.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute top-full left-0 mt-2 w-48 bg-white border border-gray-200 rounded-swiss shadow-xl z-50 overflow-hidden",children:ve.map(q=>a.jsxs("button",{onClick:()=>{E(q),B(!1)},className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0",children:[a.jsx("div",{className:J("w-6 h-6 rounded-full flex items-center justify-center text-white text-[10px] font-bold",q.color),children:q.icon}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-bold text-xs text-axon-obsidian",children:q.symbol}),a.jsx("p",{className:"text-[10px] text-axon-steel font-mono",children:i[q.symbol]||"0.00"})]})]},q.symbol))})})]}),a.jsxs("span",{className:"text-sm font-mono text-axon-steel",children:[s&&l?a.jsx(Fe,{className:"w-3 h-3 animate-spin inline mr-1"}):null,k?a.jsxs("span",{className:"text-[10px] bg-axon-obsidian text-axon-neon px-1.5 py-0.5 rounded font-bold uppercase tracking-wider flex items-center gap-1",children:[a.jsx(je,{className:"w-3 h-3"}),"SUBSIDI PAYMASTER"]}):`â‰ˆ $${oe} USD`]})]})]}),a.jsxs($.div,{className:"grid grid-cols-2 gap-3",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4,delay:.1},children:[a.jsxs("button",{onClick:()=>M(!0),className:"h-12 bg-white border border-gray-200 rounded-swiss flex items-center justify-center gap-2 hover:bg-gray-50 hover:border-gray-300 transition group shadow-sm",children:[a.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-100 flex items-center justify-center group-hover:bg-axon-neon/10 transition-colors",children:a.jsx(wr,{className:"w-3 h-3 text-axon-obsidian group-hover:text-axon-neon transition-colors"})}),a.jsx("span",{className:"text-xs font-bold text-axon-obsidian uppercase tracking-wide",children:"SWAP USD"})]}),a.jsxs("button",{onClick:()=>t("/create-snap"),className:"h-12 bg-white border border-gray-200 rounded-swiss flex items-center justify-center gap-2 hover:bg-gray-50 hover:border-gray-300 transition group shadow-sm",children:[a.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-100 flex items-center justify-center group-hover:bg-primary/10 transition-colors",children:a.jsx(Qe,{className:"w-3 h-3 text-axon-obsidian group-hover:text-primary transition-colors"})}),a.jsx("span",{className:"text-xs font-bold text-axon-obsidian uppercase tracking-wide",children:"AXON Snap"})]})]}),a.jsxs($.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4,delay:.2},className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-end border-b border-gray-200 pb-2",children:[a.jsx("h3",{className:"font-bold text-xs text-axon-steel uppercase tracking-wider",children:"ASSETS"}),a.jsx("span",{className:"text-[10px] font-mono text-axon-steel",children:"Swipe to explore"})]}),a.jsx("div",{className:"flex gap-4 overflow-x-auto snap-x snap-mandatory no-scrollbar pb-4 -mx-6 px-6",children:p.map((q,te)=>a.jsx($.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.25+te*.05},className:"min-w-[260px] snap-center",children:a.jsxs("div",{onClick:()=>{C(q),y(!0)},className:"bg-white rounded-swiss border border-gray-200 p-4 shadow-sm hover:shadow-md transition-all group relative overflow-hidden cursor-pointer active:scale-95",children:[a.jsx("div",{className:J("absolute -right-4 -bottom-4 w-24 h-24 blur-3xl opacity-5",q.color)}),a.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:J("w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-sm",q.color),children:q.icon}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-sm text-axon-obsidian",children:q.symbol}),a.jsxs("p",{className:"text-[10px] text-primary lowercase font-black tracking-tight italic",children:["Rp",q.valueInIdr]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-md font-mono text-axon-obsidian",children:q.balance}),a.jsxs("div",{className:"flex items-center justify-end gap-1 mt-0.5",children:[q.change24h>=0?a.jsx(wr,{className:"w-3 h-3 text-green-600"}):a.jsx(oa,{className:"w-3 h-3 text-red-600"}),a.jsxs("span",{className:J("text-[10px] font-mono font-bold",q.change24h>=0?"text-green-600":"text-red-600"),children:[q.change24h>=0?"+":"",q.change24h,"%"]})]})]})]}),a.jsx("div",{className:"mt-4 h-6 w-full opacity-20 group-hover:opacity-40 transition-opacity",children:a.jsx("svg",{viewBox:"0 0 100 20",className:"w-full h-full overflow-visible",children:a.jsx("path",{d:q.change24h>=0?"M0,15 Q25,10 50,12 T100,2":"M0,5 Q25,12 50,10 T100,18",fill:"none",stroke:q.change24h>=0?"#10b981":"#ef4444",strokeWidth:"2",strokeLinecap:"round"})})})]})},q.symbol))})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-end border-b border-gray-200 pb-2",children:[a.jsx("h3",{className:"font-bold text-xs text-axon-steel uppercase tracking-wider",children:"RECENT"}),a.jsx("button",{onClick:()=>t("/history"),className:"text-[10px] font-mono font-bold text-primary hover:text-primary/80 transition uppercase tracking-wide",children:"VIEW ALL"})]}),a.jsx("div",{className:"space-y-2",children:d?a.jsx("div",{className:"text-center py-4",children:a.jsx(Fe,{className:"w-4 h-4 text-axon-steel animate-spin mx-auto"})}):x.length>0?x.slice(0,3).map((q,te)=>a.jsx($.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3+te*.05},className:"group",children:a.jsxs("div",{className:"flex justify-between items-center py-2 hover:bg-white px-2 rounded-lg transition -mx-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-9 h-9 bg-gray-100 rounded-swiss items-center justify-center text-sm border border-gray-200 group-hover:border-axon-neon transition-colors flex",children:q.type==="receive"?a.jsx(Dr,{className:"w-4 h-4 rotate-180 text-axon-steel"}):a.jsx(Dr,{className:"w-4 h-4 text-axon-steel"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-sm text-axon-obsidian",children:q.title}),a.jsx("p",{className:"text-xs text-axon-steel font-mono",children:q.date})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:J("font-bold text-sm font-mono",q.type==="receive"?"text-axon-ether":"text-axon-obsidian"),children:q.amount}),a.jsxs("div",{className:"flex items-center justify-end gap-1 mt-0.5",children:[a.jsx("div",{className:J("w-1 h-1 rounded-full",q.status==="CONFIRMED"?"bg-axon-ether":"bg-yellow-500")}),a.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wide",children:q.status})]})]})]})},q.id||te)):a.jsx("div",{className:"text-center py-4 border border-dashed border-gray-200 rounded-lg",children:a.jsx("p",{className:"text-[10px] text-gray-400 font-mono uppercase tracking-wide",children:"No on-chain activity found"})})})]})]}),a.jsx(_e,{children:w&&a.jsxs(a.Fragment,{children:[a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[90]"}),a.jsx($.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"fixed inset-x-6 top-[25%] z-[100] bg-white rounded-[24px] p-6 shadow-2xl border border-gray-200",children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-axon-obsidian rounded-full flex items-center justify-center mb-2 shadow-lg shadow-axon-obsidian/30",children:a.jsx("span",{className:"text-2xl",children:"ðŸ‡®ðŸ‡©"})}),a.jsx("h2",{className:"text-xl font-black text-axon-obsidian uppercase tracking-tight leading-none",children:"Welcome to Indonesia"}),a.jsxs("p",{className:"text-sm text-axon-steel font-medium leading-relaxed",children:["We detected you are currently in Indonesia. Would you like to enable ",a.jsx("span",{className:"text-axon-obsidian font-bold",children:"Auto-Conversion"})," for your USD assets to ",a.jsx("span",{className:"font-bold text-red-600",children:"IDRX"}),"?"]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl border border-gray-100 w-full text-left flex items-start gap-3",children:[a.jsx(Ns,{className:"w-5 h-5 text-axon-obsidian shrink-0 mt-0.5"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-bold text-axon-obsidian uppercase",children:"Subsidi Paymaster Active"}),a.jsx("p",{className:"text-[10px] text-gray-500",children:"Gas fees and conversion rates are subsidized for local transactions."})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full pt-2",children:[a.jsx(Oe,{onClick:Ke,variant:"secondary",className:"!h-12 !text-xs",children:"KEEP USD"}),a.jsxs(Oe,{onClick:ne,disabled:U,className:"!h-12 !text-xs !bg-axon-neon !text-axon-obsidian !font-black flex items-center justify-center gap-2",children:[U?a.jsx(Fe,{className:"w-4 h-4 animate-spin"}):null,U?"PROCESSING...":"CONVERT TO IDRX"]})]})]})})]})}),a.jsx(Al,{isOpen:V,onClose:()=>M(!1),balances:i,onSwap:q=>ne(q),isPending:U}),m&&a.jsx(Bl,{isOpen:v,onClose:()=>y(!1),asset:m,idrValue:m.valueInIdr,transactions:x}),a.jsx(_e,{children:F&&a.jsxs(a.Fragment,{children:[a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>N(!1),className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[110]"}),a.jsxs($.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"fixed inset-x-6 top-[20%] z-[120] bg-white rounded-[32px] p-8 shadow-2xl border border-gray-200 flex flex-col items-center text-center",children:[a.jsx("button",{onClick:()=>N(!1),className:"absolute top-6 right-6 p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(ct,{className:"w-5 h-5 text-gray-400"})}),a.jsx("div",{className:"w-12 h-12 bg-axon-obsidian rounded-2xl flex items-center justify-center mb-6 shadow-lg shadow-axon-obsidian/20",children:a.jsx(Wr,{className:"w-6 h-6 text-axon-neon"})}),a.jsx("h2",{className:"text-2xl font-black text-axon-obsidian uppercase tracking-tight leading-none mb-2",children:P.name||"AXON USER"}),a.jsx("p",{className:"text-xs text-axon-steel font-mono mb-8 break-all max-w-[200px]",children:T}),a.jsx("div",{className:"p-6 bg-white border-2 border-gray-100 rounded-3xl shadow-inner mb-8",children:a.jsx($s,{value:T||"",size:200,level:"H",includeMargin:!1,className:"rounded-lg"})}),a.jsx("p",{className:"text-[10px] text-axon-steel font-bold uppercase tracking-[0.2em] mb-6",children:"Scan to send assets"}),a.jsx(Oe,{onClick:()=>N(!1),variant:"secondary",className:"!h-12 !w-full !text-xs !font-black !rounded-xl",children:"CLOSE"})]})]})})]})}function Pl(){const{isConnected:t}=Ee(),{transactions:e,isLoading:r}=Oa();return a.jsxs("div",{className:"min-h-screen bg-[#F5F5F7] pb-24 font-sans text-axon-obsidian",children:[a.jsxs("div",{className:"relative px-6 pt-8 pb-4 sticky top-0 z-30",children:[a.jsx("div",{className:"absolute inset-0 bg-white/85 backdrop-blur-xl border-b border-gray-200"}),a.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[radial-gradient(#000_1px,transparent_1px)] [background-size:16px_16px]"}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-lg font-black tracking-tight text-axon-obsidian font-mono uppercase",children:"On-Chain Activity"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[10px] font-bold text-gray-400 font-mono",children:"RPC: CDP LIVE"}),a.jsx("button",{className:"w-6 h-6 rounded-sm bg-gray-100 flex items-center justify-center border border-gray-200 hover:bg-gray-200 transition",children:a.jsx(Oo,{className:"w-3 h-3 text-axon-obsidian"})})]})]}),a.jsxs("div",{className:"relative group",children:[a.jsx(Ro,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gray-400 group-focus-within:text-primary transition-colors"}),a.jsx("input",{type:"text",placeholder:"Search hash or address...",className:"w-full bg-gray-50/50 border border-gray-200 rounded-sm pl-9 pr-3 py-2 text-xs font-mono focus:outline-none focus:bg-white focus:ring-1 focus:ring-primary focus:border-primary transition-all"})]})]})]}),a.jsx("div",{className:"px-6 py-4 space-y-6",children:t?r?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Fe,{className:"w-6 h-6 text-axon-obsidian animate-spin mb-2"}),a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Scanning Blocks..."})]}):e.length===0?a.jsxs("div",{className:"text-center py-10 bg-white rounded-swiss border border-gray-200",children:[a.jsx(ca,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),a.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-1",children:"No Recent Transactions"}),a.jsx("p",{className:"text-[10px] text-gray-300 max-w-[200px] mx-auto",children:"Scanned last 20 blocks via CDP RPC. Make a transaction to see it here."})]}):a.jsxs("div",{children:[a.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 pl-1",children:"Recent Activity"}),a.jsx("div",{className:"space-y-2",children:e.map((s,n)=>a.jsx($.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:n*.05},children:a.jsxs("div",{className:"group flex items-center justify-between p-3 bg-white border border-gray-200 rounded-swiss hover:shadow-md hover:border-primary/30 transition-all cursor-pointer",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:J("w-10 h-10 rounded-md flex items-center justify-center border transition-colors relative overflow-hidden",s.type==="send"?"bg-orange-50 border-orange-100":"bg-axon-ether/10 border-axon-ether/20"),children:s.type==="send"?a.jsx(Dr,{className:"w-5 h-5 text-orange-600 relative z-10"}):a.jsx(ia,{className:"w-5 h-5 text-axon-ether relative z-10"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-axon-obsidian text-sm uppercase",children:s.title}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[10px] font-mono text-gray-400",children:s.date}),a.jsx("span",{className:"w-1 h-1 rounded-full bg-green-500"}),a.jsx("span",{className:"text-[10px] font-mono text-axon-steel",children:s.status})]})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:J("font-bold text-sm font-mono tracking-tight",s.type==="receive"?"text-axon-ether":"text-axon-obsidian"),children:s.amount})})]})},s.id))})]}):a.jsx("div",{className:"text-center py-10",children:a.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Connect Wallet to view history"})})})]})}var Qa={exports:{}};(function(t,e){(function(s,n){t.exports=n(D)})(jt,function(r){return function(s){var n={};function o(i){if(n[i])return n[i].exports;var l=n[i]={i,l:!1,exports:{}};return s[i].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=s,o.c=n,o.d=function(i,l,x){o.o(i,l)||Object.defineProperty(i,l,{enumerable:!0,get:x})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,l){if(l&1&&(i=o(i)),l&8||l&4&&typeof i=="object"&&i&&i.__esModule)return i;var x=Object.create(null);if(o.r(x),Object.defineProperty(x,"default",{enumerable:!0,value:i}),l&2&&typeof i!="string")for(var d in i)o.d(x,d,(function(c){return i[c]}).bind(null,d));return x},o.n=function(i){var l=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(l,"a",l),l},o.o=function(i,l){return Object.prototype.hasOwnProperty.call(i,l)},o.p="",o(o.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(s,n,o){o.r(n);var i=o("react"),l=function(){var u=function(p,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,m){E.__proto__=m}||function(E,m){for(var C in m)m.hasOwnProperty(C)&&(E[C]=m[C])},u(p,f)};return function(p,f){u(p,f);function E(){this.constructor=p}p.prototype=f===null?Object.create(f):(E.prototype=f.prototype,new E)}}(),x=function(){return x=Object.assign||function(u){for(var p,f=1,E=arguments.length;f<E;f++){p=arguments[f];for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(u[m]=p[m])}return u},x.apply(this,arguments)},d=function(u,p){var f={};for(var E in u)Object.prototype.hasOwnProperty.call(u,E)&&p.indexOf(E)<0&&(f[E]=u[E]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,E=Object.getOwnPropertySymbols(u);m<E.length;m++)p.indexOf(E[m])<0&&Object.prototype.propertyIsEnumerable.call(u,E[m])&&(f[E[m]]=u[E[m]]);return f};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(p){var f=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return f?new Promise(function(E,m){f.call(navigator,p,E,m)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function c(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var h=function(u){l(p,u);function p(f){var E=u.call(this,f)||this;return E.canvas=null,E.ctx=null,E.requestUserMediaId=0,E.unmounted=!1,E.state={hasUserMedia:!1},E}return p.prototype.componentDidMount=function(){var f=this,E=f.state,m=f.props;if(this.unmounted=!1,!c()){m.onUserMediaError("getUserMedia not supported");return}E.hasUserMedia||this.requestUserMedia(),m.children&&typeof m.children!="function"&&console.warn("children must be a function")},p.prototype.componentDidUpdate=function(f){var E=this.props;if(!c()){E.onUserMediaError("getUserMedia not supported");return}var m=JSON.stringify(f.audioConstraints)!==JSON.stringify(E.audioConstraints),C=JSON.stringify(f.videoConstraints)!==JSON.stringify(E.videoConstraints),v=f.minScreenshotWidth!==E.minScreenshotWidth,y=f.minScreenshotHeight!==E.minScreenshotHeight;(C||v||y)&&(this.canvas=null,this.ctx=null),(m||C)&&(this.stopAndCleanup(),this.requestUserMedia())},p.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},p.stopMediaStream=function(f){f&&(f.getVideoTracks&&f.getAudioTracks?(f.getVideoTracks().map(function(E){f.removeTrack(E),E.stop()}),f.getAudioTracks().map(function(E){f.removeTrack(E),E.stop()})):f.stop())},p.prototype.stopAndCleanup=function(){var f=this.state;f.hasUserMedia&&(p.stopMediaStream(this.stream),f.src&&window.URL.revokeObjectURL(f.src))},p.prototype.getScreenshot=function(f){var E=this,m=E.state,C=E.props;if(!m.hasUserMedia)return null;var v=this.getCanvas(f);return v&&v.toDataURL(C.screenshotFormat,C.screenshotQuality)},p.prototype.getCanvas=function(f){var E=this,m=E.state,C=E.props;if(!this.video||!m.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var v=this.video.videoWidth,y=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var g=v/y;v=C.minScreenshotWidth||this.video.clientWidth,y=v/g,C.minScreenshotHeight&&y<C.minScreenshotHeight&&(y=C.minScreenshotHeight,v=y*g)}this.canvas=document.createElement("canvas"),this.canvas.width=(f==null?void 0:f.width)||v,this.canvas.height=(f==null?void 0:f.height)||y,this.ctx=this.canvas.getContext("2d")}var B=this,b=B.ctx,A=B.canvas;return b&&A&&(A.width=(f==null?void 0:f.width)||A.width,A.height=(f==null?void 0:f.height)||A.height,C.mirrored&&(b.translate(A.width,0),b.scale(-1,1)),b.imageSmoothingEnabled=C.imageSmoothing,b.drawImage(this.video,0,0,(f==null?void 0:f.width)||A.width,(f==null?void 0:f.height)||A.height),C.mirrored&&(b.scale(-1,1),b.translate(-A.width,0))),A},p.prototype.requestUserMedia=function(){var f=this,E=this.props,m=function(y,g){var B={video:typeof g<"u"?g:!0};E.audio&&(B.audio=typeof y<"u"?y:!0),f.requestUserMediaId++;var b=f.requestUserMediaId;navigator.mediaDevices.getUserMedia(B).then(function(A){f.unmounted||b!==f.requestUserMediaId?p.stopMediaStream(A):f.handleUserMedia(null,A)}).catch(function(A){f.handleUserMedia(A)})};if("mediaDevices"in navigator)m(E.audioConstraints,E.videoConstraints);else{var C=function(y){return{optional:[{sourceId:y}]}},v=function(y){var g=y.deviceId;return typeof g=="string"?g:Array.isArray(g)&&g.length>0?g[0]:typeof g=="object"&&g.ideal?g.ideal:null};MediaStreamTrack.getSources(function(y){var g=null,B=null;y.forEach(function(F){F.kind==="audio"?g=F.id:F.kind==="video"&&(B=F.id)});var b=v(E.audioConstraints);b&&(g=b);var A=v(E.videoConstraints);A&&(B=A),m(C(g),C(B))})}},p.prototype.handleUserMedia=function(f,E){var m=this.props;if(f||!E){this.setState({hasUserMedia:!1}),m.onUserMediaError(f);return}this.stream=E;try{this.video&&(this.video.srcObject=E),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(E)})}m.onUserMedia(E)},p.prototype.render=function(){var f=this,E=this,m=E.state,C=E.props,v=C.audio;C.forceScreenshotSourceSize;var y=C.disablePictureInPicture;C.onUserMedia,C.onUserMediaError,C.screenshotFormat,C.screenshotQuality,C.minScreenshotWidth,C.minScreenshotHeight,C.audioConstraints,C.videoConstraints,C.imageSmoothing;var g=C.mirrored,B=C.style,b=B===void 0?{}:B,A=C.children,F=d(C,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),N=g?x(x({},b),{transform:(b.transform||"")+" scaleX(-1)"}):b,P={getScreenshot:this.getScreenshot.bind(this)};return i.createElement(i.Fragment,null,i.createElement("video",x({autoPlay:!0,disablePictureInPicture:y,src:m.src,muted:!v,playsInline:!0,ref:function(T){f.video=T},style:N},F)),A&&A(P))},p.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},p}(i.Component);n.default=h},react:function(s,n){s.exports=r}}).default})})(Qa);var Il=Qa.exports;const Ol=Ts(Il);var Ya={exports:{}};(function(t,e){(function(s,n){t.exports=n()})(typeof self<"u"?self:jt,function(){return function(r){var s={};function n(o){if(s[o])return s[o].exports;var i=s[o]={i:o,l:!1,exports:{}};return r[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=r,n.c=s,n.d=function(o,i,l){n.o(o,i)||Object.defineProperty(o,i,{configurable:!1,enumerable:!0,get:l})},n.n=function(o){var i=o&&o.__esModule?function(){return o.default}:function(){return o};return n.d(i,"a",i),i},n.o=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)},n.p="",n(n.s=3)}([function(r,s,n){Object.defineProperty(s,"__esModule",{value:!0});var o=function(){function i(l,x){this.width=x,this.height=l.length/x,this.data=l}return i.createEmpty=function(l,x){return new i(new Uint8ClampedArray(l*x),l)},i.prototype.get=function(l,x){return l<0||l>=this.width||x<0||x>=this.height?!1:!!this.data[x*this.width+l]},i.prototype.set=function(l,x,d){this.data[x*this.width+l]=d?1:0},i.prototype.setRegion=function(l,x,d,c,h){for(var u=x;u<x+c;u++)for(var p=l;p<l+d;p++)this.set(p,u,!!h)},i}();s.BitMatrix=o},function(r,s,n){Object.defineProperty(s,"__esModule",{value:!0});var o=n(2);function i(x,d){return x^d}s.addOrSubtractGF=i;var l=function(){function x(d,c,h){this.primitive=d,this.size=c,this.generatorBase=h,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var u=1,p=0;p<this.size;p++)this.expTable[p]=u,u=u*2,u>=this.size&&(u=(u^this.primitive)&this.size-1);for(var p=0;p<this.size-1;p++)this.logTable[this.expTable[p]]=p;this.zero=new o.default(this,Uint8ClampedArray.from([0])),this.one=new o.default(this,Uint8ClampedArray.from([1]))}return x.prototype.multiply=function(d,c){return d===0||c===0?0:this.expTable[(this.logTable[d]+this.logTable[c])%(this.size-1)]},x.prototype.inverse=function(d){if(d===0)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[d]-1]},x.prototype.buildMonomial=function(d,c){if(d<0)throw new Error("Invalid monomial degree less than 0");if(c===0)return this.zero;var h=new Uint8ClampedArray(d+1);return h[0]=c,new o.default(this,h)},x.prototype.log=function(d){if(d===0)throw new Error("Can't take log(0)");return this.logTable[d]},x.prototype.exp=function(d){return this.expTable[d]},x}();s.default=l},function(r,s,n){Object.defineProperty(s,"__esModule",{value:!0});var o=n(1),i=function(){function l(x,d){if(d.length===0)throw new Error("No coefficients.");this.field=x;var c=d.length;if(c>1&&d[0]===0){for(var h=1;h<c&&d[h]===0;)h++;if(h===c)this.coefficients=x.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(c-h);for(var u=0;u<this.coefficients.length;u++)this.coefficients[u]=d[h+u]}}else this.coefficients=d}return l.prototype.degree=function(){return this.coefficients.length-1},l.prototype.isZero=function(){return this.coefficients[0]===0},l.prototype.getCoefficient=function(x){return this.coefficients[this.coefficients.length-1-x]},l.prototype.addOrSubtract=function(x){var d;if(this.isZero())return x;if(x.isZero())return this;var c=this.coefficients,h=x.coefficients;c.length>h.length&&(d=[h,c],c=d[0],h=d[1]);for(var u=new Uint8ClampedArray(h.length),p=h.length-c.length,f=0;f<p;f++)u[f]=h[f];for(var f=p;f<h.length;f++)u[f]=o.addOrSubtractGF(c[f-p],h[f]);return new l(this.field,u)},l.prototype.multiply=function(x){if(x===0)return this.field.zero;if(x===1)return this;for(var d=this.coefficients.length,c=new Uint8ClampedArray(d),h=0;h<d;h++)c[h]=this.field.multiply(this.coefficients[h],x);return new l(this.field,c)},l.prototype.multiplyPoly=function(x){if(this.isZero()||x.isZero())return this.field.zero;for(var d=this.coefficients,c=d.length,h=x.coefficients,u=h.length,p=new Uint8ClampedArray(c+u-1),f=0;f<c;f++)for(var E=d[f],m=0;m<u;m++)p[f+m]=o.addOrSubtractGF(p[f+m],this.field.multiply(E,h[m]));return new l(this.field,p)},l.prototype.multiplyByMonomial=function(x,d){if(x<0)throw new Error("Invalid degree less than 0");if(d===0)return this.field.zero;for(var c=this.coefficients.length,h=new Uint8ClampedArray(c+x),u=0;u<c;u++)h[u]=this.field.multiply(this.coefficients[u],d);return new l(this.field,h)},l.prototype.evaluateAt=function(x){var d=0;if(x===0)return this.getCoefficient(0);var c=this.coefficients.length;if(x===1)return this.coefficients.forEach(function(u){d=o.addOrSubtractGF(d,u)}),d;d=this.coefficients[0];for(var h=1;h<c;h++)d=o.addOrSubtractGF(this.field.multiply(x,d),this.coefficients[h]);return d},l}();s.default=i},function(r,s,n){Object.defineProperty(s,"__esModule",{value:!0});var o=n(4),i=n(5),l=n(11),x=n(12);function d(u){var p=x.locate(u);if(!p)return null;for(var f=0,E=p;f<E.length;f++){var m=E[f],C=l.extract(u,m),v=i.decode(C.matrix);if(v)return{binaryData:v.bytes,data:v.text,chunks:v.chunks,version:v.version,location:{topRightCorner:C.mappingFunction(m.dimension,0),topLeftCorner:C.mappingFunction(0,0),bottomRightCorner:C.mappingFunction(m.dimension,m.dimension),bottomLeftCorner:C.mappingFunction(0,m.dimension),topRightFinderPattern:m.topRight,topLeftFinderPattern:m.topLeft,bottomLeftFinderPattern:m.bottomLeft,bottomRightAlignmentPattern:m.alignmentPattern}}}return null}var c={inversionAttempts:"attemptBoth"};function h(u,p,f,E){E===void 0&&(E={});var m=c;Object.keys(m||{}).forEach(function(A){m[A]=E[A]||m[A]});var C=m.inversionAttempts==="attemptBoth"||m.inversionAttempts==="invertFirst",v=m.inversionAttempts==="onlyInvert"||m.inversionAttempts==="invertFirst",y=o.binarize(u,p,f,C),g=y.binarized,B=y.inverted,b=d(v?B:g);return!b&&(m.inversionAttempts==="attemptBoth"||m.inversionAttempts==="invertFirst")&&(b=d(v?g:B)),b}h.default=h,s.default=h},function(r,s,n){Object.defineProperty(s,"__esModule",{value:!0});var o=n(0),i=8,l=24;function x(h,u,p){return h<u?u:h>p?p:h}var d=function(){function h(u,p){this.width=u,this.data=new Uint8ClampedArray(u*p)}return h.prototype.get=function(u,p){return this.data[p*this.width+u]},h.prototype.set=function(u,p,f){this.data[p*this.width+u]=f},h}();function c(h,u,p,f){if(h.length!==u*p*4)throw new Error("Malformed data passed to binarizer.");for(var E=new d(u,p),m=0;m<u;m++)for(var C=0;C<p;C++){var v=h[(C*u+m)*4+0],y=h[(C*u+m)*4+1],g=h[(C*u+m)*4+2];E.set(m,C,.2126*v+.7152*y+.0722*g)}for(var B=Math.ceil(u/i),b=Math.ceil(p/i),A=new d(B,b),F=0;F<b;F++)for(var N=0;N<B;N++){for(var P=0,T=1/0,j=0,C=0;C<i;C++)for(var m=0;m<i;m++){var V=E.get(N*i+m,F*i+C);P+=V,T=Math.min(T,V),j=Math.max(j,V)}var M=P/Math.pow(i,2);if(j-T<=l&&(M=T/2,F>0&&N>0)){var w=(A.get(N,F-1)+2*A.get(N-1,F)+A.get(N-1,F-1))/4;T<w&&(M=w)}A.set(N,F,M)}var _=o.BitMatrix.createEmpty(u,p),k=null;f&&(k=o.BitMatrix.createEmpty(u,p));for(var F=0;F<b;F++)for(var N=0;N<B;N++){for(var I=x(N,2,B-3),L=x(F,2,b-3),P=0,R=-2;R<=2;R++)for(var O=-2;O<=2;O++)P+=A.get(I+R,L+O);for(var Q=P/25,R=0;R<i;R++)for(var O=0;O<i;O++){var m=N*i+R,C=F*i+O,se=E.get(m,C);_.set(m,C,se<=Q),f&&k.set(m,C,!(se<=Q))}}return f?{binarized:_,inverted:k}:{binarized:_}}s.binarize=c},function(r,s,n){Object.defineProperty(s,"__esModule",{value:!0});var o=n(0),i=n(6),l=n(9),x=n(10);function d(g,B){for(var b=g^B,A=0;b;)A++,b&=b-1;return A}function c(g,B){return B<<1|g}var h=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],u=[function(g){return(g.y+g.x)%2===0},function(g){return g.y%2===0},function(g){return g.x%3===0},function(g){return(g.y+g.x)%3===0},function(g){return(Math.floor(g.y/2)+Math.floor(g.x/3))%2===0},function(g){return g.x*g.y%2+g.x*g.y%3===0},function(g){return(g.y*g.x%2+g.y*g.x%3)%2===0},function(g){return((g.y+g.x)%2+g.y*g.x%3)%2===0}];function p(g){var B=17+4*g.versionNumber,b=o.BitMatrix.createEmpty(B,B);b.setRegion(0,0,9,9,!0),b.setRegion(B-8,0,8,9,!0),b.setRegion(0,B-8,9,8,!0);for(var A=0,F=g.alignmentPatternCenters;A<F.length;A++)for(var N=F[A],P=0,T=g.alignmentPatternCenters;P<T.length;P++){var j=T[P];N===6&&j===6||N===6&&j===B-7||N===B-7&&j===6||b.setRegion(N-2,j-2,5,5,!0)}return b.setRegion(6,9,1,B-17,!0),b.setRegion(9,6,B-17,1,!0),g.versionNumber>6&&(b.setRegion(B-11,0,3,6,!0),b.setRegion(0,B-11,6,3,!0)),b}function f(g,B,b){for(var A=u[b.dataMask],F=g.height,N=p(B),P=[],T=0,j=0,V=!0,M=F-1;M>0;M-=2){M===6&&M--;for(var w=0;w<F;w++)for(var _=V?F-1-w:w,k=0;k<2;k++){var I=M-k;if(!N.get(I,_)){j++;var L=g.get(I,_);A({y:_,x:I})&&(L=!L),T=c(L,T),j===8&&(P.push(T),j=0,T=0)}}V=!V}return P}function E(g){var B=g.height,b=Math.floor((B-17)/4);if(b<=6)return x.VERSIONS[b-1];for(var A=0,F=5;F>=0;F--)for(var N=B-9;N>=B-11;N--)A=c(g.get(N,F),A);for(var P=0,N=5;N>=0;N--)for(var F=B-9;F>=B-11;F--)P=c(g.get(N,F),P);for(var T=1/0,j,V=0,M=x.VERSIONS;V<M.length;V++){var w=M[V];if(w.infoBits===A||w.infoBits===P)return w;var _=d(A,w.infoBits);_<T&&(j=w,T=_),_=d(P,w.infoBits),_<T&&(j=w,T=_)}if(T<=3)return j}function m(g){for(var B=0,b=0;b<=8;b++)b!==6&&(B=c(g.get(b,8),B));for(var A=7;A>=0;A--)A!==6&&(B=c(g.get(8,A),B));for(var F=g.height,N=0,A=F-1;A>=F-7;A--)N=c(g.get(8,A),N);for(var b=F-8;b<F;b++)N=c(g.get(b,8),N);for(var P=1/0,T=null,j=0,V=h;j<V.length;j++){var M=V[j],w=M.bits,_=M.formatInfo;if(w===B||w===N)return _;var k=d(B,w);k<P&&(T=_,P=k),B!==N&&(k=d(N,w),k<P&&(T=_,P=k))}return P<=3?T:null}function C(g,B,b){var A=B.errorCorrectionLevels[b],F=[],N=0;if(A.ecBlocks.forEach(function(L){for(var R=0;R<L.numBlocks;R++)F.push({numDataCodewords:L.dataCodewordsPerBlock,codewords:[]}),N+=L.dataCodewordsPerBlock+A.ecCodewordsPerBlock}),g.length<N)return null;g=g.slice(0,N);for(var P=A.ecBlocks[0].dataCodewordsPerBlock,T=0;T<P;T++)for(var j=0,V=F;j<V.length;j++){var M=V[j];M.codewords.push(g.shift())}if(A.ecBlocks.length>1)for(var w=A.ecBlocks[0].numBlocks,_=A.ecBlocks[1].numBlocks,T=0;T<_;T++)F[w+T].codewords.push(g.shift());for(;g.length>0;)for(var k=0,I=F;k<I.length;k++){var M=I[k];M.codewords.push(g.shift())}return F}function v(g){var B=E(g);if(!B)return null;var b=m(g);if(!b)return null;var A=f(g,B,b),F=C(A,B,b.errorCorrectionLevel);if(!F)return null;for(var N=F.reduce(function(k,I){return k+I.numDataCodewords},0),P=new Uint8ClampedArray(N),T=0,j=0,V=F;j<V.length;j++){var M=V[j],w=l.decode(M.codewords,M.codewords.length-M.numDataCodewords);if(!w)return null;for(var _=0;_<M.numDataCodewords;_++)P[T++]=w[_]}try{return i.decode(P,B.versionNumber)}catch{return null}}function y(g){if(g==null)return null;var B=v(g);if(B)return B;for(var b=0;b<g.width;b++)for(var A=b+1;A<g.height;A++)g.get(b,A)!==g.get(A,b)&&(g.set(b,A,!g.get(b,A)),g.set(A,b,!g.get(A,b)));return v(g)}s.decode=y},function(r,s,n){Object.defineProperty(s,"__esModule",{value:!0});var o=n(7),i=n(8),l;(function(E){E.Numeric="numeric",E.Alphanumeric="alphanumeric",E.Byte="byte",E.Kanji="kanji",E.ECI="eci"})(l=s.Mode||(s.Mode={}));var x;(function(E){E[E.Terminator=0]="Terminator",E[E.Numeric=1]="Numeric",E[E.Alphanumeric=2]="Alphanumeric",E[E.Byte=4]="Byte",E[E.Kanji=8]="Kanji",E[E.ECI=7]="ECI"})(x||(x={}));function d(E,m){for(var C=[],v="",y=[10,12,14][m],g=E.readBits(y);g>=3;){var B=E.readBits(10);if(B>=1e3)throw new Error("Invalid numeric value above 999");var b=Math.floor(B/100),A=Math.floor(B/10)%10,F=B%10;C.push(48+b,48+A,48+F),v+=b.toString()+A.toString()+F.toString(),g-=3}if(g===2){var B=E.readBits(7);if(B>=100)throw new Error("Invalid numeric value above 99");var b=Math.floor(B/10),A=B%10;C.push(48+b,48+A),v+=b.toString()+A.toString()}else if(g===1){var B=E.readBits(4);if(B>=10)throw new Error("Invalid numeric value above 9");C.push(48+B),v+=B.toString()}return{bytes:C,text:v}}var c=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function h(E,m){for(var C=[],v="",y=[9,11,13][m],g=E.readBits(y);g>=2;){var B=E.readBits(11),b=Math.floor(B/45),A=B%45;C.push(c[b].charCodeAt(0),c[A].charCodeAt(0)),v+=c[b]+c[A],g-=2}if(g===1){var b=E.readBits(6);C.push(c[b].charCodeAt(0)),v+=c[b]}return{bytes:C,text:v}}function u(E,m){for(var C=[],v="",y=[8,16,16][m],g=E.readBits(y),B=0;B<g;B++){var b=E.readBits(8);C.push(b)}try{v+=decodeURIComponent(C.map(function(A){return"%"+("0"+A.toString(16)).substr(-2)}).join(""))}catch{}return{bytes:C,text:v}}function p(E,m){for(var C=[],v="",y=[8,10,12][m],g=E.readBits(y),B=0;B<g;B++){var b=E.readBits(13),A=Math.floor(b/192)<<8|b%192;A<7936?A+=33088:A+=49472,C.push(A>>8,A&255),v+=String.fromCharCode(i.shiftJISTable[A])}return{bytes:C,text:v}}function f(E,m){for(var C,v,y,g,B=new o.BitStream(E),b=m<=9?0:m<=26?1:2,A={text:"",bytes:[],chunks:[],version:m};B.available()>=4;){var F=B.readBits(4);if(F===x.Terminator)return A;if(F===x.ECI)B.readBits(1)===0?A.chunks.push({type:l.ECI,assignmentNumber:B.readBits(7)}):B.readBits(1)===0?A.chunks.push({type:l.ECI,assignmentNumber:B.readBits(14)}):B.readBits(1)===0?A.chunks.push({type:l.ECI,assignmentNumber:B.readBits(21)}):A.chunks.push({type:l.ECI,assignmentNumber:-1});else if(F===x.Numeric){var N=d(B,b);A.text+=N.text,(C=A.bytes).push.apply(C,N.bytes),A.chunks.push({type:l.Numeric,text:N.text})}else if(F===x.Alphanumeric){var P=h(B,b);A.text+=P.text,(v=A.bytes).push.apply(v,P.bytes),A.chunks.push({type:l.Alphanumeric,text:P.text})}else if(F===x.Byte){var T=u(B,b);A.text+=T.text,(y=A.bytes).push.apply(y,T.bytes),A.chunks.push({type:l.Byte,bytes:T.bytes,text:T.text})}else if(F===x.Kanji){var j=p(B,b);A.text+=j.text,(g=A.bytes).push.apply(g,j.bytes),A.chunks.push({type:l.Kanji,bytes:j.bytes,text:j.text})}}if(B.available()===0||B.readBits(B.available())===0)return A}s.decode=f},function(r,s,n){Object.defineProperty(s,"__esModule",{value:!0});var o=function(){function i(l){this.byteOffset=0,this.bitOffset=0,this.bytes=l}return i.prototype.readBits=function(l){if(l<1||l>32||l>this.available())throw new Error("Cannot read "+l.toString()+" bits");var x=0;if(this.bitOffset>0){var d=8-this.bitOffset,c=l<d?l:d,h=d-c,u=255>>8-c<<h;x=(this.bytes[this.byteOffset]&u)>>h,l-=c,this.bitOffset+=c,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(l>0){for(;l>=8;)x=x<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,l-=8;if(l>0){var h=8-l,u=255>>h<<h;x=x<<l|(this.bytes[this.byteOffset]&u)>>h,this.bitOffset+=l}}return x},i.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},i}();s.BitStream=o},function(r,s,n){Object.defineProperty(s,"__esModule",{value:!0}),s.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(r,s,n){Object.defineProperty(s,"__esModule",{value:!0});var o=n(1),i=n(2);function l(h,u,p,f){var E;u.degree()<p.degree()&&(E=[p,u],u=E[0],p=E[1]);for(var m=u,C=p,v=h.zero,y=h.one;C.degree()>=f/2;){var g=m,B=v;if(m=C,v=y,m.isZero())return null;C=g;for(var b=h.zero,A=m.getCoefficient(m.degree()),F=h.inverse(A);C.degree()>=m.degree()&&!C.isZero();){var N=C.degree()-m.degree(),P=h.multiply(C.getCoefficient(C.degree()),F);b=b.addOrSubtract(h.buildMonomial(N,P)),C=C.addOrSubtract(m.multiplyByMonomial(N,P))}if(y=b.multiplyPoly(v).addOrSubtract(B),C.degree()>=m.degree())return null}var T=y.getCoefficient(0);if(T===0)return null;var j=h.inverse(T);return[y.multiply(j),C.multiply(j)]}function x(h,u){var p=u.degree();if(p===1)return[u.getCoefficient(1)];for(var f=new Array(p),E=0,m=1;m<h.size&&E<p;m++)u.evaluateAt(m)===0&&(f[E]=h.inverse(m),E++);return E!==p?null:f}function d(h,u,p){for(var f=p.length,E=new Array(f),m=0;m<f;m++){for(var C=h.inverse(p[m]),v=1,y=0;y<f;y++)m!==y&&(v=h.multiply(v,o.addOrSubtractGF(1,h.multiply(p[y],C))));E[m]=h.multiply(u.evaluateAt(C),h.inverse(v)),h.generatorBase!==0&&(E[m]=h.multiply(E[m],C))}return E}function c(h,u){var p=new Uint8ClampedArray(h.length);p.set(h);for(var f=new o.default(285,256,0),E=new i.default(f,p),m=new Uint8ClampedArray(u),C=!1,v=0;v<u;v++){var y=E.evaluateAt(f.exp(v+f.generatorBase));m[m.length-1-v]=y,y!==0&&(C=!0)}if(!C)return p;var g=new i.default(f,m),B=l(f,f.buildMonomial(u,1),g,u);if(B===null)return null;var b=x(f,B[0]);if(b==null)return null;for(var A=d(f,B[1],b),F=0;F<b.length;F++){var N=p.length-1-f.log(b[F]);if(N<0)return null;p[N]=o.addOrSubtractGF(p[N],A[F])}return p}s.decode=c},function(r,s,n){Object.defineProperty(s,"__esModule",{value:!0}),s.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(r,s,n){Object.defineProperty(s,"__esModule",{value:!0});var o=n(0);function i(c,h,u,p){var f=c.x-h.x+u.x-p.x,E=c.y-h.y+u.y-p.y;if(f===0&&E===0)return{a11:h.x-c.x,a12:h.y-c.y,a13:0,a21:u.x-h.x,a22:u.y-h.y,a23:0,a31:c.x,a32:c.y,a33:1};var m=h.x-u.x,C=p.x-u.x,v=h.y-u.y,y=p.y-u.y,g=m*y-C*v,B=(f*y-C*E)/g,b=(m*E-f*v)/g;return{a11:h.x-c.x+B*h.x,a12:h.y-c.y+B*h.y,a13:B,a21:p.x-c.x+b*p.x,a22:p.y-c.y+b*p.y,a23:b,a31:c.x,a32:c.y,a33:1}}function l(c,h,u,p){var f=i(c,h,u,p);return{a11:f.a22*f.a33-f.a23*f.a32,a12:f.a13*f.a32-f.a12*f.a33,a13:f.a12*f.a23-f.a13*f.a22,a21:f.a23*f.a31-f.a21*f.a33,a22:f.a11*f.a33-f.a13*f.a31,a23:f.a13*f.a21-f.a11*f.a23,a31:f.a21*f.a32-f.a22*f.a31,a32:f.a12*f.a31-f.a11*f.a32,a33:f.a11*f.a22-f.a12*f.a21}}function x(c,h){return{a11:c.a11*h.a11+c.a21*h.a12+c.a31*h.a13,a12:c.a12*h.a11+c.a22*h.a12+c.a32*h.a13,a13:c.a13*h.a11+c.a23*h.a12+c.a33*h.a13,a21:c.a11*h.a21+c.a21*h.a22+c.a31*h.a23,a22:c.a12*h.a21+c.a22*h.a22+c.a32*h.a23,a23:c.a13*h.a21+c.a23*h.a22+c.a33*h.a23,a31:c.a11*h.a31+c.a21*h.a32+c.a31*h.a33,a32:c.a12*h.a31+c.a22*h.a32+c.a32*h.a33,a33:c.a13*h.a31+c.a23*h.a32+c.a33*h.a33}}function d(c,h){for(var u=l({x:3.5,y:3.5},{x:h.dimension-3.5,y:3.5},{x:h.dimension-6.5,y:h.dimension-6.5},{x:3.5,y:h.dimension-3.5}),p=i(h.topLeft,h.topRight,h.alignmentPattern,h.bottomLeft),f=x(p,u),E=o.BitMatrix.createEmpty(h.dimension,h.dimension),m=function(b,A){var F=f.a13*b+f.a23*A+f.a33;return{x:(f.a11*b+f.a21*A+f.a31)/F,y:(f.a12*b+f.a22*A+f.a32)/F}},C=0;C<h.dimension;C++)for(var v=0;v<h.dimension;v++){var y=v+.5,g=C+.5,B=m(y,g);E.set(v,C,c.get(Math.floor(B.x),Math.floor(B.y)))}return{matrix:E,mappingFunction:m}}s.extract=d},function(r,s,n){Object.defineProperty(s,"__esModule",{value:!0});var o=4,i=.5,l=1.5,x=function(y,g){return Math.sqrt(Math.pow(g.x-y.x,2)+Math.pow(g.y-y.y,2))};function d(y){return y.reduce(function(g,B){return g+B})}function c(y,g,B){var b,A,F,N,P=x(y,g),T=x(g,B),j=x(y,B),V,M,w;return T>=P&&T>=j?(b=[g,y,B],V=b[0],M=b[1],w=b[2]):j>=T&&j>=P?(A=[y,g,B],V=A[0],M=A[1],w=A[2]):(F=[y,B,g],V=F[0],M=F[1],w=F[2]),(w.x-M.x)*(V.y-M.y)-(w.y-M.y)*(V.x-M.x)<0&&(N=[w,V],V=N[0],w=N[1]),{bottomLeft:V,topLeft:M,topRight:w}}function h(y,g,B,b){var A=(d(p(y,B,b,5))/7+d(p(y,g,b,5))/7+d(p(B,y,b,5))/7+d(p(g,y,b,5))/7)/4;if(A<1)throw new Error("Invalid module size");var F=Math.round(x(y,g)/A),N=Math.round(x(y,B)/A),P=Math.floor((F+N)/2)+7;switch(P%4){case 0:P++;break;case 2:P--;break}return{dimension:P,moduleSize:A}}function u(y,g,B,b){var A=[{x:Math.floor(y.x),y:Math.floor(y.y)}],F=Math.abs(g.y-y.y)>Math.abs(g.x-y.x),N,P,T,j;F?(N=Math.floor(y.y),P=Math.floor(y.x),T=Math.floor(g.y),j=Math.floor(g.x)):(N=Math.floor(y.x),P=Math.floor(y.y),T=Math.floor(g.x),j=Math.floor(g.y));for(var V=Math.abs(T-N),M=Math.abs(j-P),w=Math.floor(-V/2),_=N<T?1:-1,k=P<j?1:-1,I=!0,L=N,R=P;L!==T+_;L+=_){var O=F?R:L,Q=F?L:R;if(B.get(O,Q)!==I&&(I=!I,A.push({x:O,y:Q}),A.length===b+1))break;if(w+=M,w>0){if(R===j)break;R+=k,w-=V}}for(var se=[],U=0;U<b;U++)A[U]&&A[U+1]?se.push(x(A[U],A[U+1])):se.push(0);return se}function p(y,g,B,b){var A,F=g.y-y.y,N=g.x-y.x,P=u(y,g,B,Math.ceil(b/2)),T=u(y,{x:y.x-N,y:y.y-F},B,Math.ceil(b/2)),j=P.shift()+T.shift()-1;return(A=T.concat(j)).concat.apply(A,P)}function f(y,g){var B=d(y)/d(g),b=0;return g.forEach(function(A,F){b+=Math.pow(y[F]-A*B,2)}),{averageSize:B,error:b}}function E(y,g,B){try{var b=p(y,{x:-1,y:y.y},B,g.length),A=p(y,{x:y.x,y:-1},B,g.length),F={x:Math.max(0,y.x-y.y)-1,y:Math.max(0,y.y-y.x)-1},N=p(y,F,B,g.length),P={x:Math.min(B.width,y.x+y.y)+1,y:Math.min(B.height,y.y+y.x)+1},T=p(y,P,B,g.length),j=f(b,g),V=f(A,g),M=f(N,g),w=f(T,g),_=Math.sqrt(j.error*j.error+V.error*V.error+M.error*M.error+w.error*w.error),k=(j.averageSize+V.averageSize+M.averageSize+w.averageSize)/4,I=(Math.pow(j.averageSize-k,2)+Math.pow(V.averageSize-k,2)+Math.pow(M.averageSize-k,2)+Math.pow(w.averageSize-k,2))/k;return _+I}catch{return 1/0}}function m(y,g){for(var B=Math.round(g.x);y.get(B,Math.round(g.y));)B--;for(var b=Math.round(g.x);y.get(b,Math.round(g.y));)b++;for(var A=(B+b)/2,F=Math.round(g.y);y.get(Math.round(A),F);)F--;for(var N=Math.round(g.y);y.get(Math.round(A),N);)N++;var P=(F+N)/2;return{x:A,y:P}}function C(y){for(var g=[],B=[],b=[],A=[],F=function(O){for(var Q=0,se=!1,U=[0,0,0,0,0],me=function(ne){var Ke=y.get(ne,O);if(Ke===se)Q++;else{U=[U[1],U[2],U[3],U[4],Q],Q=1,se=Ke;var re=d(U)/7,oe=Math.abs(U[0]-re)<re&&Math.abs(U[1]-re)<re&&Math.abs(U[2]-3*re)<3*re&&Math.abs(U[3]-re)<re&&Math.abs(U[4]-re)<re&&!Ke,Re=d(U.slice(-3))/3,qr=Math.abs(U[2]-Re)<Re&&Math.abs(U[3]-Re)<Re&&Math.abs(U[4]-Re)<Re&&Ke;if(oe){var Ct=ne-U[3]-U[4],q=Ct-U[2],te={startX:q,endX:Ct,y:O},ge=B.filter(function(Se){return q>=Se.bottom.startX&&q<=Se.bottom.endX||Ct>=Se.bottom.startX&&q<=Se.bottom.endX||q<=Se.bottom.startX&&Ct>=Se.bottom.endX&&U[2]/(Se.bottom.endX-Se.bottom.startX)<l&&U[2]/(Se.bottom.endX-Se.bottom.startX)>i});ge.length>0?ge[0].bottom=te:B.push({top:te,bottom:te})}if(qr){var we=ne-U[4],qe=we-U[3],te={startX:qe,y:O,endX:we},ge=A.filter(function(We){return qe>=We.bottom.startX&&qe<=We.bottom.endX||we>=We.bottom.startX&&qe<=We.bottom.endX||qe<=We.bottom.startX&&we>=We.bottom.endX&&U[2]/(We.bottom.endX-We.bottom.startX)<l&&U[2]/(We.bottom.endX-We.bottom.startX)>i});ge.length>0?ge[0].bottom=te:A.push({top:te,bottom:te})}}},le=-1;le<=y.width;le++)me(le);g.push.apply(g,B.filter(function(ne){return ne.bottom.y!==O&&ne.bottom.y-ne.top.y>=2})),B=B.filter(function(ne){return ne.bottom.y===O}),b.push.apply(b,A.filter(function(ne){return ne.bottom.y!==O})),A=A.filter(function(ne){return ne.bottom.y===O})},N=0;N<=y.height;N++)F(N);g.push.apply(g,B.filter(function(O){return O.bottom.y-O.top.y>=2})),b.push.apply(b,A);var P=g.filter(function(O){return O.bottom.y-O.top.y>=2}).map(function(O){var Q=(O.top.startX+O.top.endX+O.bottom.startX+O.bottom.endX)/4,se=(O.top.y+O.bottom.y+1)/2;if(y.get(Math.round(Q),Math.round(se))){var U=[O.top.endX-O.top.startX,O.bottom.endX-O.bottom.startX,O.bottom.y-O.top.y+1],me=d(U)/U.length,le=E({x:Math.round(Q),y:Math.round(se)},[1,1,3,1,1],y);return{score:le,x:Q,y:se,size:me}}}).filter(function(O){return!!O}).sort(function(O,Q){return O.score-Q.score}).map(function(O,Q,se){if(Q>o)return null;var U=se.filter(function(le,ne){return Q!==ne}).map(function(le){return{x:le.x,y:le.y,score:le.score+Math.pow(le.size-O.size,2)/O.size,size:le.size}}).sort(function(le,ne){return le.score-ne.score});if(U.length<2)return null;var me=O.score+U[0].score+U[1].score;return{points:[O].concat(U.slice(0,2)),score:me}}).filter(function(O){return!!O}).sort(function(O,Q){return O.score-Q.score});if(P.length===0)return null;var T=c(P[0].points[0],P[0].points[1],P[0].points[2]),j=T.topRight,V=T.topLeft,M=T.bottomLeft,w=v(y,b,j,V,M),_=[];w&&_.push({alignmentPattern:{x:w.alignmentPattern.x,y:w.alignmentPattern.y},bottomLeft:{x:M.x,y:M.y},dimension:w.dimension,topLeft:{x:V.x,y:V.y},topRight:{x:j.x,y:j.y}});var k=m(y,j),I=m(y,V),L=m(y,M),R=v(y,b,k,I,L);return R&&_.push({alignmentPattern:{x:R.alignmentPattern.x,y:R.alignmentPattern.y},bottomLeft:{x:L.x,y:L.y},topLeft:{x:I.x,y:I.y},topRight:{x:k.x,y:k.y},dimension:R.dimension}),_.length===0?null:_}s.locate=C;function v(y,g,B,b,A){var F,N,P;try{F=h(b,B,A,y),N=F.dimension,P=F.moduleSize}catch{return null}var T={x:B.x-b.x+A.x,y:B.y-b.y+A.y},j=(x(b,A)+x(b,B))/2/P,V=1-3/j,M={x:b.x+V*(T.x-b.x),y:b.y+V*(T.y-b.y)},w=g.map(function(k){var I=(k.top.startX+k.top.endX+k.bottom.startX+k.bottom.endX)/4,L=(k.top.y+k.bottom.y+1)/2;if(y.get(Math.floor(I),Math.floor(L))){var R=[k.top.endX-k.top.startX,k.bottom.endX-k.bottom.startX,k.bottom.y-k.top.y+1];d(R)/R.length;var O=E({x:Math.floor(I),y:Math.floor(L)},[1,1,1],y),Q=O+x({x:I,y:L},M);return{x:I,y:L,score:Q}}}).filter(function(k){return!!k}).sort(function(k,I){return k.score-I.score}),_=j>=15&&w.length?w[0]:M;return{alignmentPattern:_,dimension:N}}}]).default})})(Ya);var Rl=Ya.exports;const Ll=Ts(Rl);async function Ml(t,e){const s=e.contracts.map(n=>{const{address:o,abi:i,functionName:l,args:x,value:d}=n;return{data:l0({abi:i,functionName:l,args:x}),to:o,value:d}});return c0(t,d0,"sendCalls")({...e,calls:s})}async function Ul(t,e){const{account:r,chainId:s,connector:n,...o}=e,i=await u0(t,{account:r,assertChainId:!1,chainId:s,connector:n});return Ml(i,{...o,...r?{account:r}:{},chain:s?{id:s}:void 0})}function $l(t){return{mutationFn(e){return Ul(t,e)},mutationKey:["writeContracts"]}}function Vs(t={}){const{mutation:e}=t,r=h0(t),s=$l(r),{mutate:n,mutateAsync:o,...i}=f0({...e,...s});return{...i,writeContracts:n,writeContractsAsync:o}}function Vl({merchant:t,balances:e,onClose:r,onSuccess:s}){const{address:n}=Ee(),{writeContractsAsync:o}=Vs(),[i,l]=D.useState(""),[x,d]=D.useState(!1),[c,h]=D.useState("input"),[u,p]=D.useState(""),f=D.useMemo(()=>ve.find(v=>v.symbol==="IDRX"),[]),E=D.useMemo(()=>{const v=e.IDRX||"0.00";return parseFloat(v.replace(/,/g,""))},[e]),m=D.useMemo(()=>{const v=parseFloat(i);return!isNaN(v)&&v>0&&v<=E},[i,E]);D.useState(()=>{t.suggested_amount&&l(t.suggested_amount)});const C=async()=>{if(!(!m||!n||!f)){d(!0),h("processing");try{const v=pa(i,f.decimals),y="https://api.developer.coinbase.com/rpc/v1/base/NQTfYj9jR92AAZ4REeBBieHzESBA7lEn",g=await o({contracts:[{address:f.address,abi:Fr,functionName:"transfer",args:[t.wallet_address==="QRIS"?Cr:t.wallet_address,v]}],capabilities:{paymasterService:y?{url:y}:void 0}}),B=typeof g=="string"?g:g.hash||g[0]||"";if(p(B),await pe.from("transactions").insert({user_address:n,type:"send",amount:i,from_token:"IDRX",to_token:"IDRX",status:"CONFIRMED",tx_hash:B,created_at:new Date().toISOString()}),t.wallet_address==="QRIS"&&t.qris_payload){console.log("Triggering Instant QRIS Disbursement..."),ae.loading("Processing Instant Payment...",{id:"qris_disburse"});try{const{data:b,error:A}=await pe.functions.invoke("process-qris",{body:{txHash:B,amount:i,qrisPayload:t.qris_payload,merchantName:t.name}});if(A)throw A;b!=null&&b.success?ae.success("QRIS Paid Instantly",{id:"qris_disburse"}):ae.error((b==null?void 0:b.message)||"Disbursement logic queued",{id:"qris_disburse"})}catch(b){console.error("Disbursement trigger failed:",b),ae.error("Crypto sent to Vault. Disbursement processing...",{id:"qris_disburse"})}}h("success"),s(B,i),ae.success(`Payment sent to ${t.name}`)}catch(v){console.error("Payment failed:",v),v.name==="UserRejectedRequestError"?(ae.error("Transaction rejected"),h("confirm")):(ae.error("Payment failed. Please try again."),h("input"))}finally{d(!1)}}};return a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-0 sm:p-6 bg-black/60 backdrop-blur-sm",onClick:r,children:a.jsxs($.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"bg-[#F5F5F7] w-full max-w-lg rounded-t-[32px] sm:rounded-[32px] overflow-hidden shadow-2xl relative",onClick:v=>v.stopPropagation(),children:[a.jsx("div",{className:"sm:hidden w-full flex justify-center py-4",children:a.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full"})}),a.jsx("div",{className:"p-8",children:a.jsxs(_e,{mode:"wait",children:[c==="input"&&a.jsxs($.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-axon-obsidian tracking-tight",children:"PAY MERCHANT"}),a.jsxs("p",{className:"p-1 px-3 bg-axon-neon/10 rounded-full text-[10px] font-black text-primary inline-flex items-center gap-1 uppercase tracking-wider",children:[a.jsx(Yt,{className:"w-3 h-3"})," ",t.name]})]}),a.jsx("button",{onClick:r,className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center",children:a.jsx(ct,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-200 shadow-sm",children:[a.jsx("label",{className:"text-[10px] font-black text-axon-steel uppercase tracking-[0.2em] mb-2 block",children:"Amount in IDRX"}),a.jsxs("div",{className:"relative flex items-center",children:[a.jsx("span",{className:"text-3xl font-black text-gray-300 mr-2",children:"Rp"}),a.jsx("input",{type:"number",value:i,onChange:v=>l(v.target.value),placeholder:"0",className:"w-full text-5xl font-black bg-transparent outline-none text-axon-obsidian placeholder:text-gray-100",autoFocus:!0})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-50 flex justify-between items-center text-xs font-bold",children:[a.jsx("span",{className:"text-axon-steel",children:"AVAILABLE BALANCE"}),a.jsxs("span",{className:J(E<parseFloat(i)?"text-red-500":"text-axon-obsidian"),children:["Rp ",E.toLocaleString()]})]})]}),E<parseFloat(i)&&a.jsxs("div",{className:"bg-red-50 p-4 rounded-2xl border border-red-100 flex items-center gap-3 text-red-600",children:[a.jsx(js,{className:"w-5 h-5"}),a.jsx("p",{className:"text-xs font-bold",children:"Insufficient IDRX balance. Convert USD first."})]})]}),a.jsxs("button",{disabled:!m,onClick:()=>h("confirm"),className:"w-full h-20 bg-axon-obsidian text-white rounded-[24px] font-black text-sm uppercase tracking-[0.3em] flex items-center justify-center gap-3 shadow-xl disabled:opacity-50 disabled:grayscale transition-all active:scale-95",children:["CONTINUE ",a.jsx(Ss,{className:"w-5 h-5 text-axon-neon"})]})]},"input"),c==="confirm"&&a.jsxs($.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-8",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-axon-neon rounded-full flex items-center justify-center mx-auto shadow-lg shadow-axon-neon/20",children:a.jsx(Or,{className:"w-10 h-10 text-axon-obsidian"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-axon-obsidian tracking-tight",children:"CONFIRM PAYMENT"}),a.jsx("p",{className:"text-axon-steel font-bold uppercase text-[10px] tracking-[0.2em] mt-1",children:"Review your transaction"})]})]}),a.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 divide-y divide-gray-50 overflow-hidden shadow-sm",children:[a.jsxs("div",{className:"p-5 flex justify-between items-center",children:[a.jsx("span",{className:"text-xs font-bold text-axon-steel",children:"TO MERCHANT"}),a.jsx("span",{className:"text-sm font-black text-axon-obsidian",children:t.name})]}),a.jsxs("div",{className:"p-5 flex justify-between items-center",children:[a.jsx("span",{className:"text-xs font-bold text-axon-steel",children:"AMOUNT"}),a.jsxs("span",{className:"text-lg font-black text-axon-obsidian",children:["Rp ",parseFloat(i).toLocaleString()]})]}),a.jsxs("div",{className:"p-5 flex justify-between items-center",children:[a.jsx("span",{className:"text-xs font-bold text-axon-steel",children:"NETWORK FEE"}),a.jsx("span",{className:"text-[10px] font-black bg-axon-obsidian text-axon-neon px-2 py-1 rounded",children:"SUBSIDIZED"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{disabled:x,onClick:C,className:"w-full h-20 bg-axon-obsidian text-white rounded-[24px] font-black text-sm uppercase tracking-[0.3em] shadow-xl hover:bg-black transition-all active:scale-95 flex items-center justify-center gap-3",children:x?a.jsx(Fe,{className:"w-6 h-6 animate-spin text-axon-neon"}):"PAY NOW"}),a.jsx("button",{disabled:x,onClick:()=>h("input"),className:"w-full h-14 bg-gray-100 text-axon-steel rounded-[20px] font-bold text-xs uppercase tracking-widest hover:bg-gray-200 transition-all",children:"BACK"})]})]},"confirm"),c==="processing"&&a.jsxs($.div,{className:"py-20 flex flex-col items-center justify-center text-center space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx($.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-24 h-24 border-4 border-gray-100 border-t-axon-neon rounded-full"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"w-2 h-2 bg-axon-neon rounded-full animate-ping"})})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-axon-obsidian italic",children:"PROCESSING"}),a.jsx("p",{className:"text-[10px] font-bold text-axon-steel uppercase tracking-[0.3em]",children:"Neural Verification..."})]})]},"processing"),c==="success"&&a.jsxs($.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"py-12 flex flex-col items-center justify-center text-center space-y-10",children:[a.jsx("div",{className:"w-24 h-24 bg-green-500 rounded-full flex items-center justify-center shadow-2xl shadow-green-100",children:a.jsx(Yt,{className:"w-12 h-12 text-white"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h2",{className:"text-4xl font-black text-axon-obsidian italic tracking-tighter",children:"PAYMENT SUCCESS"}),a.jsxs("p",{className:"text-lg font-bold text-axon-steel",children:["Rp ",parseFloat(i).toLocaleString()," SENT"]})]}),a.jsxs("div",{className:"w-full space-y-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 text-[10px] font-mono text-gray-400 break-all",children:["TX_ID: ",u.substring(0,20),"...",u.substring(u.length-10)]}),a.jsx("button",{onClick:r,className:"w-full h-18 bg-axon-obsidian text-white rounded-[24px] font-black text-sm uppercase tracking-[0.3em] shadow-xl",children:"DONE"})]})]},"success")]})})]})})}const zl=t=>{try{const e={raw:t};let r=0;for(;r<t.length;){const s=t.substring(r,r+2),n=parseInt(t.substring(r+2,r+4)),o=t.substring(r+4,r+4+n);s==="59"&&(e.name=o),s==="54"&&(e.amount=o),r+=4+n}return e}catch{return null}};function ql(){const t=Ze(),[e,r]=D.useState(!0),s=D.useRef(null),[n,o]=D.useState(!1),i=D.useRef(null),{balances:l}=lr(),[x,d]=D.useState(null),[c,h]=D.useState(!1),u=D.useCallback(async()=>{var v,y;const E=(y=(v=s.current)==null?void 0:v.video)==null?void 0:y.srcObject;if(!E)return;const m=E.getVideoTracks()[0];if(m.getCapabilities().torch)try{const g=!n;await m.applyConstraints({advanced:[{torch:g}]}),o(g)}catch(g){console.error("Flash error:",g),ae.error("Flash not supported")}else ae.error("Flashlight not available on this device")},[n,s]),p={facingMode:{exact:"environment"}},f=async E=>{if(c)return;h(!0);const m=new Image;m.src=E,m.onload=async()=>{const C=document.createElement("canvas");C.width=m.width,C.height=m.height;const v=C.getContext("2d");if(!v){h(!1);return}v.drawImage(m,0,0);const y=v.getImageData(0,0,C.width,C.height),g=Ll(y.data,y.width,y.height);if(g){const B=g.data;if(console.log("QR Scaled Data:",B),r(!1),B.startsWith("AXON:")){const b=B,{data:A,error:F}=await pe.from("merchants").select("*").eq("qr_prefix",b).single();A&&!F?(ae.success(`Merchant Verified: ${A.name}`),d(A)):(ae.error("Unrecognized AXON QR Code"),r(!0))}else if(B.startsWith("0x")&&B.length===42)d({name:"Direct Transfer",wallet_address:B});else if(B.startsWith("000201")){const b=zl(B);b?(ae.success(`QRIS Detected: ${b.name||"Merchant"}`),d({name:b.name||"QRIS Merchant",wallet_address:"QRIS",qris_payload:B,suggested_amount:b.amount})):(ae.error("Malformed QRIS Data"),r(!0))}else ae.error("Invalid QR Format"),r(!0)}h(!1)},m.onerror=()=>h(!1)};return D.useEffect(()=>{const E=()=>{if(e&&s.current&&!c&&!x){const m=s.current.getScreenshot();m&&f(m)}i.current=setTimeout(E,500)};return E(),()=>{i.current&&clearTimeout(i.current)}},[e,c,x]),a.jsxs("div",{className:"fixed inset-0 bg-black z-[60] text-white font-sans",children:[a.jsxs("div",{className:"absolute top-4 left-0 right-0 px-6 py-4 flex justify-between items-center z-20",children:[a.jsx("button",{onClick:()=>t("/"),className:"w-10 h-10 bg-black/40 backdrop-blur-md rounded-full flex items-center justify-center border border-white/10 hover:bg-white/10 transition-colors",children:a.jsx(ct,{className:"w-6 h-6"})}),a.jsx("div",{className:"text-[10px] font-bold font-mono uppercase bg-axon-neon text-black px-3 py-1 rounded-sm shadow-[0_0_15px_rgba(0,240,255,0.4)]",children:"SMART VERIFY ACTIVE"}),a.jsx("button",{onClick:u,className:J("w-10 h-10 backdrop-blur-md rounded-full flex items-center justify-center border transition-colors",n?"bg-axon-neon text-black border-axon-neon":"bg-black/40 text-white border-white/10"),children:a.jsx(Lo,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"relative w-full h-full bg-gray-900 overflow-hidden flex items-center justify-center",children:[e&&a.jsx(Ol,{audio:!1,ref:s,screenshotFormat:"image/jpeg",videoConstraints:p,onUserMediaError:()=>{console.log("Rear camera not found, using default")},className:"absolute inset-0 w-full h-full object-cover"}),e&&a.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-10 animate-scan pointer-events-none opacity-80",children:a.jsx("div",{className:"h-[2px] bg-axon-neon w-full absolute top-[50%] shadow-[0_0_30px_rgba(0,240,255,0.8)]"})}),a.jsxs("div",{className:"absolute inset-0 px-12 py-32 pointer-events-none z-10 flex flex-col justify-between",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("div",{className:"w-12 h-12 border-t-[3px] border-l-[3px] border-axon-neon rounded-tl-sm opacity-100 shadow-[0_0_10px_rgba(0,240,255,0.4)]"}),a.jsx("div",{className:"w-12 h-12 border-t-[3px] border-r-[3px] border-axon-neon rounded-tr-sm opacity-100 shadow-[0_0_10px_rgba(0,240,255,0.4)]"})]}),a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("div",{className:"w-48 h-48 border border-white/10 rounded-3xl flex items-center justify-center",children:a.jsx("div",{className:"w-1.5 h-1.5 bg-axon-neon rounded-full animate-ping shadow-[0_0_10px_#00f0ff]"})})}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("div",{className:"w-12 h-12 border-b-[3px] border-l-[3px] border-axon-neon rounded-bl-sm opacity-100 shadow-[0_0_10px_rgba(0,240,255,0.4)]"}),a.jsx("div",{className:"w-12 h-12 border-b-[3px] border-r-[3px] border-axon-neon rounded-br-sm opacity-100 shadow-[0_0_10px_rgba(0,240,255,0.4)]"})]})]}),a.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(#fff 1px, transparent 1px), linear-gradient(90deg, #fff 1px, transparent 1px)",backgroundSize:"40px 40px"}})]}),a.jsxs("div",{className:"absolute bottom-10 left-0 right-0 px-6 z-20 flex flex-col items-center space-y-8",children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("p",{className:"font-mono text-[10px] text-axon-neon tracking-[0.3em] uppercase animate-pulse drop-shadow-[0_0_5px_rgba(0,240,255,0.8)]",children:e?"AUTO-DETECTING NEXUS QR...":"SYSTEM ENGAGED"}),a.jsx("p",{className:"text-[10px] text-white/40 max-w-[200px] mx-auto leading-relaxed uppercase font-bold tracking-wider",children:"Maintain distance for biometric alignment"})]}),a.jsx("div",{className:"w-full max-w-sm flex flex-col gap-3",children:!e&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(Oe,{fullWidth:!0,onClick:()=>{r(!0),d(null)},className:"!h-16 !bg-axon-neon !text-black !font-black !tracking-widest shadow-[0_0_20px_rgba(0,240,255,0.4)]",children:"SCAN AGAIN"}),a.jsx(Oe,{variant:"outline",fullWidth:!0,onClick:()=>t("/"),className:"!h-12 !border-white/10 !text-white !font-bold",children:"RETURN TO HOME"})]})})]}),a.jsx(_e,{children:x&&a.jsx(Vl,{merchant:x,balances:l,onClose:()=>{d(null),r(!0)},onSuccess:(E,m)=>{console.log("Payment Successful:",E,m)}})})]})}const wn={[Ie.id]:{ACCOUNT:"0xf8b05c79f090979bf4a80270aba232dff11a10d9ca55c4f88de95317970f0de9",COUNTRY:"0x1801901fabd0e6189356b4fb52bb0ab855276d84f7ec140839fbd1f6801ca065",COINBASE_ONE:"0x254bd1b63e0591fefa66818ca054c78627306f253f86be6023725a67ee6bf9f4"},[It.id]:{ACCOUNT:"0xce9adbad364e72322d7185cc62dae3c051ac1b45229f3dcb8816c8018e6922d9",COUNTRY:"0x647492c6e61fec4311894a40f8b1ca541793740523e3f434079abb979509df65",COINBASE_ONE:"0x254bd1b63e0591fefa66818ca054c78627306f253f86be6023725a67ee6bf9f4"}},Dn={[Ie.id]:"https://base.easscan.org/graphql",[It.id]:"https://base-sepolia.easscan.org/graphql"};function Wl(){const{address:t,isConnected:e}=Ee(),r=p0(),[s,n]=D.useState(()=>{const l=localStorage.getItem(`coinbase_verification_${t}`);if(l)try{return JSON.parse(l)}catch{return{verificationLevel:0,isAccountVerified:!1,isCountryVerified:!1,isCoinbaseOne:!1}}return{verificationLevel:0,isAccountVerified:!1,isCountryVerified:!1,isCoinbaseOne:!1}}),[o,i]=D.useState(!1);return D.useEffect(()=>{if(!e||!t){n({verificationLevel:0,isAccountVerified:!1,isCountryVerified:!1,isCoinbaseOne:!1});return}(async()=>{i(!0);try{const x=wn[r]||wn[Ie.id],d=Dn[r]||Dn[Ie.id],[c,h,u]=await Promise.all([Zr(t,x.ACCOUNT,d),Zr(t,x.COUNTRY,d),Zr(t,x.COINBASE_ONE,d)]);let p="",f="",E="";const m=localStorage.getItem(`coinbase_oauth_token_${t}`),C=localStorage.getItem(`coinbase_verification_${t}`);if(C)try{const g=JSON.parse(C);p=g.name||"",f=g.email||"",E=g.country||""}catch(g){console.error("Failed to parse cached verification data",g)}let v=0;m&&(v=1),c&&h&&(v=2),u&&(v=3);const y={name:p,email:f,country:E,verificationLevel:v,isAccountVerified:c,isCountryVerified:h,isCoinbaseOne:u};n(y),localStorage.setItem(`coinbase_verification_${t}`,JSON.stringify(y))}catch(x){console.error("Real-time verification fetch failed:",x)}finally{i(!1)}})()},[t,e]),{verificationData:s,isLoading:o}}async function Zr(t,e,r){var s,n;try{const i=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
            query GetAttestations($recipient: String!, $schemaId: String!) {
                attestations(
                    where: {
                        recipient: { equals: $recipient }
                        schemaId: { equals: $schemaId }
                        revoked: { equals: false }
                    }
                    take: 1
                ) {
                    id
                }
            }
        `,variables:{recipient:t.toLowerCase(),schemaId:e}})});return i.ok?(((n=(s=(await i.json()).data)==null?void 0:s.attestations)==null?void 0:n.length)||0)>0:!1}catch(o){return console.error("EAS real-time check failed:",o),!1}}function Hl(){window.location.href="https://www.coinbase.com/onchain-verify"}function Fn(){{console.error("Coinbase Client ID not configured");return}}function Gl({isOpen:t,onClose:e,data:r,onSave:s}){const[n,o]=D.useState(r),[i,l]=D.useState(!1);D.useEffect(()=>{t&&o({...r,name:r.isAccountVerified&&r.name?r.name:r.name||n.name,email:r.isAccountVerified&&r.email?r.email:r.email||n.email})},[r,t]);const x=c=>{o({...n,[c.target.name]:c.target.value})},d=async c=>{c.preventDefault(),l(!0),setTimeout(()=>{s(n),l(!1),e()},1e3)};return a.jsx(_e,{children:t&&a.jsxs(a.Fragment,{children:[a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[70]"}),a.jsxs($.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-x-4 top-[5%] bottom-[5%] md:inset-x-auto md:left-1/2 md:-translate-x-1/2 md:w-full md:max-w-lg z-[80] bg-[#FBFBFB] rounded-[20px] overflow-hidden shadow-2xl border border-gray-200 flex flex-col",children:[a.jsxs("div",{className:"relative bg-white px-6 py-4 border-b border-gray-200 shrink-0",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[radial-gradient(#000_1px,transparent_1px)] [background-size:16px_16px]"}),a.jsxs("div",{className:"relative flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-base font-black text-axon-obsidian uppercase tracking-tight font-mono",children:"Personal Information"}),a.jsx("p",{className:"text-[10px] text-axon-steel font-mono mt-0.5 uppercase tracking-wider",children:"Profile & Verification"})]}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(ct,{className:"w-5 h-5 text-gray-400"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsx("div",{className:"p-6",children:a.jsxs("form",{onSubmit:d,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-bold text-axon-steel uppercase tracking-[0.15em] pb-2 border-b border-gray-200",children:"Basic Information"}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("label",{className:"text-[10px] font-bold text-axon-steel uppercase tracking-wider",children:"Full Legal Name"}),r.isAccountVerified&&a.jsxs("span",{className:"text-[8px] font-bold text-axon-neon uppercase tracking-widest flex items-center gap-1",children:[a.jsx(je,{className:"w-2.5 h-2.5"})," Verified"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(_s,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",name:"name",value:n.name,onChange:x,readOnly:r.isAccountVerified,className:`w-full bg-white border border-gray-200 rounded-lg py-2.5 pl-10 pr-4 text-sm font-medium text-axon-obsidian focus:ring-1 focus:ring-primary/30 focus:border-primary outline-none transition-all ${r.isAccountVerified?"bg-gray-50/50 cursor-not-allowed opacity-80":""}`,placeholder:"As per ID document"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("label",{className:"text-[10px] font-bold text-axon-steel uppercase tracking-wider",children:"Email"}),r.isAccountVerified&&a.jsxs("span",{className:"text-[8px] font-bold text-axon-neon uppercase tracking-widest flex items-center gap-1",children:[a.jsx(je,{className:"w-2.5 h-2.5"})," Verified"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Mo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"email",name:"email",value:n.email,onChange:x,readOnly:r.isAccountVerified,className:`w-full bg-white border border-gray-200 rounded-lg py-2.5 pl-10 pr-4 text-sm font-medium text-axon-obsidian focus:ring-1 focus:ring-primary/30 focus:border-primary outline-none transition-all ${r.isAccountVerified?"bg-gray-50/50 cursor-not-allowed opacity-80":""}`,placeholder:"email@example.com"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-axon-steel uppercase tracking-wider",children:"Phone"}),a.jsxs("div",{className:"relative",children:[a.jsx(Uo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:x,className:"w-full bg-white border border-gray-200 rounded-lg py-2.5 pl-10 pr-4 text-sm font-medium text-axon-obsidian focus:ring-1 focus:ring-primary/30 focus:border-primary outline-none transition-all",placeholder:"+62 812..."})]})]})]})]}),n.level>=2&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-[10px] font-bold text-axon-steel uppercase tracking-[0.15em] pb-2 border-b border-gray-200 flex items-center gap-2",children:["Residential Address",a.jsx("span",{className:"text-[9px] bg-axon-neon/10 text-axon-neon px-1.5 py-0.5 rounded font-bold",children:"VERIFIED"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-axon-steel uppercase tracking-wider",children:"Street Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(na,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),a.jsx("textarea",{name:"address",value:n.address,onChange:x,rows:2,className:"w-full bg-white border border-gray-200 rounded-lg py-2.5 pl-10 pr-4 text-sm font-medium text-axon-obsidian focus:ring-1 focus:ring-primary/30 focus:border-primary outline-none transition-all resize-none",placeholder:"Street, building, apartment"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-axon-steel uppercase tracking-wider",children:"City"}),a.jsxs("div",{className:"relative",children:[a.jsx(ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",name:"city",value:n.city,onChange:x,className:"w-full bg-white border border-gray-200 rounded-lg py-2.5 pl-10 pr-4 text-sm font-medium text-axon-obsidian focus:ring-1 focus:ring-primary/30 focus:border-primary outline-none transition-all",placeholder:"Jakarta"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-bold text-axon-steel uppercase tracking-wider",children:"Postal Code"}),a.jsx("input",{type:"text",name:"postalCode",value:n.postalCode,onChange:x,className:"w-full bg-white border border-gray-200 rounded-lg py-2.5 px-4 text-sm font-medium text-axon-obsidian font-mono focus:ring-1 focus:ring-primary/30 focus:border-primary outline-none transition-all",placeholder:"12345",maxLength:5})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[a.jsxs("h3",{className:"text-[10px] font-bold text-axon-steel uppercase tracking-[0.15em] mb-4 flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:["Verification Status",a.jsx("span",{className:"text-[9px] bg-primary/10 text-primary px-1.5 py-0.5 rounded font-bold uppercase",children:"Source: On-Chain (EAS)"})]}),(!r.isAccountVerified||!r.isCountryVerified)&&a.jsxs("button",{onClick:c=>{c.preventDefault(),Hl()},className:"text-[9px] font-bold text-primary hover:underline flex items-center gap-1",children:["HOW TO VERIFY ",a.jsx($o,{className:"w-2.5 h-2.5"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-all ${r.isAccountVerified?"bg-white border-green-200 shadow-sm":"bg-transparent border-gray-200 opacity-60"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-7 h-7 rounded-sm flex items-center justify-center text-[10px] font-black border ${r.isAccountVerified?"bg-green-50 border-green-200 text-green-700":"bg-gray-50 border-gray-200 text-gray-400"}`,children:"01"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[11px] font-bold text-axon-obsidian uppercase tracking-wide",children:"Coinbase Account"}),a.jsx("p",{className:"text-[9px] text-gray-500 font-mono uppercase",children:"Verified Account Status"})]})]}),r.isAccountVerified?a.jsx(je,{className:"w-4 h-4 text-green-600"}):a.jsx("button",{onClick:c=>{c.preventDefault(),Fn()},className:"text-[8px] font-bold bg-axon-obsidian text-white px-2 py-1 rounded hover:bg-black transition-colors uppercase",children:"SYNC PROFILE"})]}),a.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-all ${r.isCountryVerified?"bg-white border-green-200 shadow-sm":"bg-transparent border-gray-200 opacity-60"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-7 h-7 rounded-sm flex items-center justify-center text-[10px] font-black border ${r.isCountryVerified?"bg-green-50 border-green-200 text-green-700":"bg-gray-50 border-gray-200 text-gray-400"}`,children:"02"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[11px] font-bold text-axon-obsidian uppercase tracking-wide",children:"Identity & Country"}),a.jsx("p",{className:"text-[9px] text-gray-500 font-mono uppercase",children:"POI & POA Verification"})]})]}),r.isCountryVerified?a.jsx(je,{className:"w-4 h-4 text-green-600"}):a.jsx("button",{onClick:c=>{c.preventDefault(),Fn()},className:"text-[8px] font-bold bg-axon-obsidian text-white px-2 py-1 rounded hover:bg-black transition-colors uppercase",children:"SYNC INFO"})]}),a.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-all ${r.isCoinbaseOne?"bg-axon-obsidian text-white border-axon-neon/30 shadow-lg":"bg-transparent border-gray-200 opacity-60"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-7 h-7 rounded-sm flex items-center justify-center text-[10px] font-black border ${r.isCoinbaseOne?"bg-axon-neon text-black border-axon-neon":"bg-gray-50 border-gray-200 text-gray-400"}`,children:"C1"}),a.jsxs("div",{children:[a.jsx("p",{className:`text-[11px] font-bold uppercase tracking-wide ${r.isCoinbaseOne?"text-white":"text-axon-obsidian"}`,children:"Coinbase One"}),a.jsx("p",{className:`text-[9px] font-mono uppercase ${r.isCoinbaseOne?"text-axon-neon/80":"text-gray-500"}`,children:"Premium Membership"})]})]}),r.isCoinbaseOne&&a.jsx(je,{className:"w-4 h-4 text-axon-neon"})]})]}),(!r.isAccountVerified||!r.isCountryVerified)&&a.jsx("div",{className:"mt-4 p-3 bg-blue-50/50 rounded-lg border border-blue-100",children:a.jsxs("p",{className:"text-[9px] text-blue-600 font-medium leading-relaxed",children:[a.jsx("span",{className:"font-bold",children:"NOTE:"})," Verification is performed on-chain via Coinbase. If you have already verified, it may take a few moments for the attestation to appear on Base."]})})]})]})})}),a.jsx("div",{className:"shrink-0 bg-white border-t border-gray-200 p-4",children:a.jsx(Oe,{fullWidth:!0,disabled:i,onClick:d,className:"!h-11 !text-xs !font-black !tracking-wider",children:i?a.jsxs(a.Fragment,{children:[a.jsx(Fe,{className:"w-4 h-4 mr-2 animate-spin"}),"UPDATING..."]}):"SAVE CHANGES"})})]})]})})}const zs="-",Kl=t=>{const e=Xl(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:i=>{const l=i.split(zs);return l[0]===""&&l.length!==1&&l.shift(),Za(l,e)||Jl(i)},getConflictingClassGroupIds:(i,l)=>{const x=r[i]||[];return l&&s[i]?[...x,...s[i]]:x}}},Za=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),n=s?Za(t.slice(1),s):void 0;if(n)return n;if(e.validators.length===0)return;const o=t.join(zs);return(i=e.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},kn=/^\[(.+)\]$/,Jl=t=>{if(kn.test(t)){const e=kn.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Xl=t=>{const{theme:e,prefix:r}=t,s={nextPart:new Map,validators:[]};return Yl(Object.entries(t.classGroups),r).forEach(([o,i])=>{As(i,s,o,e)}),s},As=(t,e,r,s)=>{t.forEach(n=>{if(typeof n=="string"){const o=n===""?e:_n(e,n);o.classGroupId=r;return}if(typeof n=="function"){if(Ql(n)){As(n(s),e,r,s);return}e.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([o,i])=>{As(i,_n(e,o),r,s)})})},_n=(t,e)=>{let r=t;return e.split(zs).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},Ql=t=>t.isThemeGetter,Yl=(t,e)=>e?t.map(([r,s])=>{const n=s.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[e+i,l])):o);return[r,n]}):t,Zl=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,s=new Map;const n=(o,i)=>{r.set(o,i),e++,e>t&&(e=0,s=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=s.get(o))!==void 0)return n(o,i),i},set(o,i){r.has(o)?r.set(o,i):n(o,i)}}},eo="!",ec=t=>{const{separator:e,experimentalParseClassName:r}=t,s=e.length===1,n=e[0],o=e.length,i=l=>{const x=[];let d=0,c=0,h;for(let m=0;m<l.length;m++){let C=l[m];if(d===0){if(C===n&&(s||l.slice(m,m+o)===e)){x.push(l.slice(c,m)),c=m+o;continue}if(C==="/"){h=m;continue}}C==="["?d++:C==="]"&&d--}const u=x.length===0?l:l.substring(c),p=u.startsWith(eo),f=p?u.substring(1):u,E=h&&h>c?h-c:void 0;return{modifiers:x,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:E}};return r?l=>r({className:l,parseClassName:i}):i},tc=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(s=>{s[0]==="["?(e.push(...r.sort(),s),r=[]):r.push(s)}),e.push(...r.sort()),e},rc=t=>({cache:Zl(t.cacheSize),parseClassName:ec(t),...Kl(t)}),sc=/\s+/,nc=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:n}=e,o=[],i=t.trim().split(sc);let l="";for(let x=i.length-1;x>=0;x-=1){const d=i[x],{modifiers:c,hasImportantModifier:h,baseClassName:u,maybePostfixModifierPosition:p}=r(d);let f=!!p,E=s(f?u.substring(0,p):u);if(!E){if(!f){l=d+(l.length>0?" "+l:l);continue}if(E=s(u),!E){l=d+(l.length>0?" "+l:l);continue}f=!1}const m=tc(c).join(":"),C=h?m+eo:m,v=C+E;if(o.includes(v))continue;o.push(v);const y=n(E,f);for(let g=0;g<y.length;++g){const B=y[g];o.push(C+B)}l=d+(l.length>0?" "+l:l)}return l};function ac(){let t=0,e,r,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=to(e))&&(s&&(s+=" "),s+=r);return s}const to=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=to(t[s]))&&(r&&(r+=" "),r+=e);return r};function oc(t,...e){let r,s,n,o=i;function i(x){const d=e.reduce((c,h)=>h(c),t());return r=rc(d),s=r.cache.get,n=r.cache.set,o=l,l(x)}function l(x){const d=s(x);if(d)return d;const c=nc(x,r);return n(x,c),c}return function(){return o(ac.apply(null,arguments))}}const xe=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},ro=/^\[(?:([a-z-]+):)?(.+)\]$/i,ic=/^\d+\/\d+$/,xc=new Set(["px","full","screen"]),lc=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cc=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dc=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,uc=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hc=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Je=t=>Rt(t)||xc.has(t)||ic.test(t),tt=t=>Mt(t,"length",bc),Rt=t=>!!t&&!Number.isNaN(Number(t)),es=t=>Mt(t,"number",Rt),zt=t=>!!t&&Number.isInteger(Number(t)),fc=t=>t.endsWith("%")&&Rt(t.slice(0,-1)),Y=t=>ro.test(t),rt=t=>lc.test(t),pc=new Set(["length","size","percentage"]),Ec=t=>Mt(t,pc,so),mc=t=>Mt(t,"position",so),gc=new Set(["image","url"]),yc=t=>Mt(t,gc,Bc),Cc=t=>Mt(t,"",Ac),qt=()=>!0,Mt=(t,e,r)=>{const s=ro.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):r(s[2]):!1},bc=t=>cc.test(t)&&!dc.test(t),so=()=>!1,Ac=t=>uc.test(t),Bc=t=>hc.test(t),vc=()=>{const t=xe("colors"),e=xe("spacing"),r=xe("blur"),s=xe("brightness"),n=xe("borderColor"),o=xe("borderRadius"),i=xe("borderSpacing"),l=xe("borderWidth"),x=xe("contrast"),d=xe("grayscale"),c=xe("hueRotate"),h=xe("invert"),u=xe("gap"),p=xe("gradientColorStops"),f=xe("gradientColorStopPositions"),E=xe("inset"),m=xe("margin"),C=xe("opacity"),v=xe("padding"),y=xe("saturate"),g=xe("scale"),B=xe("sepia"),b=xe("skew"),A=xe("space"),F=xe("translate"),N=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",Y,e],j=()=>[Y,e],V=()=>["",Je,tt],M=()=>["auto",Rt,Y],w=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_=()=>["solid","dashed","dotted","double","none"],k=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Y],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[Rt,Y];return{cacheSize:500,separator:":",theme:{colors:[qt],spacing:[Je,tt],blur:["none","",rt,Y],brightness:O(),borderColor:[t],borderRadius:["none","","full",rt,Y],borderSpacing:j(),borderWidth:V(),contrast:O(),grayscale:L(),hueRotate:O(),invert:L(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[fc,tt],inset:T(),margin:T(),opacity:O(),padding:j(),saturate:O(),scale:O(),sepia:L(),skew:O(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",Y]}],container:["container"],columns:[{columns:[rt]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...w(),Y]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zt,Y]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Y]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",zt,Y]}],"grid-cols":[{"grid-cols":[qt]}],"col-start-end":[{col:["auto",{span:["full",zt,Y]},Y]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[qt]}],"row-start-end":[{row:["auto",{span:[zt,Y]},Y]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Y]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Y]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Y,e]}],"min-w":[{"min-w":[Y,e,"min","max","fit"]}],"max-w":[{"max-w":[Y,e,"none","full","min","max","fit","prose",{screen:[rt]},rt]}],h:[{h:[Y,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Y,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Y,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Y,e,"auto","min","max","fit"]}],"font-size":[{text:["base",rt,tt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",es]}],"font-family":[{font:[qt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Y]}],"line-clamp":[{"line-clamp":["none",Rt,es]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Je,Y]}],"list-image":[{"list-image":["none",Y]}],"list-style-type":[{list:["none","disc","decimal",Y]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Je,tt]}],"underline-offset":[{"underline-offset":["auto",Je,Y]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Y]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Y]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...w(),mc]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ec]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yc]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[..._(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:_()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",..._()]}],"outline-offset":[{"outline-offset":[Je,Y]}],"outline-w":[{outline:[Je,tt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[Je,tt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",rt,Cc]}],"shadow-color":[{shadow:[qt]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...k(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":k()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[x]}],"drop-shadow":[{"drop-shadow":["","none",rt,Y]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[x]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Y]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",Y]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",Y]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[g]}],"scale-x":[{"scale-x":[g]}],"scale-y":[{"scale-y":[g]}],rotate:[{rotate:[zt,Y]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Y]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Y]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Y]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Je,tt,es]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wc=oc(vc);function Z(...t){return wc(J(t))}const De={body:"ock-font-family font-normal leading-normal",headline:"ock-font-family font-semibold leading-normal",label2:"ock-font-family text-sm leading-5",legal:"ock-font-family text-xs leading-4"},Me={default:"cursor-pointer ock-bg-default active:bg-[var(--ock-bg-default-active)] hover:bg-[var(--ock-bg-default-hover)]",alternate:"cursor-pointer ock-bg-alternate active:bg-[var(--ock-bg-alternate-active)] hover:bg-[var(--ock-bg-alternate-hover)]",primary:"cursor-pointer ock-bg-primary active:bg-[var(--ock-bg-primary-active)] hover:bg-[var(--ock-bg-primary-hover)]",secondary:"cursor-pointer ock-bg-secondary active:bg-[var(--ock-bg-secondary-active)] hover:bg-[var(--ock-bg-secondary-hover)]",disabled:"opacity-[0.38] pointer-events-none"},ar={default:"ock-bg-default",primary:"ock-bg-primary"},ue={inverse:"ock-text-inverse",foreground:"ock-text-foreground",foregroundMuted:"ock-text-foreground-muted",primary:"ock-text-primary"},ke={default:"ock-border-default",radius:"ock-border-radius",radiusInner:"ock-border-radius-inner"},Ne={foreground:"ock-icon-color-foreground",inverse:"ock-icon-color-inverse"},Wt={default:"ock-line-default border"},no=t=>`${t.slice(0,6)}...${t.slice(-4)}`;function ao(t){return D.useMemo(()=>t,[t])}const Dc={},oo=D.createContext(Dc);function Ut(){return D.useContext(oo)}function io(t){const e=yt(),r=e.chain,s=t.chain??r,n=ao({address:t.address||"",chain:s,schemaId:t.schemaId});return a.jsx(oo.Provider,{value:n,children:t.children})}function Fc(t,e){return jc(t)||Nc(t,e)||_c(t,e)||kc()}function kc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _c(t,e){if(t){if(typeof t=="string")return Nn(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nn(t,e):void 0}}function Nn(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=Array(e);r<e;r++)s[r]=t[r];return s}function Nc(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,n,o,i,l=[],x=!0,d=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(x=(s=o.call(r)).done)&&(l.push(s.value),l.length!==e);x=!0);}catch(c){d=!0,n=c}finally{try{if(!x&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw n}}return l}}function jc(t){if(Array.isArray(t))return t}function qs({address:t=null,className:e,isSliced:r=!0,hasCopyAddressOnClick:s=!0}){const n=D.useState("Copy"),o=Fc(n,2),i=o[0],l=o[1],x=Ut(),d=x.address,c=t??d;if(!c)return console.error("Address: an Ethereum address must be provided to the Identity or Address component."),null;const h=r?no(c):c;if(!s)return a.jsx("span",{"data-testid":"ockAddress",className:Z(ue.foregroundMuted,De.label2,e),children:h});const u=async()=>{try{await navigator.clipboard.writeText(c),l("Copied"),setTimeout(()=>l("Copy"),2e3)}catch(f){console.error("Failed to copy address:",f),l("Failed to copy"),setTimeout(()=>l("Copy"),2e3)}},p=f=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),u())};return a.jsxs("span",{"data-testid":"ockAddress",className:Z(ue.foregroundMuted,De.label2,e,"group relative cursor-pointer"),onClick:u,onKeyDown:p,tabIndex:0,role:"button","aria-label":`Copy address ${c}`,children:[h,a.jsx("button",{type:"button",className:Z(Me.alternate,De.legal,ue.foreground,ke.default,ke.radius,"absolute top-full left-[0%] z-10 mt-0.5 px-1.5 py-0.5 opacity-0 transition-opacity group-hover:opacity-100"),"aria-live":"polite",children:i})]})}const xo=a.jsx("svg",{"data-testid":"ock-defaultAvatarSVG",role:"img","aria-label":"ock-defaultAvatarSVG",width:"100%",height:"100%",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-full w-full",children:a.jsx("path",{d:"M20 40C8.9543 40 0 31.0457 0 20C0 8.9543 8.9543 0 20 0C31.0457 0 40 8.9543 40 20C40 31.0457 31.0457 40 20 40ZM25.6641 13.9974C25.6641 10.8692 23.1282 8.33333 20.0001 8.33333C16.8719 8.33333 14.336 10.8692 14.336 13.9974C14.336 17.1256 16.8719 19.6615 20.0001 19.6615C23.1282 19.6615 25.6641 17.1256 25.6641 13.9974ZM11.3453 23.362L9.53476 28.1875C12.2141 30.8475 15.9019 32.493 19.974 32.5H20.026C24.0981 32.493 27.7859 30.8475 30.4653 28.1874L28.6547 23.362C28.0052 21.625 26.3589 20.4771 24.5162 20.4318C24.4557 20.4771 22.462 21.9271 20 21.9271C17.538 21.9271 15.5443 20.4771 15.4839 20.4318C13.6412 20.462 11.9948 21.625 11.3453 23.362Z",className:Ne.foreground})}),Sc=a.jsx("svg",{"data-testid":"ock-defaultLoadingSVG",role:"img","aria-label":"ock-defaultLoadingSVG",width:"100%",height:"100%",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"#333",fill:"none",strokeWidth:"10",strokeLinecap:"round",children:a.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"1s",repeatCount:"indefinite"})})});function Ge(t){return e=>D.isValidElement(e)&&e.type===t}function or(t){return E0({chain:t,transport:is()})}const Tc=(t,e)=>{const r=Uint8Array.from(t.split("").map(l=>l.charCodeAt(0))),s=m0(r);return Number.parseInt(s,16)%e},Pc=t=>{const e=Tc(t,Qs.length),r=Qs[e];return`data:image/svg+xml;base64,${btoa(r)}`},Ic=t=>!!(t.endsWith(".base.eth")||t.endsWith(".basetest.eth")),Oc=async({ensName:t,chain:e=Ye})=>{const r=Ps({chainId:e.id}),n=Is({chainId:e.id})||r,o=Ic(t);if(!n)return Promise.reject("ChainId not supported, avatar resolution is only supported on Ethereum and Base.");let i=or(e),l=null;if(r)try{if(l=await i.getEnsAvatar({name:xs(t),universalResolverAddress:Os[e.id]}),l)return l}catch{}i=or(Ye);const x=await i.getEnsAvatar({name:xs(t)});return x||(o?Pc(t):null)},Rc=({ensName:t,chain:e=Ye},r)=>{const s=r??{},n=s.enabled,o=n===void 0?!0:n,i=s.cacheTime,l=`ens-avatar-${t}-${e.id}`;return Rs({queryKey:["useAvatar",l],queryFn:async()=>Oc({ensName:t,chain:e}),gcTime:i,enabled:o,refetchOnWindowFocus:!1})},Lc=[{inputs:[{internalType:"contract ENS",name:"ens_",type:"address"},{internalType:"address",name:"registrarController_",type:"address"},{internalType:"address",name:"reverseRegistrar_",type:"address"},{internalType:"address",name:"owner_",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AlreadyInitialized",type:"error"},{inputs:[],name:"CantSetSelfAsDelegate",type:"error"},{inputs:[],name:"CantSetSelfAsOperator",type:"error"},{inputs:[],name:"NewOwnerIsZeroAddress",type:"error"},{inputs:[],name:"NoHandoverRequest",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"uint256",name:"contentType",type:"uint256"}],name:"ABIChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"coinType",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newAddress",type:"bytes"}],name:"AddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"address",name:"delegate",type:"address"},{indexed:!0,internalType:"bool",name:"approved",type:"bool"}],name:"Approved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"},{indexed:!1,internalType:"bytes",name:"record",type:"bytes"}],name:"DNSRecordChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"}],name:"DNSRecordDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"lastzonehash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"zonehash",type:"bytes"}],name:"DNSZonehashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes4",name:"interfaceID",type:"bytes4"},{indexed:!1,internalType:"address",name:"implementer",type:"address"}],name:"InterfaceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pendingOwner",type:"address"}],name:"OwnershipHandoverCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pendingOwner",type:"address"}],name:"OwnershipHandoverRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"x",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRegistrarController",type:"address"}],name:"RegistrarControllerUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newReverseRegistrar",type:"address"}],name:"ReverseRegistrarUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"string",name:"indexedKey",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"},{indexed:!1,internalType:"string",name:"value",type:"string"}],name:"TextChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint64",name:"newVersion",type:"uint64"}],name:"VersionChanged",type:"event"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"addr",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"}],name:"addr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"delegate",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"cancelOwnershipHandover",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"clearRecords",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"pendingOwner",type:"address"}],name:"completeOwnershipHandover",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contenthash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"},{internalType:"uint16",name:"resource",type:"uint16"}],name:"dnsRecord",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"ens",outputs:[{internalType:"contract ENS",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],name:"hasDNSRecords",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"interfaceImplementer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"delegate",type:"address"}],name:"isApprovedFor",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"nodehash",type:"bytes32"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicallWithNodeCheck",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"result",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pendingOwner",type:"address"}],name:"ownershipHandoverExpiresAt",outputs:[{internalType:"uint256",name:"result",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"pubkey",outputs:[{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"recordVersions",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"registrarController",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"requestOwnershipHandover",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"data",type:"bytes"}],name:"resolve",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"reverseRegistrar",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentType",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"setABI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"},{internalType:"bytes",name:"a",type:"bytes"}],name:"setAddr",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"a",type:"address"}],name:"setAddr",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes",name:"hash",type:"bytes"}],name:"setContenthash",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],name:"setDNSRecords",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"},{internalType:"address",name:"implementer",type:"address"}],name:"setInterface",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"newName",type:"string"}],name:"setName",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],name:"setPubkey",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"registrarController_",type:"address"}],name:"setRegistrarController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reverseRegistrar_",type:"address"}],name:"setReverseRegistrar",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"},{internalType:"string",name:"value",type:"string"}],name:"setText",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes",name:"hash",type:"bytes"}],name:"setZonehash",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"}],name:"text",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"zonehash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"}],Mc=t=>t===Ye.id?"addr":((2147483648|t)>>>0).toString(16).toLocaleUpperCase(),Uc=(t,e)=>{const r=t.toLocaleLowerCase(),s=ls(r.substring(2)),n=Mc(e),o=g0(`${n.toLocaleUpperCase()}.reverse`);return ls(y0(["bytes32","bytes32"],[o,s]))},$c=async({address:t,chain:e=Ye})=>{const r=Ps({chainId:e.id});if(!(Is({chainId:e.id})||r))return Promise.reject("ChainId not supported, name resolution is only supported on Ethereum and Base.");let o=or(e);if(r){const l=Uc(t,Ie.id);try{const x=await o.readContract({abi:Lc,address:Os[e.id],functionName:"name",args:[l]});if(x)return x}catch{}}return o=or(Ye),await o.getEnsName({address:t})??null},Ws=({address:t,chain:e=Ye},r)=>{const s={},n=s.enabled,o=n===void 0?!0:n,i=s.cacheTime,l=`ens-name-${t}-${e.id}`;return Rs({queryKey:["useName",l],queryFn:async()=>await $c({address:t,chain:e}),gcTime:i,enabled:o,refetchOnWindowFocus:!1})},Vc=a.jsx("svg",{role:"img","aria-label":"ock-badgeSvg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-full w-full",children:a.jsx("path",{d:"M8.12957 3.73002L5.11957 6.74002L3.77957 5.40002C3.49957 5.12002 3.04957 5.12002 2.76957 5.40002C2.48957 5.68002 2.48957 6.13002 2.76957 6.41002L4.10957 7.75002L4.59957 8.24002C4.90957 8.55002 5.41957 8.55002 5.72957 8.24002L9.17957 4.79002C9.45957 4.51002 9.45957 4.06002 9.17957 3.78002L9.12957 3.73002C8.84957 3.45002 8.39957 3.45002 8.11957 3.73002H8.12957Z","data-testid":"ock-badgeSvg",className:Ne.inverse})});function lo({className:t}){const e="12px";return a.jsx("span",{className:Z(ar.primary,"rounded-full border border-transparent",t),"data-testid":"ockBadge",style:{height:e,width:e,maxHeight:e,maxWidth:e},children:Vc})}const Hs=JSON,zc=t=>t.toUpperCase(),qc=t=>{const e={};return t.forEach((r,s)=>{e[s]=r}),e},Wc=(t,e,r)=>t.document?t:{document:t,variables:e,requestHeaders:r,signal:void 0},Hc=(t,e,r)=>t.query?t:{query:t,variables:e,requestHeaders:r,signal:void 0},Gc=(t,e)=>t.documents?t:{documents:t,requestHeaders:e,signal:void 0};function Ar(t,e){if(!!!t)throw new Error(e)}function Kc(t){return typeof t=="object"&&t!==null}function Jc(t,e){if(!!!t)throw new Error("Unexpected invariant triggered.")}const Xc=/\r\n|[\n\r]/g;function Bs(t,e){let r=0,s=1;for(const n of t.body.matchAll(Xc)){if(typeof n.index=="number"||Jc(!1),n.index>=e)break;r=n.index+n[0].length,s+=1}return{line:s,column:e+1-r}}function Qc(t){return co(t.source,Bs(t.source,t.start))}function co(t,e){const r=t.locationOffset.column-1,s="".padStart(r)+t.body,n=e.line-1,o=t.locationOffset.line-1,i=e.line+o,l=e.line===1?r:0,x=e.column+l,d=`${t.name}:${i}:${x}
`,c=s.split(/\r\n|[\n\r]/g),h=c[n];if(h.length>120){const u=Math.floor(x/80),p=x%80,f=[];for(let E=0;E<h.length;E+=80)f.push(h.slice(E,E+80));return d+jn([[`${i} |`,f[0]],...f.slice(1,u+1).map(E=>["|",E]),["|","^".padStart(p)],["|",f[u+1]]])}return d+jn([[`${i-1} |`,c[n-1]],[`${i} |`,h],["|","^".padStart(x)],[`${i+1} |`,c[n+1]]])}function jn(t){const e=t.filter(([s,n])=>n!==void 0),r=Math.max(...e.map(([s])=>s.length));return e.map(([s,n])=>s.padStart(r)+(n?" "+n:"")).join(`
`)}function Yc(t){const e=t[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:e}class Gs extends Error{constructor(e,...r){var s,n,o;const{nodes:i,source:l,positions:x,path:d,originalError:c,extensions:h}=Yc(r);super(e),this.name="GraphQLError",this.path=d??void 0,this.originalError=c??void 0,this.nodes=Sn(Array.isArray(i)?i:i?[i]:void 0);const u=Sn((s=this.nodes)===null||s===void 0?void 0:s.map(f=>f.loc).filter(f=>f!=null));this.source=l??(u==null||(n=u[0])===null||n===void 0?void 0:n.source),this.positions=x??(u==null?void 0:u.map(f=>f.start)),this.locations=x&&l?x.map(f=>Bs(l,f)):u==null?void 0:u.map(f=>Bs(f.source,f.start));const p=Kc(c==null?void 0:c.extensions)?c==null?void 0:c.extensions:void 0;this.extensions=(o=h??p)!==null&&o!==void 0?o:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?Object.defineProperty(this,"stack",{value:c.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Gs):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const r of this.nodes)r.loc&&(e+=`

`+Qc(r.loc));else if(this.source&&this.locations)for(const r of this.locations)e+=`

`+co(this.source,r);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function Sn(t){return t===void 0||t.length===0?void 0:t}function be(t,e,r){return new Gs(`Syntax Error: ${r}`,{source:t,positions:[e]})}class Zc{constructor(e,r,s){this.start=e.start,this.end=r.end,this.startToken=e,this.endToken=r,this.source=s}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class uo{constructor(e,r,s,n,o,i){this.kind=e,this.start=r,this.end=s,this.line=n,this.column=o,this.value=i,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const ho={Name:[],Document:["definitions"],OperationDefinition:["description","name","variableDefinitions","directives","selectionSet"],VariableDefinition:["description","variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["description","name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],TypeCoordinate:["name"],MemberCoordinate:["name","memberName"],ArgumentCoordinate:["name","fieldName","argumentName"],DirectiveCoordinate:["name"],DirectiveArgumentCoordinate:["name","argumentName"]},ed=new Set(Object.keys(ho));function Tn(t){const e=t==null?void 0:t.kind;return typeof e=="string"&&ed.has(e)}var Pt;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(Pt||(Pt={}));var vs;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(vs||(vs={}));var H;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",t.TYPE_COORDINATE="TypeCoordinate",t.MEMBER_COORDINATE="MemberCoordinate",t.ARGUMENT_COORDINATE="ArgumentCoordinate",t.DIRECTIVE_COORDINATE="DirectiveCoordinate",t.DIRECTIVE_ARGUMENT_COORDINATE="DirectiveArgumentCoordinate"})(H||(H={}));function ws(t){return t===9||t===32}function ir(t){return t>=48&&t<=57}function fo(t){return t>=97&&t<=122||t>=65&&t<=90}function po(t){return fo(t)||t===95}function td(t){return fo(t)||ir(t)||t===95}function rd(t){var e;let r=Number.MAX_SAFE_INTEGER,s=null,n=-1;for(let i=0;i<t.length;++i){var o;const l=t[i],x=sd(l);x!==l.length&&(s=(o=s)!==null&&o!==void 0?o:i,n=i,i!==0&&x<r&&(r=x))}return t.map((i,l)=>l===0?i:i.slice(r)).slice((e=s)!==null&&e!==void 0?e:0,n+1)}function sd(t){let e=0;for(;e<t.length&&ws(t.charCodeAt(e));)++e;return e}function nd(t,e){const r=t.replace(/"""/g,'\\"""'),s=r.split(/\r\n|[\n\r]/g),n=s.length===1,o=s.length>1&&s.slice(1).every(p=>p.length===0||ws(p.charCodeAt(0))),i=r.endsWith('\\"""'),l=t.endsWith('"')&&!i,x=t.endsWith("\\"),d=l||x,c=!n||t.length>70||d||o||i;let h="";const u=n&&ws(t.charCodeAt(0));return(c&&!u||o)&&(h+=`
`),h+=r,(c||d)&&(h+=`
`),'"""'+h+'"""'}var S;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.DOT=".",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(S||(S={}));class ad{constructor(e){const r=new uo(S.SOF,0,0,0,0);this.source=e,this.lastToken=r,this.token=r,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==S.EOF)do if(e.next)e=e.next;else{const r=id(this,e.end);e.next=r,r.prev=e,e=r}while(e.kind===S.COMMENT);return e}}function od(t){return t===S.BANG||t===S.DOLLAR||t===S.AMP||t===S.PAREN_L||t===S.PAREN_R||t===S.DOT||t===S.SPREAD||t===S.COLON||t===S.EQUALS||t===S.AT||t===S.BRACKET_L||t===S.BRACKET_R||t===S.BRACE_L||t===S.PIPE||t===S.BRACE_R}function $t(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function $r(t,e){return Eo(t.charCodeAt(e))&&mo(t.charCodeAt(e+1))}function Eo(t){return t>=55296&&t<=56319}function mo(t){return t>=56320&&t<=57343}function gt(t,e){const r=t.source.body.codePointAt(e);if(r===void 0)return S.EOF;if(r>=32&&r<=126){const s=String.fromCodePoint(r);return s==='"'?`'"'`:`"${s}"`}return"U+"+r.toString(16).toUpperCase().padStart(4,"0")}function he(t,e,r,s,n){const o=t.line,i=1+r-t.lineStart;return new uo(e,r,s,o,i,n)}function id(t,e){const r=t.source.body,s=r.length;let n=e;for(;n<s;){const o=r.charCodeAt(n);switch(o){case 65279:case 9:case 32:case 44:++n;continue;case 10:++n,++t.line,t.lineStart=n;continue;case 13:r.charCodeAt(n+1)===10?n+=2:++n,++t.line,t.lineStart=n;continue;case 35:return xd(t,n);case 33:return he(t,S.BANG,n,n+1);case 36:return he(t,S.DOLLAR,n,n+1);case 38:return he(t,S.AMP,n,n+1);case 40:return he(t,S.PAREN_L,n,n+1);case 41:return he(t,S.PAREN_R,n,n+1);case 46:if(r.charCodeAt(n+1)===46&&r.charCodeAt(n+2)===46)return he(t,S.SPREAD,n,n+3);break;case 58:return he(t,S.COLON,n,n+1);case 61:return he(t,S.EQUALS,n,n+1);case 64:return he(t,S.AT,n,n+1);case 91:return he(t,S.BRACKET_L,n,n+1);case 93:return he(t,S.BRACKET_R,n,n+1);case 123:return he(t,S.BRACE_L,n,n+1);case 124:return he(t,S.PIPE,n,n+1);case 125:return he(t,S.BRACE_R,n,n+1);case 34:return r.charCodeAt(n+1)===34&&r.charCodeAt(n+2)===34?fd(t,n):cd(t,n)}if(ir(o)||o===45)return ld(t,n,o);if(po(o))return pd(t,n);throw be(t.source,n,o===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:$t(o)||$r(r,n)?`Unexpected character: ${gt(t,n)}.`:`Invalid character: ${gt(t,n)}.`)}return he(t,S.EOF,s,s)}function xd(t,e){const r=t.source.body,s=r.length;let n=e+1;for(;n<s;){const o=r.charCodeAt(n);if(o===10||o===13)break;if($t(o))++n;else if($r(r,n))n+=2;else break}return he(t,S.COMMENT,e,n,r.slice(e+1,n))}function ld(t,e,r){const s=t.source.body;let n=e,o=r,i=!1;if(o===45&&(o=s.charCodeAt(++n)),o===48){if(o=s.charCodeAt(++n),ir(o))throw be(t.source,n,`Invalid number, unexpected digit after 0: ${gt(t,n)}.`)}else n=ts(t,n,o),o=s.charCodeAt(n);if(o===46&&(i=!0,o=s.charCodeAt(++n),n=ts(t,n,o),o=s.charCodeAt(n)),(o===69||o===101)&&(i=!0,o=s.charCodeAt(++n),(o===43||o===45)&&(o=s.charCodeAt(++n)),n=ts(t,n,o),o=s.charCodeAt(n)),o===46||po(o))throw be(t.source,n,`Invalid number, expected digit but got: ${gt(t,n)}.`);return he(t,i?S.FLOAT:S.INT,e,n,s.slice(e,n))}function ts(t,e,r){if(!ir(r))throw be(t.source,e,`Invalid number, expected digit but got: ${gt(t,e)}.`);const s=t.source.body;let n=e+1;for(;ir(s.charCodeAt(n));)++n;return n}function cd(t,e){const r=t.source.body,s=r.length;let n=e+1,o=n,i="";for(;n<s;){const l=r.charCodeAt(n);if(l===34)return i+=r.slice(o,n),he(t,S.STRING,e,n+1,i);if(l===92){i+=r.slice(o,n);const x=r.charCodeAt(n+1)===117?r.charCodeAt(n+2)===123?dd(t,n):ud(t,n):hd(t,n);i+=x.value,n+=x.size,o=n;continue}if(l===10||l===13)break;if($t(l))++n;else if($r(r,n))n+=2;else throw be(t.source,n,`Invalid character within String: ${gt(t,n)}.`)}throw be(t.source,n,"Unterminated string.")}function dd(t,e){const r=t.source.body;let s=0,n=3;for(;n<12;){const o=r.charCodeAt(e+n++);if(o===125){if(n<5||!$t(s))break;return{value:String.fromCodePoint(s),size:n}}if(s=s<<4|Gt(o),s<0)break}throw be(t.source,e,`Invalid Unicode escape sequence: "${r.slice(e,e+n)}".`)}function ud(t,e){const r=t.source.body,s=Pn(r,e+2);if($t(s))return{value:String.fromCodePoint(s),size:6};if(Eo(s)&&r.charCodeAt(e+6)===92&&r.charCodeAt(e+7)===117){const n=Pn(r,e+8);if(mo(n))return{value:String.fromCodePoint(s,n),size:12}}throw be(t.source,e,`Invalid Unicode escape sequence: "${r.slice(e,e+6)}".`)}function Pn(t,e){return Gt(t.charCodeAt(e))<<12|Gt(t.charCodeAt(e+1))<<8|Gt(t.charCodeAt(e+2))<<4|Gt(t.charCodeAt(e+3))}function Gt(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function hd(t,e){const r=t.source.body;switch(r.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw be(t.source,e,`Invalid character escape sequence: "${r.slice(e,e+2)}".`)}function fd(t,e){const r=t.source.body,s=r.length;let n=t.lineStart,o=e+3,i=o,l="";const x=[];for(;o<s;){const d=r.charCodeAt(o);if(d===34&&r.charCodeAt(o+1)===34&&r.charCodeAt(o+2)===34){l+=r.slice(i,o),x.push(l);const c=he(t,S.BLOCK_STRING,e,o+3,rd(x).join(`
`));return t.line+=x.length-1,t.lineStart=n,c}if(d===92&&r.charCodeAt(o+1)===34&&r.charCodeAt(o+2)===34&&r.charCodeAt(o+3)===34){l+=r.slice(i,o),i=o+1,o+=4;continue}if(d===10||d===13){l+=r.slice(i,o),x.push(l),d===13&&r.charCodeAt(o+1)===10?o+=2:++o,l="",i=o,n=o;continue}if($t(d))++o;else if($r(r,o))o+=2;else throw be(t.source,o,`Invalid character within String: ${gt(t,o)}.`)}throw be(t.source,o,"Unterminated string.")}function pd(t,e){const r=t.source.body,s=r.length;let n=e+1;for(;n<s;){const o=r.charCodeAt(n);if(td(o))++n;else break}return he(t,S.NAME,e,n,r.slice(e,n))}const Ed=10,go=2;function Ks(t){return Vr(t,[])}function Vr(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return md(t,e);default:return String(t)}}function md(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";const r=[...e,t];if(gd(t)){const s=t.toJSON();if(s!==t)return typeof s=="string"?s:Vr(s,r)}else if(Array.isArray(t))return Cd(t,r);return yd(t,r)}function gd(t){return typeof t.toJSON=="function"}function yd(t,e){const r=Object.entries(t);return r.length===0?"{}":e.length>go?"["+bd(t)+"]":"{ "+r.map(([n,o])=>n+": "+Vr(o,e)).join(", ")+" }"}function Cd(t,e){if(t.length===0)return"[]";if(e.length>go)return"[Array]";const r=Math.min(Ed,t.length),s=t.length-r,n=[];for(let o=0;o<r;++o)n.push(Vr(t[o],e));return s===1?n.push("... 1 more item"):s>1&&n.push(`... ${s} more items`),"["+n.join(", ")+"]"}function bd(t){const e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){const r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}const Ad=globalThis.process&&!0,Bd=Ad?function(e,r){return e instanceof r}:function(e,r){if(e instanceof r)return!0;if(typeof e=="object"&&e!==null){var s;const n=r.prototype[Symbol.toStringTag],o=Symbol.toStringTag in e?e[Symbol.toStringTag]:(s=e.constructor)===null||s===void 0?void 0:s.name;if(n===o){const i=Ks(e);throw new Error(`Cannot use ${n} "${i}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class yo{constructor(e,r="GraphQL request",s={line:1,column:1}){typeof e=="string"||Ar(!1,`Body must be a string. Received: ${Ks(e)}.`),this.body=e,this.name=r,this.locationOffset=s,this.locationOffset.line>0||Ar(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Ar(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function vd(t){return Bd(t,yo)}function wd(t,e){const r=new Dd(t,e),s=r.parseDocument();return Object.defineProperty(s,"tokenCount",{enumerable:!1,value:r.tokenCount}),s}class Dd{constructor(e,r={}){const{lexer:s,...n}=r;if(s)this._lexer=s;else{const o=vd(e)?e:new yo(e);this._lexer=new ad(o)}this._options=n,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const e=this.expectToken(S.NAME);return this.node(e,{kind:H.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:H.DOCUMENT,definitions:this.many(S.SOF,this.parseDefinition,S.EOF)})}parseDefinition(){if(this.peek(S.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),r=e?this._lexer.lookahead():this._lexer.token;if(e&&r.kind===S.BRACE_L)throw be(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are not supported on shorthand queries.");if(r.kind===S.NAME){switch(r.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}switch(r.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition()}if(e)throw be(this._lexer.source,this._lexer.token.start,"Unexpected description, only GraphQL definitions support descriptions.");switch(r.value){case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(r)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(S.BRACE_L))return this.node(e,{kind:H.OPERATION_DEFINITION,operation:Pt.QUERY,description:void 0,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const r=this.parseDescription(),s=this.parseOperationType();let n;return this.peek(S.NAME)&&(n=this.parseName()),this.node(e,{kind:H.OPERATION_DEFINITION,operation:s,description:r,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(S.NAME);switch(e.value){case"query":return Pt.QUERY;case"mutation":return Pt.MUTATION;case"subscription":return Pt.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(S.PAREN_L,this.parseVariableDefinition,S.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:H.VARIABLE_DEFINITION,description:this.parseDescription(),variable:this.parseVariable(),type:(this.expectToken(S.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(S.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(S.DOLLAR),this.node(e,{kind:H.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:H.SELECTION_SET,selections:this.many(S.BRACE_L,this.parseSelection,S.BRACE_R)})}parseSelection(){return this.peek(S.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,r=this.parseName();let s,n;return this.expectOptionalToken(S.COLON)?(s=r,n=this.parseName()):n=r,this.node(e,{kind:H.FIELD,alias:s,name:n,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(S.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const r=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(S.PAREN_L,r,S.PAREN_R)}parseArgument(e=!1){const r=this._lexer.token,s=this.parseName();return this.expectToken(S.COLON),this.node(r,{kind:H.ARGUMENT,name:s,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(S.SPREAD);const r=this.expectOptionalKeyword("on");return!r&&this.peek(S.NAME)?this.node(e,{kind:H.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:H.INLINE_FRAGMENT,typeCondition:r?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token,r=this.parseDescription();return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:H.FRAGMENT_DEFINITION,description:r,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:H.FRAGMENT_DEFINITION,description:r,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const r=this._lexer.token;switch(r.kind){case S.BRACKET_L:return this.parseList(e);case S.BRACE_L:return this.parseObject(e);case S.INT:return this.advanceLexer(),this.node(r,{kind:H.INT,value:r.value});case S.FLOAT:return this.advanceLexer(),this.node(r,{kind:H.FLOAT,value:r.value});case S.STRING:case S.BLOCK_STRING:return this.parseStringLiteral();case S.NAME:switch(this.advanceLexer(),r.value){case"true":return this.node(r,{kind:H.BOOLEAN,value:!0});case"false":return this.node(r,{kind:H.BOOLEAN,value:!1});case"null":return this.node(r,{kind:H.NULL});default:return this.node(r,{kind:H.ENUM,value:r.value})}case S.DOLLAR:if(e)if(this.expectToken(S.DOLLAR),this._lexer.token.kind===S.NAME){const s=this._lexer.token.value;throw be(this._lexer.source,r.start,`Unexpected variable "$${s}" in constant value.`)}else throw this.unexpected(r);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:H.STRING,value:e.value,block:e.kind===S.BLOCK_STRING})}parseList(e){const r=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:H.LIST,values:this.any(S.BRACKET_L,r,S.BRACKET_R)})}parseObject(e){const r=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:H.OBJECT,fields:this.any(S.BRACE_L,r,S.BRACE_R)})}parseObjectField(e){const r=this._lexer.token,s=this.parseName();return this.expectToken(S.COLON),this.node(r,{kind:H.OBJECT_FIELD,name:s,value:this.parseValueLiteral(e)})}parseDirectives(e){const r=[];for(;this.peek(S.AT);)r.push(this.parseDirective(e));return r}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const r=this._lexer.token;return this.expectToken(S.AT),this.node(r,{kind:H.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let r;if(this.expectOptionalToken(S.BRACKET_L)){const s=this.parseTypeReference();this.expectToken(S.BRACKET_R),r=this.node(e,{kind:H.LIST_TYPE,type:s})}else r=this.parseNamedType();return this.expectOptionalToken(S.BANG)?this.node(e,{kind:H.NON_NULL_TYPE,type:r}):r}parseNamedType(){return this.node(this._lexer.token,{kind:H.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(S.STRING)||this.peek(S.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("schema");const s=this.parseConstDirectives(),n=this.many(S.BRACE_L,this.parseOperationTypeDefinition,S.BRACE_R);return this.node(e,{kind:H.SCHEMA_DEFINITION,description:r,directives:s,operationTypes:n})}parseOperationTypeDefinition(){const e=this._lexer.token,r=this.parseOperationType();this.expectToken(S.COLON);const s=this.parseNamedType();return this.node(e,{kind:H.OPERATION_TYPE_DEFINITION,operation:r,type:s})}parseScalarTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("scalar");const s=this.parseName(),n=this.parseConstDirectives();return this.node(e,{kind:H.SCALAR_TYPE_DEFINITION,description:r,name:s,directives:n})}parseObjectTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("type");const s=this.parseName(),n=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),i=this.parseFieldsDefinition();return this.node(e,{kind:H.OBJECT_TYPE_DEFINITION,description:r,name:s,interfaces:n,directives:o,fields:i})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(S.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(S.BRACE_L,this.parseFieldDefinition,S.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,r=this.parseDescription(),s=this.parseName(),n=this.parseArgumentDefs();this.expectToken(S.COLON);const o=this.parseTypeReference(),i=this.parseConstDirectives();return this.node(e,{kind:H.FIELD_DEFINITION,description:r,name:s,arguments:n,type:o,directives:i})}parseArgumentDefs(){return this.optionalMany(S.PAREN_L,this.parseInputValueDef,S.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,r=this.parseDescription(),s=this.parseName();this.expectToken(S.COLON);const n=this.parseTypeReference();let o;this.expectOptionalToken(S.EQUALS)&&(o=this.parseConstValueLiteral());const i=this.parseConstDirectives();return this.node(e,{kind:H.INPUT_VALUE_DEFINITION,description:r,name:s,type:n,defaultValue:o,directives:i})}parseInterfaceTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("interface");const s=this.parseName(),n=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),i=this.parseFieldsDefinition();return this.node(e,{kind:H.INTERFACE_TYPE_DEFINITION,description:r,name:s,interfaces:n,directives:o,fields:i})}parseUnionTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("union");const s=this.parseName(),n=this.parseConstDirectives(),o=this.parseUnionMemberTypes();return this.node(e,{kind:H.UNION_TYPE_DEFINITION,description:r,name:s,directives:n,types:o})}parseUnionMemberTypes(){return this.expectOptionalToken(S.EQUALS)?this.delimitedMany(S.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("enum");const s=this.parseName(),n=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();return this.node(e,{kind:H.ENUM_TYPE_DEFINITION,description:r,name:s,directives:n,values:o})}parseEnumValuesDefinition(){return this.optionalMany(S.BRACE_L,this.parseEnumValueDefinition,S.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,r=this.parseDescription(),s=this.parseEnumValueName(),n=this.parseConstDirectives();return this.node(e,{kind:H.ENUM_VALUE_DEFINITION,description:r,name:s,directives:n})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw be(this._lexer.source,this._lexer.token.start,`${gr(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("input");const s=this.parseName(),n=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();return this.node(e,{kind:H.INPUT_OBJECT_TYPE_DEFINITION,description:r,name:s,directives:n,fields:o})}parseInputFieldsDefinition(){return this.optionalMany(S.BRACE_L,this.parseInputValueDef,S.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===S.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const r=this.parseConstDirectives(),s=this.optionalMany(S.BRACE_L,this.parseOperationTypeDefinition,S.BRACE_R);if(r.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:H.SCHEMA_EXTENSION,directives:r,operationTypes:s})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const r=this.parseName(),s=this.parseConstDirectives();if(s.length===0)throw this.unexpected();return this.node(e,{kind:H.SCALAR_TYPE_EXTENSION,name:r,directives:s})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const r=this.parseName(),s=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(s.length===0&&n.length===0&&o.length===0)throw this.unexpected();return this.node(e,{kind:H.OBJECT_TYPE_EXTENSION,name:r,interfaces:s,directives:n,fields:o})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const r=this.parseName(),s=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(s.length===0&&n.length===0&&o.length===0)throw this.unexpected();return this.node(e,{kind:H.INTERFACE_TYPE_EXTENSION,name:r,interfaces:s,directives:n,fields:o})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const r=this.parseName(),s=this.parseConstDirectives(),n=this.parseUnionMemberTypes();if(s.length===0&&n.length===0)throw this.unexpected();return this.node(e,{kind:H.UNION_TYPE_EXTENSION,name:r,directives:s,types:n})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const r=this.parseName(),s=this.parseConstDirectives(),n=this.parseEnumValuesDefinition();if(s.length===0&&n.length===0)throw this.unexpected();return this.node(e,{kind:H.ENUM_TYPE_EXTENSION,name:r,directives:s,values:n})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const r=this.parseName(),s=this.parseConstDirectives(),n=this.parseInputFieldsDefinition();if(s.length===0&&n.length===0)throw this.unexpected();return this.node(e,{kind:H.INPUT_OBJECT_TYPE_EXTENSION,name:r,directives:s,fields:n})}parseDirectiveDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("directive"),this.expectToken(S.AT);const s=this.parseName(),n=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const i=this.parseDirectiveLocations();return this.node(e,{kind:H.DIRECTIVE_DEFINITION,description:r,name:s,arguments:n,repeatable:o,locations:i})}parseDirectiveLocations(){return this.delimitedMany(S.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,r=this.parseName();if(Object.prototype.hasOwnProperty.call(vs,r.value))return r;throw this.unexpected(e)}parseSchemaCoordinate(){const e=this._lexer.token,r=this.expectOptionalToken(S.AT),s=this.parseName();let n;!r&&this.expectOptionalToken(S.DOT)&&(n=this.parseName());let o;return(r||n)&&this.expectOptionalToken(S.PAREN_L)&&(o=this.parseName(),this.expectToken(S.COLON),this.expectToken(S.PAREN_R)),r?o?this.node(e,{kind:H.DIRECTIVE_ARGUMENT_COORDINATE,name:s,argumentName:o}):this.node(e,{kind:H.DIRECTIVE_COORDINATE,name:s}):n?o?this.node(e,{kind:H.ARGUMENT_COORDINATE,name:s,fieldName:n,argumentName:o}):this.node(e,{kind:H.MEMBER_COORDINATE,name:s,memberName:n}):this.node(e,{kind:H.TYPE_COORDINATE,name:s})}node(e,r){return this._options.noLocation!==!0&&(r.loc=new Zc(e,this._lexer.lastToken,this._lexer.source)),r}peek(e){return this._lexer.token.kind===e}expectToken(e){const r=this._lexer.token;if(r.kind===e)return this.advanceLexer(),r;throw be(this._lexer.source,r.start,`Expected ${Co(e)}, found ${gr(r)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const r=this._lexer.token;if(r.kind===S.NAME&&r.value===e)this.advanceLexer();else throw be(this._lexer.source,r.start,`Expected "${e}", found ${gr(r)}.`)}expectOptionalKeyword(e){const r=this._lexer.token;return r.kind===S.NAME&&r.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const r=e??this._lexer.token;return be(this._lexer.source,r.start,`Unexpected ${gr(r)}.`)}any(e,r,s){this.expectToken(e);const n=[];for(;!this.expectOptionalToken(s);)n.push(r.call(this));return n}optionalMany(e,r,s){if(this.expectOptionalToken(e)){const n=[];do n.push(r.call(this));while(!this.expectOptionalToken(s));return n}return[]}many(e,r,s){this.expectToken(e);const n=[];do n.push(r.call(this));while(!this.expectOptionalToken(s));return n}delimitedMany(e,r){this.expectOptionalToken(e);const s=[];do s.push(r.call(this));while(this.expectOptionalToken(e));return s}advanceLexer(){const{maxTokens:e}=this._options,r=this._lexer.advance();if(r.kind!==S.EOF&&(++this._tokenCounter,e!==void 0&&this._tokenCounter>e))throw be(this._lexer.source,r.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function gr(t){const e=t.value;return Co(t.kind)+(e!=null?` "${e}"`:"")}function Co(t){return od(t)?`"${t}"`:t}function Fd(t){return`"${t.replace(kd,_d)}"`}const kd=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function _d(t){return Nd[t.charCodeAt(0)]}const Nd=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],jd=Object.freeze({});function Sd(t,e,r=ho){const s=new Map;for(const C of Object.values(H))s.set(C,Td(e,C));let n,o=Array.isArray(t),i=[t],l=-1,x=[],d=t,c,h;const u=[],p=[];do{l++;const C=l===i.length,v=C&&x.length!==0;if(C){if(c=p.length===0?void 0:u[u.length-1],d=h,h=p.pop(),v)if(o){d=d.slice();let g=0;for(const[B,b]of x){const A=B-g;b===null?(d.splice(A,1),g++):d[A]=b}}else{d={...d};for(const[g,B]of x)d[g]=B}l=n.index,i=n.keys,x=n.edits,o=n.inArray,n=n.prev}else if(h){if(c=o?l:i[l],d=h[c],d==null)continue;u.push(c)}let y;if(!Array.isArray(d)){var f,E;Tn(d)||Ar(!1,`Invalid AST Node: ${Ks(d)}.`);const g=C?(f=s.get(d.kind))===null||f===void 0?void 0:f.leave:(E=s.get(d.kind))===null||E===void 0?void 0:E.enter;if(y=g==null?void 0:g.call(e,d,c,h,u,p),y===jd)break;if(y===!1){if(!C){u.pop();continue}}else if(y!==void 0&&(x.push([c,y]),!C))if(Tn(y))d=y;else{u.pop();continue}}if(y===void 0&&v&&x.push([c,d]),C)u.pop();else{var m;n={inArray:o,index:l,keys:i,edits:x,prev:n},o=Array.isArray(d),i=o?d:(m=r[d.kind])!==null&&m!==void 0?m:[],l=-1,x=[],h&&p.push(h),h=d}}while(n!==void 0);return x.length!==0?x[x.length-1][1]:t}function Td(t,e){const r=t[e];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:t.enter,leave:t.leave}}function Pd(t){return Sd(t,Od)}const Id=80,Od={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>z(t.definitions,`

`)},OperationDefinition:{leave(t){const e=rs(t.variableDefinitions)?X(`(
`,z(t.variableDefinitions,`
`),`
)`):X("(",z(t.variableDefinitions,", "),")"),r=X("",t.description,`
`)+z([t.operation,z([t.name,e]),z(t.directives," ")]," ");return(r==="query"?"":r+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:r,directives:s,description:n})=>X("",n,`
`)+t+": "+e+X(" = ",r)+X(" ",z(s," "))},SelectionSet:{leave:({selections:t})=>Ue(t)},Field:{leave({alias:t,name:e,arguments:r,directives:s,selectionSet:n}){const o=X("",t,": ")+e;let i=o+X("(",z(r,", "),")");return i.length>Id&&(i=o+X(`(
`,Br(z(r,`
`)),`
)`)),z([i,z(s," "),n]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+X(" ",z(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:r})=>z(["...",X("on ",t),z(e," "),r]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:r,directives:s,selectionSet:n,description:o})=>X("",o,`
`)+`fragment ${t}${X("(",z(r,", "),")")} on ${e} ${X("",z(s," ")," ")}`+n},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?nd(t):Fd(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+z(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+z(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+X("(",z(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:r})=>X("",t,`
`)+z(["schema",z(e," "),Ue(r)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:r})=>X("",t,`
`)+z(["scalar",e,z(r," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:s,fields:n})=>X("",t,`
`)+z(["type",e,X("implements ",z(r," & ")),z(s," "),Ue(n)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:r,type:s,directives:n})=>X("",t,`
`)+e+(rs(r)?X(`(
`,Br(z(r,`
`)),`
)`):X("(",z(r,", "),")"))+": "+s+X(" ",z(n," "))},InputValueDefinition:{leave:({description:t,name:e,type:r,defaultValue:s,directives:n})=>X("",t,`
`)+z([e+": "+r,X("= ",s),z(n," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:s,fields:n})=>X("",t,`
`)+z(["interface",e,X("implements ",z(r," & ")),z(s," "),Ue(n)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:r,types:s})=>X("",t,`
`)+z(["union",e,z(r," "),X("= ",z(s," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:r,values:s})=>X("",t,`
`)+z(["enum",e,z(r," "),Ue(s)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:r})=>X("",t,`
`)+z([e,z(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:r,fields:s})=>X("",t,`
`)+z(["input",e,z(r," "),Ue(s)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:r,repeatable:s,locations:n})=>X("",t,`
`)+"directive @"+e+(rs(r)?X(`(
`,Br(z(r,`
`)),`
)`):X("(",z(r,", "),")"))+(s?" repeatable":"")+" on "+z(n," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>z(["extend schema",z(t," "),Ue(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>z(["extend scalar",t,z(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:s})=>z(["extend type",t,X("implements ",z(e," & ")),z(r," "),Ue(s)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:s})=>z(["extend interface",t,X("implements ",z(e," & ")),z(r," "),Ue(s)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:r})=>z(["extend union",t,z(e," "),X("= ",z(r," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:r})=>z(["extend enum",t,z(e," "),Ue(r)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:r})=>z(["extend input",t,z(e," "),Ue(r)]," ")},TypeCoordinate:{leave:({name:t})=>t},MemberCoordinate:{leave:({name:t,memberName:e})=>z([t,X(".",e)])},ArgumentCoordinate:{leave:({name:t,fieldName:e,argumentName:r})=>z([t,X(".",e),X("(",r,":)")])},DirectiveCoordinate:{leave:({name:t})=>z(["@",t])},DirectiveArgumentCoordinate:{leave:({name:t,argumentName:e})=>z(["@",t,X("(",e,":)")])}};function z(t,e=""){var r;return(r=t==null?void 0:t.filter(s=>s).join(e))!==null&&r!==void 0?r:""}function Ue(t){return X(`{
`,Br(z(t,`
`)),`
}`)}function X(t,e,r=""){return e!=null&&e!==""?t+e+r:""}function Br(t){return X("  ",t.replace(/\n/g,`
  `))}function rs(t){var e;return(e=t==null?void 0:t.some(r=>r.includes(`
`)))!==null&&e!==void 0?e:!1}const In=t=>{var s,n;let e;const r=t.definitions.filter(o=>o.kind==="OperationDefinition");return r.length===1&&(e=(n=(s=r[0])==null?void 0:s.name)==null?void 0:n.value),e},ss=t=>{if(typeof t=="string"){let r;try{const s=wd(t);r=In(s)}catch{}return{query:t,operationName:r}}const e=In(t);return{query:Pd(t),operationName:e}};class Xt extends Error{constructor(e,r){const s=`${Xt.extractMessage(e)}: ${JSON.stringify({response:e,request:r})}`;super(s),Object.setPrototypeOf(this,Xt.prototype),this.response=e,this.request=r,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Xt)}static extractMessage(e){var r,s;return((s=(r=e.errors)==null?void 0:r[0])==null?void 0:s.message)??`GraphQL Error (Code: ${e.status})`}}var Ds={exports:{}};(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof jt<"u"&&jt,s=function(){function o(){this.fetch=!1,this.DOMException=r.DOMException}return o.prototype=r,new o}();(function(o){(function(i){var l=typeof o<"u"&&o||typeof self<"u"&&self||typeof jt<"u"&&jt||{},x={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function d(w){return w&&DataView.prototype.isPrototypeOf(w)}if(x.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(w){return w&&c.indexOf(Object.prototype.toString.call(w))>-1};function u(w){if(typeof w!="string"&&(w=String(w)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(w)||w==="")throw new TypeError('Invalid character in header field name: "'+w+'"');return w.toLowerCase()}function p(w){return typeof w!="string"&&(w=String(w)),w}function f(w){var _={next:function(){var k=w.shift();return{done:k===void 0,value:k}}};return x.iterable&&(_[Symbol.iterator]=function(){return _}),_}function E(w){this.map={},w instanceof E?w.forEach(function(_,k){this.append(k,_)},this):Array.isArray(w)?w.forEach(function(_){if(_.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+_.length);this.append(_[0],_[1])},this):w&&Object.getOwnPropertyNames(w).forEach(function(_){this.append(_,w[_])},this)}E.prototype.append=function(w,_){w=u(w),_=p(_);var k=this.map[w];this.map[w]=k?k+", "+_:_},E.prototype.delete=function(w){delete this.map[u(w)]},E.prototype.get=function(w){return w=u(w),this.has(w)?this.map[w]:null},E.prototype.has=function(w){return this.map.hasOwnProperty(u(w))},E.prototype.set=function(w,_){this.map[u(w)]=p(_)},E.prototype.forEach=function(w,_){for(var k in this.map)this.map.hasOwnProperty(k)&&w.call(_,this.map[k],k,this)},E.prototype.keys=function(){var w=[];return this.forEach(function(_,k){w.push(k)}),f(w)},E.prototype.values=function(){var w=[];return this.forEach(function(_){w.push(_)}),f(w)},E.prototype.entries=function(){var w=[];return this.forEach(function(_,k){w.push([k,_])}),f(w)},x.iterable&&(E.prototype[Symbol.iterator]=E.prototype.entries);function m(w){if(!w._noBody){if(w.bodyUsed)return Promise.reject(new TypeError("Already read"));w.bodyUsed=!0}}function C(w){return new Promise(function(_,k){w.onload=function(){_(w.result)},w.onerror=function(){k(w.error)}})}function v(w){var _=new FileReader,k=C(_);return _.readAsArrayBuffer(w),k}function y(w){var _=new FileReader,k=C(_),I=/charset=([A-Za-z0-9_-]+)/.exec(w.type),L=I?I[1]:"utf-8";return _.readAsText(w,L),k}function g(w){for(var _=new Uint8Array(w),k=new Array(_.length),I=0;I<_.length;I++)k[I]=String.fromCharCode(_[I]);return k.join("")}function B(w){if(w.slice)return w.slice(0);var _=new Uint8Array(w.byteLength);return _.set(new Uint8Array(w)),_.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(w){this.bodyUsed=this.bodyUsed,this._bodyInit=w,w?typeof w=="string"?this._bodyText=w:x.blob&&Blob.prototype.isPrototypeOf(w)?this._bodyBlob=w:x.formData&&FormData.prototype.isPrototypeOf(w)?this._bodyFormData=w:x.searchParams&&URLSearchParams.prototype.isPrototypeOf(w)?this._bodyText=w.toString():x.arrayBuffer&&x.blob&&d(w)?(this._bodyArrayBuffer=B(w.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):x.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(w)||h(w))?this._bodyArrayBuffer=B(w):this._bodyText=w=Object.prototype.toString.call(w):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof w=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):x.searchParams&&URLSearchParams.prototype.isPrototypeOf(w)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},x.blob&&(this.blob=function(){var w=m(this);if(w)return w;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var w=m(this);return w||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(x.blob)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var w=m(this);if(w)return w;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(g(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},x.formData&&(this.formData=function(){return this.text().then(P)}),this.json=function(){return this.text().then(JSON.parse)},this}var A=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function F(w){var _=w.toUpperCase();return A.indexOf(_)>-1?_:w}function N(w,_){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');_=_||{};var k=_.body;if(w instanceof N){if(w.bodyUsed)throw new TypeError("Already read");this.url=w.url,this.credentials=w.credentials,_.headers||(this.headers=new E(w.headers)),this.method=w.method,this.mode=w.mode,this.signal=w.signal,!k&&w._bodyInit!=null&&(k=w._bodyInit,w.bodyUsed=!0)}else this.url=String(w);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new E(_.headers)),this.method=F(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal||function(){if("AbortController"in l){var R=new AbortController;return R.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&k)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(k),(this.method==="GET"||this.method==="HEAD")&&(_.cache==="no-store"||_.cache==="no-cache")){var I=/([?&])_=[^&]*/;if(I.test(this.url))this.url=this.url.replace(I,"$1_="+new Date().getTime());else{var L=/\?/;this.url+=(L.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}N.prototype.clone=function(){return new N(this,{body:this._bodyInit})};function P(w){var _=new FormData;return w.trim().split("&").forEach(function(k){if(k){var I=k.split("="),L=I.shift().replace(/\+/g," "),R=I.join("=").replace(/\+/g," ");_.append(decodeURIComponent(L),decodeURIComponent(R))}}),_}function T(w){var _=new E,k=w.replace(/\r?\n[\t ]+/g," ");return k.split("\r").map(function(I){return I.indexOf(`
`)===0?I.substr(1,I.length):I}).forEach(function(I){var L=I.split(":"),R=L.shift().trim();if(R){var O=L.join(":").trim();try{_.append(R,O)}catch(Q){console.warn("Response "+Q.message)}}}),_}b.call(N.prototype);function j(w,_){if(!(this instanceof j))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=_.statusText===void 0?"":""+_.statusText,this.headers=new E(_.headers),this.url=_.url||"",this._initBody(w)}b.call(j.prototype),j.prototype.clone=function(){return new j(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},j.error=function(){var w=new j(null,{status:200,statusText:""});return w.ok=!1,w.status=0,w.type="error",w};var V=[301,302,303,307,308];j.redirect=function(w,_){if(V.indexOf(_)===-1)throw new RangeError("Invalid status code");return new j(null,{status:_,headers:{location:w}})},i.DOMException=l.DOMException;try{new i.DOMException}catch{i.DOMException=function(_,k){this.message=_,this.name=k;var I=Error(_);this.stack=I.stack},i.DOMException.prototype=Object.create(Error.prototype),i.DOMException.prototype.constructor=i.DOMException}function M(w,_){return new Promise(function(k,I){var L=new N(w,_);if(L.signal&&L.signal.aborted)return I(new i.DOMException("Aborted","AbortError"));var R=new XMLHttpRequest;function O(){R.abort()}R.onload=function(){var U={statusText:R.statusText,headers:T(R.getAllResponseHeaders()||"")};L.url.indexOf("file://")===0&&(R.status<200||R.status>599)?U.status=200:U.status=R.status,U.url="responseURL"in R?R.responseURL:U.headers.get("X-Request-URL");var me="response"in R?R.response:R.responseText;setTimeout(function(){k(new j(me,U))},0)},R.onerror=function(){setTimeout(function(){I(new TypeError("Network request failed"))},0)},R.ontimeout=function(){setTimeout(function(){I(new TypeError("Network request timed out"))},0)},R.onabort=function(){setTimeout(function(){I(new i.DOMException("Aborted","AbortError"))},0)};function Q(U){try{return U===""&&l.location.href?l.location.href:U}catch{return U}}if(R.open(L.method,Q(L.url),!0),L.credentials==="include"?R.withCredentials=!0:L.credentials==="omit"&&(R.withCredentials=!1),"responseType"in R&&(x.blob?R.responseType="blob":x.arrayBuffer&&(R.responseType="arraybuffer")),_&&typeof _.headers=="object"&&!(_.headers instanceof E||l.Headers&&_.headers instanceof l.Headers)){var se=[];Object.getOwnPropertyNames(_.headers).forEach(function(U){se.push(u(U)),R.setRequestHeader(U,p(_.headers[U]))}),L.headers.forEach(function(U,me){se.indexOf(me)===-1&&R.setRequestHeader(me,U)})}else L.headers.forEach(function(U,me){R.setRequestHeader(me,U)});L.signal&&(L.signal.addEventListener("abort",O),R.onreadystatechange=function(){R.readyState===4&&L.signal.removeEventListener("abort",O)}),R.send(typeof L._bodyInit>"u"?null:L._bodyInit)})}return M.polyfill=!0,l.fetch||(l.fetch=M,l.Headers=E,l.Request=N,l.Response=j),i.Headers=E,i.Request=N,i.Response=j,i.fetch=M,Object.defineProperty(i,"__esModule",{value:!0}),i})({})})(s),s.fetch.ponyfill=!0,delete s.fetch.polyfill;var n=r.fetch?r:s;e=n.fetch,e.default=n.fetch,e.fetch=n.fetch,e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response,t.exports=e})(Ds,Ds.exports);var Fs=Ds.exports;const vr=Ts(Fs),Rd=Object.freeze(Object.defineProperty({__proto__:null,default:vr},Symbol.toStringTag,{value:"Module"})),Ft=t=>{let e={};return t&&(typeof Headers<"u"&&t instanceof Headers||Rd&&Fs.Headers&&t instanceof Fs.Headers?e=qc(t):Array.isArray(t)?t.forEach(([r,s])=>{r&&s!==void 0&&(e[r]=s)}):e=t),e},On=t=>t.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),Ld=t=>{if(!Array.isArray(t.query)){const s=t,n=[`query=${encodeURIComponent(On(s.query))}`];return t.variables&&n.push(`variables=${encodeURIComponent(s.jsonSerializer.stringify(s.variables))}`),s.operationName&&n.push(`operationName=${encodeURIComponent(s.operationName)}`),n.join("&")}if(typeof t.variables<"u"&&!Array.isArray(t.variables))throw new Error("Cannot create query with given variable type, array expected");const e=t,r=t.query.reduce((s,n,o)=>(s.push({query:On(n),variables:e.variables?e.jsonSerializer.stringify(e.variables[o]):void 0}),s),[]);return`query=${encodeURIComponent(e.jsonSerializer.stringify(r))}`},Md=t=>async e=>{const{url:r,query:s,variables:n,operationName:o,fetch:i,fetchOptions:l,middleware:x}=e,d={...e.headers};let c="",h;t==="POST"?(h=$d(s,n,o,l.jsonSerializer),typeof h=="string"&&(d["Content-Type"]="application/json")):c=Ld({query:s,variables:n,operationName:o,jsonSerializer:l.jsonSerializer??Hs});const u={method:t,headers:d,body:h,...l};let p=r,f=u;if(x){const E=await Promise.resolve(x({...u,url:r,operationName:o,variables:n})),{url:m,...C}=E;p=m,f=C}return c&&(p=`${p}?${c}`),await i(p,f)};class Ud{constructor(e,r={}){this.url=e,this.requestConfig=r,this.rawRequest=async(...s)=>{const[n,o,i]=s,l=Hc(n,o,i),{headers:x,fetch:d=vr,method:c="POST",requestMiddleware:h,responseMiddleware:u,...p}=this.requestConfig,{url:f}=this;l.signal!==void 0&&(p.signal=l.signal);const{operationName:E}=ss(l.query);return ns({url:f,query:l.query,variables:l.variables,headers:{...Ft(as(x)),...Ft(l.requestHeaders)},operationName:E,fetch:d,method:c,fetchOptions:p,middleware:h}).then(m=>(u&&u(m),m)).catch(m=>{throw u&&u(m),m})}}async request(e,...r){const[s,n]=r,o=Wc(e,s,n),{headers:i,fetch:l=vr,method:x="POST",requestMiddleware:d,responseMiddleware:c,...h}=this.requestConfig,{url:u}=this;o.signal!==void 0&&(h.signal=o.signal);const{query:p,operationName:f}=ss(o.document);return ns({url:u,query:p,variables:o.variables,headers:{...Ft(as(i)),...Ft(o.requestHeaders)},operationName:f,fetch:l,method:x,fetchOptions:h,middleware:d}).then(E=>(c&&c(E),E.data)).catch(E=>{throw c&&c(E),E})}batchRequests(e,r){const s=Gc(e,r),{headers:n,...o}=this.requestConfig;s.signal!==void 0&&(o.signal=s.signal);const i=s.documents.map(({document:x})=>ss(x).query),l=s.documents.map(({variables:x})=>x);return ns({url:this.url,query:i,variables:l,headers:{...Ft(as(n)),...Ft(s.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??vr,method:this.requestConfig.method||"POST",fetchOptions:o,middleware:this.requestConfig.requestMiddleware}).then(x=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(x),x.data)).catch(x=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(x),x})}setHeaders(e){return this.requestConfig.headers=e,this}setHeader(e,r){const{headers:s}=this.requestConfig;return s?s[e]=r:this.requestConfig.headers={[e]:r},this}setEndpoint(e){return this.url=e,this}}const ns=async t=>{const{query:e,variables:r,fetchOptions:s}=t,n=Md(zc(t.method??"post")),o=Array.isArray(t.query),i=await n(t),l=await Vd(i,s.jsonSerializer??Hs),x=Array.isArray(l)?!l.some(({data:c})=>!c):!!l.data,d=Array.isArray(l)||!l.errors||Array.isArray(l.errors)&&!l.errors.length||s.errorPolicy==="all"||s.errorPolicy==="ignore";if(i.ok&&d&&x){const{errors:c,...h}=(Array.isArray(l),l),u=s.errorPolicy==="ignore"?h:l;return{...o?{data:u}:u,headers:i.headers,status:i.status}}else{const c=typeof l=="string"?{error:l}:l;throw new Xt({...c,status:i.status,headers:i.headers},{query:e,variables:r})}},$d=(t,e,r,s)=>{const n=s??Hs;if(!Array.isArray(t))return n.stringify({query:t,variables:e,operationName:r});if(typeof e<"u"&&!Array.isArray(e))throw new Error("Cannot create request body with given variable type, array expected");const o=t.reduce((i,l,x)=>(i.push({query:l,variables:e?e[x]:void 0}),i),[]);return n.stringify(o)},Vd=async(t,e)=>{let r;return t.headers.forEach((s,n)=>{n.toLowerCase()==="content-type"&&(r=s)}),r&&(r.toLowerCase().startsWith("application/json")||r.toLowerCase().startsWith("application/graphql+json")||r.toLowerCase().startsWith("application/graphql-response+json"))?e.parse(await t.text()):t.text()},as=t=>typeof t=="function"?t():t,zd=(t,...e)=>t.reduce((r,s,n)=>`${r}${s}${n in e?String(e[n]):""}`,""),Rn={id:Ie.id,easGraphqlAPI:"https://base.easscan.org/graphql",schemaUids:["0x1801901fabd0e6189356b4fb52bb0ab855276d84f7ec140839fbd1f6801ca065","0xf8b05c79f090979bf4a80270aba232dff11a10d9ca55c4f88de95317970f0de9"]},Ln={id:It.id,easGraphqlAPI:"https://base-sepolia.easscan.org/graphql",schemaUids:["0xef54ae90f47a187acc050ce631c55584fd4273c0ca9456ab21750921c3a84028","0x2f34a2ffe5f87b2f45fbc7c784896b768d77261e2f24f77341ae43751c765a69"]},Mn={id:C0.id,easGraphqlAPI:"https://optimism.easscan.org/graphql",schemaUids:["0xac4c92fc5c7babed88f78a917cdbcdc1c496a8f4ab2d5b2ec29402736b2cf929","0x6ab5d34260fca0cfcf0e76e96d439cace6aa7c3c019d7c4580ed52c6845e9c89","0x401a80196f3805c57b00482ae2b575a9f270562b6b6de7711af9837f08fa0faf"]},bo={[Rn.id]:Rn,[Ln.id]:Ln,[Mn.id]:Mn};function qd(t){return t.id in bo}function Wd(t){var e;return((e=bo[t.id])==null?void 0:e.easGraphqlAPI)??""}function Hd(t){const e=Wd(t);return new Ud(e)}const Gd=zd`
  query AttestationsForUsers(
    $where: AttestationWhereInput
    $distinct: [AttestationScalarFieldEnum!]
    $take: Int
  ) {
    attestations(where: $where, distinct: $distinct, take: $take) {
      id
      txid
      schemaId
      attester
      recipient
      revoked
      revocationTime
      expirationTime
      time
      timeCreated
      decodedDataJson
    }
  }
`;function Kd(t,e){const s={recipient:{equals:b0(t)},revoked:{equals:e.revoked}};return typeof e.expirationTime=="number"&&(s.OR=[{expirationTime:{equals:0}},{expirationTime:{gt:e.expirationTime}}]),e!=null&&e.schemas&&e.schemas.length>0&&(s.schemaId={in:e.schemas}),{where:{AND:[s]},distinct:["schemaId"],take:e.limit}}async function Jd(t,e,r){const s=Hd(e),n=Kd(t,r);return(await s.request(Gd,n)).attestations}function Un(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,s)}return r}function $n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Un(Object(r),!0).forEach(function(s){Xd(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Un(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Xd(t,e,r){return(e=Qd(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qd(t){var e=Yd(t,"string");return typeof e=="symbol"?e:e+""}function Yd(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}async function Zd(t,e,r){if(!qd(e))return console.log("Error in getAttestation: Chain is not supported"),[];try{const s={revoked:!1,expirationTime:Math.round(Date.now()/1e3),limit:10},n=$n($n({},s),r);return await Jd(t,e,n)}catch(s){return console.log(`Error in getAttestation: ${s.message}`),[]}}function eu(t,e){return nu(t)||su(t,e)||ru(t,e)||tu()}function tu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ru(t,e){if(t){if(typeof t=="string")return Vn(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vn(t,e):void 0}}function Vn(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=Array(e);r<e;r++)s[r]=t[r];return s}function su(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,n,o,i,l=[],x=!0,d=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(x=(s=o.call(r)).done)&&(l.push(s.value),l.length!==e);x=!0);}catch(c){d=!0,n=c}finally{try{if(!x&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw n}}return l}}function nu(t){if(Array.isArray(t))return t}function au({address:t,chain:e,schemaId:r}){if(!r)return[];const s=D.useState([]),n=eu(s,2),o=n[0],i=n[1];return D.useEffect(()=>{(async()=>{const x=await Zd(t,e,{schemas:[r]});i(x)})()},[t,e,r]),o}function Ao({children:t,address:e}){const r=yt(),s=r.chain,n=r.schemaId,o=Ut(),i=o.schemaId,l=o.address;if(!i&&!n)throw new Error("Name: a SchemaId must be provided to the OnchainKitProvider or Identity component.");return au({address:e??l,chain:s,schemaId:i??n}).length===0?null:t}const ou=["address","chain","className","defaultComponent","loadingComponent","children"];function zn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,s)}return r}function iu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zn(Object(r),!0).forEach(function(s){xu(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zn(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function xu(t,e,r){return(e=lu(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lu(t){var e=cu(t,"string");return typeof e=="symbol"?e:e+""}function cu(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function du(t,e){if(t==null)return{};var r,s,n=uu(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],e.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uu(t,e){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.includes(s))continue;r[s]=t[s]}return r}function Tr(t){let e=t.address,r=e===void 0?null:e,s=t.chain,n=t.className,o=t.defaultComponent,i=t.loadingComponent,l=t.children,x=du(t,ou);const d=Ut(),c=d.address,h=d.chain,u=r??c,p=s??h;if(!u)return console.error("Avatar: an Ethereum address must be provided to the Identity or Avatar component."),null;const f=Ws({address:u,chain:p}),E=f.data,m=f.isLoading,C=Rc({ensName:E??"",chain:p},{enabled:!!E}),v=C.data,y=C.isLoading,g=D.useMemo(()=>D.Children.toArray(l).find(Ge(lo)),[l]),B=o||xo,b=i||Sc;if(m||y)return a.jsx("div",{className:Z("h-8 w-8 overflow-hidden rounded-full",n),children:b});const A=E&&v;return a.jsxs("div",{className:"relative",children:[a.jsx("div",{"data-testid":"ockAvatar_ImageContainer",className:Z("h-10 w-10 overflow-hidden rounded-full",n),children:A?a.jsx("img",iu({className:"min-h-full min-w-full object-cover","data-testid":"ockAvatar_Image",loading:"lazy",width:"100%",height:"100%",decoding:"async",src:v,alt:E},x)):B}),g&&a.jsx(Ao,{address:u,children:a.jsx("div",{"data-testid":"ockAvatar_BadgeContainer",className:"-bottom-0.5 -right-0.5 absolute flex h-[15px] w-[15px] items-center justify-center rounded-full bg-transparent",children:a.jsx("div",{className:"flex h-3 w-3 items-center justify-center",children:g})})})]})}function Bo(t,e){var n;if(t==="0")return t;const r=Number.parseFloat(t),s=(n=Number(r))==null?void 0:n.toFixed(e).replace(/0+$/,"");return r>0&&Number.parseFloat(s)===0?"0":s}const hu="SWAP_ERROR",fu="SWAP_QUOTE_ERROR",pu="SWAP_BALANCE_ERROR",Eu="SWAP_QUOTE_LOW_LIQUIDITY_ERROR",mu="TOO_MANY_REQUESTS_ERROR",gu="UNCAUGHT_SWAP_QUOTE_ERROR",yu="UNCAUGHT_SWAP_ERROR";function Cu(t,e){return e===-32001?mu:e===-32602?Eu:t==="uncaught-swap"?yu:t==="uncaught-quote"?gu:t==="quote"?fu:t==="balance"?pu:hu}const bu=18;function Au(t){const e=A0({address:t});return D.useMemo(()=>{var o,i,l,x;let r;if(e!=null&&e.error&&(r={code:Cu("balance"),error:(o=e==null?void 0:e.error)==null?void 0:o.message,message:""}),!((i=e==null?void 0:e.data)!=null&&i.value)&&((l=e==null?void 0:e.data)==null?void 0:l.value)!==0n)return{convertedBalance:"",error:r,response:e,roundedBalance:""};const s=ua((x=e==null?void 0:e.data)==null?void 0:x.value,bu),n=Bo(s,8);return{convertedBalance:s,error:r,response:e,roundedBalance:n}},[e])}function vo({address:t,className:e}){const r=Ut(),s=r.address;if(!s&&!t)return console.error("Address: an Ethereum address must be provided to the Identity or EthBalance component."),null;const n=Au(t??s),o=n.convertedBalance,i=n.error;return!o||i?null:a.jsxs("span",{"data-testid":"ockEthBalance",className:Z(De.label2,ue.foregroundMuted,e),children:[Bo(o,4)," ETH"]})}function Bu(t,e){return Fu(t)||Du(t,e)||wu(t,e)||vu()}function vu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wu(t,e){if(t){if(typeof t=="string")return qn(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qn(t,e):void 0}}function qn(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=Array(e);r<e;r++)s[r]=t[r];return s}function Du(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,n,o,i,l=[],x=!0,d=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(x=(s=o.call(r)).done)&&(l.push(s.value),l.length!==e);x=!0);}catch(c){d=!0,n=c}finally{try{if(!x&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw n}}return l}}function Fu(t){if(Array.isArray(t))return t}function ku(){const t=D.useState("light"),e=Bu(t,2),r=e[0],s=e[1];return D.useEffect(()=>{const n=window.matchMedia("(prefers-color-scheme: dark)");s(n.matches?"dark":"light");function o(i){s(i.matches?"dark":"light")}return n.addEventListener("change",o),()=>n.removeEventListener("change",o)},[]),r}function wo(){const t=ku(),e=yt(),r=e.config,o=(r===void 0?{}:r).appearance||{},i=o.theme,l=i===void 0?"default":i,x=o.mode,d=x===void 0?"auto":x;if(l==="cyberpunk"||l==="base"||l==="hacker")return l;switch(d){case"auto":return`${l}-${t}`;case"dark":return`${l}-dark`;case"light":return`${l}-light`;default:return`${l}-${t}`}}const _u=["address","className","children","chain"];function Wn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,s)}return r}function Hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wn(Object(r),!0).forEach(function(s){Nu(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wn(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Nu(t,e,r){return(e=ju(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ju(t){var e=Su(t,"string");return typeof e=="symbol"?e:e+""}function Su(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tu(t,e){if(t==null)return{};var r,s,n=Pu(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],e.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pu(t,e){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.includes(s))continue;r[s]=t[s]}return r}function Pr(t){let e=t.address,r=e===void 0?null:e,s=t.className,n=t.children,o=t.chain,i=Tu(t,_u);const l=Ut(),x=l.address,d=l.chain;if(!x&&!r)return console.error("Name: an Ethereum address must be provided to the Identity or Name component."),null;const c=r??x,u=Ws({address:c,chain:o??d}),p=u.data,f=u.isLoading,E=D.useMemo(()=>D.Children.toArray(n).find(Ge(lo)),[n]);return f?a.jsx("span",{className:s}):a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",Hn(Hn({"data-testid":"ockIdentity_Text",className:Z(De.headline,ue.foreground,s)},i),{},{children:p||no(c)})),E&&a.jsx(Ao,{address:c,children:E})]})}function Iu(t,e){return Mu(t)||Lu(t,e)||Ru(t,e)||Ou()}function Ou(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ru(t,e){if(t){if(typeof t=="string")return Gn(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gn(t,e):void 0}}function Gn(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=Array(e);r<e;r++)s[r]=t[r];return s}function Lu(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,n,o,i,l=[],x=!0,d=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(x=(s=o.call(r)).done)&&(l.push(s.value),l.length!==e);x=!0);}catch(c){d=!0,n=c}finally{try{if(!x&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw n}}return l}}function Mu(t){if(Array.isArray(t))return t}const Uu=async({ensName:t,chain:e=Ye})=>{const r=Ps({chainId:e.id});if(!(Is({chainId:e.id})||r))return Promise.reject("ChainId not supported, socials resolution is only supported on Ethereum and Base.");const o=or(e),i=xs(t),l=async f=>{try{return await o.getEnsText({name:i,key:f,universalResolverAddress:Os[e.id]})||null}catch(E){return console.warn(`Failed to fetch ENS text record for ${f}:`,E),null}},x=await Promise.all([l("com.twitter"),l("com.github"),l("xyz.farcaster"),l("url")]),d=Iu(x,4),c=d[0],h=d[1],u=d[2],p=d[3];return{twitter:c,github:h,farcaster:u,website:p}},$u=({ensName:t,chain:e=Ye},r)=>{const s=r??{},n=s.enabled,o=n===void 0?!0:n,i=s.cacheTime,l=`ens-socials-${t}-${e.id}`;return Rs({queryKey:["useSocials",l],queryFn:async()=>Uu({ensName:t,chain:e}),gcTime:i,enabled:o,refetchOnWindowFocus:!1})},Vu=a.jsx("svg",{"data-testid":"ock-githubSvg",role:"img","aria-label":"ock-githubSvg",width:"100%",height:"100%",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none",className:"h-full w-full",children:a.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z",className:Ne.foreground})}),zu=a.jsxs("svg",{"data-testid":"ock-twitterSvg",role:"img","aria-label":"ock-twitterSvg",width:"100%",height:"100%",viewBox:"-1 -1 14 14",xmlns:"http://www.w3.org/2000/svg",fill:"none",className:"h-full w-full",children:[a.jsx("g",{clipPath:"url(#clip0_6998_47)",children:a.jsx("path",{d:"M7.14163 5.07857L11.6089 0H10.5503L6.67137 4.40965L3.57328 0H0L4.68492 6.66817L0 11.9938H1.05866L5.15491 7.33709L8.42672 11.9938H12L7.14137 5.07857H7.14163ZM5.69165 6.72692L5.21697 6.06292L1.44011 0.779407H3.06615L6.11412 5.04337L6.5888 5.70737L10.5508 11.2499H8.92476L5.69165 6.72718V6.72692Z",className:Ne.foreground})}),a.jsx("defs",{children:a.jsx("clipPath",{id:"clip0_6998_47",children:a.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),qu=a.jsxs("svg",{"data-testid":"ock-warpcastSvg",role:"img","aria-label":"ock-warpcastSvg",width:"100%",height:"100%",viewBox:"0 0 13 12",xmlns:"http://www.w3.org/2000/svg",className:`h-full w-full ${Ne.foreground}`,children:[a.jsx("path",{d:"M2.23071 0H10.6153V12H9.38451V6.50322H9.37245C9.23641 4.98404 7.96783 3.79353 6.42299 3.79353C4.87815 3.79353 3.60957 4.98404 3.47354 6.50322H3.46147V12H2.23071V0Z",className:Ne.foreground}),a.jsx("path",{d:"M0 1.70312L0.499999 3.40635H0.923066V10.2967C0.71065 10.2967 0.538456 10.47 0.538456 10.6838V11.1483H0.461541C0.249125 11.1483 0.0769147 11.3216 0.0769147 11.5354V11.9999H4.38458V11.5354C4.38458 11.3216 4.21239 11.1483 3.99998 11.1483H3.92306V10.6838C3.92306 10.47 3.75085 10.2967 3.53843 10.2967H3.07691V1.70312H0Z",className:Ne.foreground}),a.jsx("path",{d:"M9.46163 10.2967C9.24921 10.2967 9.077 10.47 9.077 10.6838V11.1483H9.00009C8.78767 11.1483 8.61548 11.3216 8.61548 11.5354V11.9999H12.9231V11.5354C12.9231 11.3216 12.7509 11.1483 12.5385 11.1483H12.4616V10.6838C12.4616 10.47 12.2894 10.2967 12.077 10.2967V3.40635H12.5001L13.0001 1.70312H9.92315V10.2967H9.46163Z",className:Ne.foreground})]}),Wu=a.jsx("svg",{"data-testid":"ock-websiteSvg",role:"img","aria-label":"ock-websiteSvg",width:"100%",height:"100%",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",fill:"none",className:`h-full w-full ${Ne.foreground}`,children:a.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 0C9.31356 0 12 2.68644 12 6C12 9.31356 9.31356 12 6 12C2.69689 12 0.0245556 9.35356 0 6C0.0244789 2.64689 2.69689 0 6 0ZM9.34844 9.97867C9.15053 9.88544 8.9422 9.80002 8.72553 9.72346C8.56251 10.0854 8.36772 10.4313 8.13856 10.7412C8.57762 10.5427 8.98439 10.2854 9.34844 9.97867ZM7.95156 9.49742C7.46353 9.38284 6.9427 9.30992 6.4 9.28597V11.1381C7.04791 10.9365 7.58233 10.2766 7.95156 9.49742ZM5.6 9.28597C5.05729 9.30993 4.53646 9.38284 4.04844 9.49742C4.41771 10.2766 4.95209 10.936 5.6 11.1375V9.28597ZM3.27456 9.72347C3.05737 9.80003 2.84956 9.88544 2.65164 9.97868C3.01571 10.2854 3.42248 10.5427 3.86153 10.7412C3.63237 10.4313 3.43758 10.0854 3.27456 9.72347ZM2.05267 9.38492C2.34486 9.2318 2.65736 9.09534 2.98809 8.97763C2.73913 8.21044 2.58288 7.33386 2.54799 6.40008H0.815211C0.901669 7.53597 1.35323 8.5703 2.05277 9.38497L2.05267 9.38492ZM3.75156 8.74742C4.33229 8.60263 4.95367 8.512 5.6 8.48545V6.4H3.34844C3.3823 7.25677 3.52553 8.05522 3.75157 8.74733L3.75156 8.74742ZM6.4 8.48545C7.04636 8.51201 7.66767 8.60263 8.24844 8.74794C8.47449 8.05523 8.61771 7.25728 8.65157 6.40061L6.40001 6.40009L6.4 8.48545ZM9.012 8.97763C9.34273 9.09534 9.65576 9.2318 9.94742 9.38492C10.6469 8.56982 11.0984 7.53603 11.185 6.40003H9.4522C9.4173 7.33389 9.26106 8.21048 9.0121 8.97759L9.012 8.97763ZM9.94742 2.61508C9.65523 2.7682 9.34273 2.90466 9.012 3.02237C9.26096 3.78956 9.41721 4.66614 9.4521 5.59992H11.1849C11.0984 4.46403 10.6469 3.4297 9.94732 2.61503L9.94742 2.61508ZM8.24853 3.25258C7.6678 3.39737 7.04642 3.488 6.40009 3.51456V5.6H8.65164C8.61779 4.74323 8.47456 3.94478 8.24852 3.25267L8.24853 3.25258ZM5.60009 3.51456C4.95373 3.48799 4.33242 3.39737 3.75164 3.25206C3.5256 3.94477 3.38238 4.74328 3.34852 5.59994H5.60008L5.60009 3.51456ZM2.98809 3.02237C2.65736 2.90466 2.34433 2.7682 2.05267 2.61508C1.35319 3.43018 0.901667 4.46397 0.815111 5.59997H2.54789C2.58278 4.66611 2.73903 3.78952 2.98799 3.02241L2.98809 3.02237ZM2.65163 2.02132C2.84954 2.11455 3.05788 2.19997 3.27454 2.27653C3.43757 1.91456 3.63236 1.56872 3.86152 1.25882C3.42246 1.45726 3.01569 1.71456 2.65163 2.02132ZM4.04852 2.50257C4.53654 2.61714 5.05738 2.69007 5.60008 2.71402V0.861911C4.95217 1.06348 4.41774 1.72337 4.04852 2.50258V2.50257ZM6.40008 2.71402C6.94279 2.69006 7.46362 2.61715 7.95163 2.50257C7.58237 1.7234 7.04747 1.06346 6.40008 0.8619V2.71402ZM8.72552 2.27652C8.94271 2.19996 9.15052 2.11454 9.34843 2.02131C8.98437 1.71454 8.5776 1.45724 8.13855 1.25881C8.36771 1.56923 8.5625 1.91454 8.72552 2.27652Z"})}),Hu={twitter:{href:t=>`https://x.com/${t}`,icon:zu},github:{href:t=>`https://github.com/${t}`,icon:Vu},farcaster:{href:t=>t,icon:qu},website:{href:t=>t,icon:Wu}};function Gu({platform:t,value:e}){const r=Hu[t];return a.jsxs("a",{href:r.href(e),target:"_blank",rel:"noopener noreferrer",className:Z(Me.default,ke.radius,ke.default,"flex items-center justify-center p-2"),"data-testid":`ockSocials_${t.charAt(0).toUpperCase()+t.slice(1)}`,children:[a.jsx("span",{className:"sr-only",children:t}),a.jsx("div",{className:Z("flex h-4 w-4 items-center justify-center"),children:r.icon})]})}function Ku({address:t,chain:e,className:r}){const s=Ut(),n=s.address,o=s.chain,i=t??n,l=e??o;if(!i)return console.error("Socials: an Ethereum address must be provided to the Socials component."),null;const x=Ws({address:i,chain:l}),d=x.data,c=x.isLoading,h=$u({ensName:d??"",chain:l},{enabled:!!d}),u=h.data,p=h.isLoading;return c||p?a.jsx("span",{className:r}):!u||Object.values(u).every(f=>!f)?null:a.jsx("div",{className:Z(ke.default,"mt-2 w-full pl-1",r),children:a.jsx("div",{className:"left-4 flex space-x-2",children:Object.entries(u).map(([f,E])=>E&&a.jsx(Gu,{platform:f,value:E},f))})})}function Ju({children:t,className:e,hasCopyAddressOnClick:r}){const s=wo(),n=D.useMemo(()=>{const c=D.Children.toArray(t),h=c.find(Ge(qs));return{avatar:c.find(Ge(Tr)),name:c.find(Ge(Pr)),address:h?D.cloneElement(h,{hasCopyAddressOnClick:r}):void 0,ethBalance:c.find(Ge(vo)),socials:c.find(Ge(Ku))}},[t,r]),o=n.avatar,i=n.name,l=n.address,x=n.ethBalance,d=n.socials;return a.jsxs("div",{className:Z(s,ar.default,"flex flex-col px-4 py-1",e),"data-testid":"ockIdentityLayout_container",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:o}),a.jsxs("div",{className:"flex flex-col",children:[i,l&&!x&&l,!l&&x&&x,l&&x&&a.jsxs("div",{className:"flex items-center gap-1",children:[l,a.jsx("span",{className:ue.foregroundMuted,children:"Â·"}),x]})]})]}),d]})}function zr({address:t,chain:e,children:r,className:s,hasCopyAddressOnClick:n,schemaId:o}){const i=yt(),l=i.chain,x=e??l;return a.jsx(io,{address:t,schemaId:o,chain:x,children:a.jsx(Ju,{className:s,hasCopyAddressOnClick:n,children:r})})}function Xu(){const{address:t,isConnected:e}=Ee(),{disconnect:r}=Ea(),{balances:s}=lr(),{profile:n,saveProfile:o}=Xa(),[i,l]=D.useState(!1),{verificationData:x}=Wl();D.useEffect(()=>{const p=n.name==="New AXON User"||!n.name,f=x.name||x.email;e&&(f&&p||x.verificationLevel>n.level||x.name&&x.name!==n.name||x.email&&x.email!==n.email)&&(console.log("Syncing verified metadata to profile..."),o({...n,level:Math.max(n.level,x.verificationLevel),name:x.name||n.name,email:x.email||n.email}).catch(console.error))},[e,x,n,o]);const c=(()=>{const p=Math.max(n.level,x.verificationLevel);return p>=3?{bg:"bg-axon-neon text-black",text:"C1 PREMIUM",icon:a.jsx(dr,{className:"w-3 h-3"})}:p>=2?{bg:"bg-axon-neon text-black",text:"L2 VERIFIED",icon:a.jsx(dr,{className:"w-3 h-3"})}:{bg:"bg-axon-obsidian text-white",text:`L${p} CONNECTED`,icon:null}})(),h=n.name==="New AXON User"&&x.name||n.name,u=n.email?n.email:x.email||"";return a.jsxs("div",{className:"min-h-screen bg-[#FBFBFB] pb-24 font-sans text-axon-obsidian",children:[a.jsx(Gl,{isOpen:i,onClose:()=>l(!1),data:{...n,name:h,email:u,isAccountVerified:x.isAccountVerified,isCountryVerified:x.isCountryVerified,isCoinbaseOne:x.isCoinbaseOne,level:Math.max(n.level,x.verificationLevel)},onSave:p=>o(p)}),a.jsxs("div",{className:"relative px-6 pt-8 pb-4 sticky top-0 z-30",children:[a.jsx("div",{className:"absolute inset-0 bg-white/85 backdrop-blur-xl border-b border-gray-200"}),a.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[radial-gradient(#000_1px,transparent_1px)] [background-size:16px_16px]"}),a.jsxs("div",{className:"relative z-10 flex justify-between items-start",children:[a.jsx("h1",{className:"text-lg font-black tracking-tight text-axon-obsidian font-mono uppercase",children:"Account"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("div",{className:`px-2 py-0.5 rounded-sm flex items-center gap-1 ${c.bg}`,children:[c.icon,a.jsx("span",{className:"text-[9px] font-mono font-bold",children:c.text})]})})]})]}),a.jsxs("div",{className:"px-6 py-6 relative z-10 px-6",children:[a.jsxs("div",{className:"relative mb-8 rounded-swiss p-1 overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-axon-obsidian"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/50 to-purple-900/50 opacity-50"}),a.jsx("div",{className:"absolute -right-12 -top-12 w-48 h-48 bg-axon-neon/20 blur-[60px] rounded-full"}),a.jsx("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(#fff_1px,transparent_1px)] [background-size:16px_16px]"}),a.jsxs("div",{className:"relative z-10 bg-axon-obsidian/40 backdrop-blur-sm p-5 rounded-[18px] border border-white/10 flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-5",children:[a.jsxs("div",{className:"group relative",children:[a.jsx(Tr,{address:t,className:"w-16 h-16 rounded-full border-2 border-axon-neon/30 ring-4 ring-black/20"}),a.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 bg-green-50 border-2 border-black rounded-full"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h2",{className:"text-xl font-bold text-white uppercase tracking-wide flex items-center gap-2",children:[a.jsx(Pr,{address:t,className:"text-white"}),Math.max(n.level,x.verificationLevel)>=2&&a.jsx(dr,{className:"w-4 h-4 text-axon-neon fill-axon-neon/20"})]}),a.jsx("p",{className:"text-sm text-gray-400 font-mono mb-2",children:u||"Base Account Verified"}),a.jsxs("div",{className:`inline-flex items-center space-x-1.5 px-2 py-0.5 rounded-sm border border-white/10 ${n.level>=2?"bg-axon-neon/10":"bg-white/10"}`,children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full animate-pulse ${n.level>=2?"bg-axon-neon":"bg-gray-400"}`}),a.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${n.level>=2?"text-axon-neon":"text-gray-300"}`,children:n.level===3?"COINBASE ONE":n.level===2?"BASE ACCOUNT":`LEVEL ${n.level}`})]})]})]}),a.jsx("div",{className:"mt-0 pt-4 border-t border-white/10",children:a.jsx(zr,{address:t,className:"!bg-transparent !p-0",children:a.jsx(qs,{className:"text-[10px] font-mono text-white/60 hover:text-white uppercase tracking-widest"})})})]})]}),a.jsxs("div",{className:"space-y-4 mb-8",children:[a.jsx("h3",{className:"font-bold text-xs text-axon-steel uppercase tracking-widest border-b border-gray-200 pb-2",children:"Wallet Assets"}),a.jsx(jr,{className:"!p-0 overflow-hidden border border-gray-200 shadow-sm",children:a.jsx("div",{className:"divide-y divide-gray-100",children:ve.map(p=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:J("w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold",p.color),children:p.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-sm text-axon-obsidian",children:p.symbol}),a.jsx("p",{className:"text-[10px] text-axon-steel uppercase font-bold tracking-tight",children:p.name})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-sm font-mono text-axon-obsidian",children:s[p.symbol]||"0.00"}),a.jsx("p",{className:"text-[10px] text-axon-steel font-mono uppercase tracking-tighter",children:"On Base Network"})]})]},p.symbol))})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-bold text-xs text-axon-steel uppercase tracking-widest border-b border-gray-200 pb-2",children:"Settings"}),a.jsx(jr,{className:"!p-0 overflow-hidden border border-gray-200",children:a.jsxs("div",{className:"divide-y divide-gray-100",children:[a.jsxs("button",{onClick:()=>l(!0),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors group",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-50 text-primary flex items-center justify-center group-hover:bg-primary group-hover:text-white transition-colors",children:a.jsx(_s,{className:"w-4 h-4"})}),a.jsx("span",{className:"font-bold text-sm text-axon-obsidian uppercase",children:"Personal Info"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[n.level<2&&a.jsx("span",{className:"text-[9px] font-bold text-blue-500 bg-blue-50 px-2 py-0.5 rounded-full uppercase tracking-tighter",children:"Get Verified"}),a.jsx(yr,{className:"w-4 h-4 text-gray-400 group-hover:text-primary"})]})]}),a.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors group",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-md bg-purple-50 text-purple-600 flex items-center justify-center group-hover:bg-purple-600 group-hover:text-white transition-colors",children:a.jsx(dr,{className:"w-4 h-4"})}),a.jsx("span",{className:"font-bold text-sm text-axon-obsidian uppercase",children:"Security & Passkeys"})]}),a.jsx(yr,{className:"w-4 h-4 text-gray-400 group-hover:text-purple-600"})]}),a.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors group",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-md bg-orange-50 text-orange-600 flex items-center justify-center group-hover:bg-orange-600 group-hover:text-white transition-colors",children:a.jsx(Vo,{className:"w-4 h-4"})}),a.jsx("span",{className:"font-bold text-sm text-axon-obsidian uppercase",children:"Limits & Fees"})]}),a.jsx(yr,{className:"w-4 h-4 text-gray-400 group-hover:text-orange-600"})]})]})})]}),a.jsxs(Oe,{variant:"secondary",fullWidth:!0,className:"mt-8 !text-red-600 !border-red-100 hover:!bg-red-50 hover:!border-red-200",onClick:()=>{r(),window.location.reload()},children:[a.jsx(zo,{className:"w-4 h-4 mr-2 inline"}),"Sign Out"]})]})]})}function Qu(){const t=Ze();return a.jsxs("div",{className:"min-h-screen bg-[#F5F5F7] flex flex-col relative overflow-hidden font-sans text-axon-obsidian",children:[a.jsx("div",{className:"absolute inset-0 opacity-5 pointer-events-none",children:a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-[radial-gradient(circle,rgba(0,0,0,0.1)_1px,transparent_1px)] bg-[size:20px_20px]"})}),a.jsxs("nav",{className:"relative z-10 px-6 pt-8 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-axon-obsidian rounded-swiss flex items-center justify-center",children:a.jsx(Qt,{className:"w-4 h-4 text-axon-neon"})}),a.jsx("span",{className:"font-extrabold tracking-tight text-xl",children:"AXON"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-[10px] font-mono font-bold text-axon-steel uppercase tracking-widest",children:"ASEAN NETWORK LIVE"})]})]}),a.jsx("main",{className:"flex-1 flex flex-col justify-center px-6 relative z-10 pb-10",children:a.jsxs($.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsxs("div",{className:"mb-6 inline-flex items-center gap-2 bg-white border border-gray-200 px-3 py-1.5 rounded-full shadow-sm",children:[a.jsx("span",{className:"text-sm",children:"ðŸŒ"}),a.jsx("span",{className:"text-[10px] font-bold font-mono tracking-widest uppercase text-axon-steel",children:"CROSS-BORDER PAYMENTS"})]}),a.jsxs("h1",{className:"text-5xl font-extrabold leading-[0.95] tracking-tighter mb-6 text-axon-obsidian",children:["ONE QR. ",a.jsx("br",{}),a.jsx("span",{className:"text-primary",children:"ALL OF ASEAN."})]}),a.jsxs("p",{className:"text-axon-steel font-medium text-lg leading-relaxed max-w-sm mb-8",children:["Pay effortlessly across Indonesia, Singapore, Malaysia, and Thailand using",a.jsx("span",{className:"text-axon-obsidian font-bold",children:" Fiat Stablecoins"}),". Zero fx fees, instant settlement."]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-10",children:[a.jsxs("div",{className:"bg-white p-4 rounded-swiss border border-gray-200",children:[a.jsx(Qe,{className:"w-5 h-5 text-axon-neon fill-black mb-2"}),a.jsx("h3",{className:"font-bold text-sm",children:"Instant"}),a.jsx("p",{className:"text-xs text-axon-steel",children:"Settlement via Base L2"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-swiss border border-gray-200",children:[a.jsx(Qt,{className:"w-5 h-5 text-primary mb-2"}),a.jsx("h3",{className:"font-bold text-sm",children:"ASEAN Universal"}),a.jsx("p",{className:"text-xs text-axon-steel",children:"Scan QRIS, DuitNow, & more"})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("button",{onClick:()=>t("/login"),className:"w-full h-16 bg-axon-obsidian text-white rounded-swiss font-extrabold flex items-center justify-center gap-3 shadow-xl hover:bg-black transition-all active:scale-[0.98]",children:[a.jsx(da,{className:"w-5 h-5 text-axon-neon"}),a.jsx("span",{className:"uppercase tracking-widest text-sm",children:"Sign in with Base"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-4 opacity-60 grayscale",children:[a.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/QRIS_logo.svg/1200px-QRIS_logo.svg.png",className:"h-4 object-contain",alt:"QRIS"}),a.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/4/4e/DuitNow_logo.png",className:"h-4 object-contain",alt:"DuitNow"}),a.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/PayNow_logo.svg/1200px-PayNow_logo.svg.png",className:"h-4 object-contain",alt:"PayNow"})]})]})]})}),a.jsxs("div",{className:"bg-white border-t border-gray-200 p-6 flex justify-between items-center relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-axon-obsidian",children:[a.jsx(xa,{className:"w-4 h-4 text-axon-steel"}),"Border-less"]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-axon-obsidian",children:[a.jsx(je,{className:"w-4 h-4 text-axon-steel"}),"Stablecoin"]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-axon-obsidian",children:[a.jsx(Ss,{className:"w-4 h-4 text-axon-steel"}),"Gasless"]})]})]})}function Yu(){const[t]=Zo(),e=Ze(),{address:r}=Ee(),[s,n]=D.useState("loading"),[o,i]=D.useState("Processing authentication...");D.useEffect(()=>{const x=t.get("code");if(t.get("error")){n("error"),i("Authentication failed. Please try again."),setTimeout(()=>e("/account"),3e3);return}if(!x){n("error"),i("Invalid callback. Missing authorization code."),setTimeout(()=>e("/account"),3e3);return}if(!r){n("error"),i("Please connect your wallet first."),setTimeout(()=>e("/"),3e3);return}l(x,r)},[t,e,r]);const l=async(x,d)=>{var c;try{i("Exchanging authorization code...");const{data:h,error:u}=await pe.functions.invoke("coinbase_oauth",{body:{code:x,redirect_uri:void 0,wallet_address:d.toLowerCase()}});if(u||!h||h.error)throw console.error("Token exchange error:",u||(h==null?void 0:h.error)),new Error((h==null?void 0:h.error)||"Failed to exchange code for token");const p=h.access_token;localStorage.setItem(`coinbase_oauth_token_${d}`,p);const f=h.user||{},E={name:f.name||"User",email:f.email||"",country:((c=f.country)==null?void 0:c.code)||"ID",verificationLevel:2};localStorage.setItem(`coinbase_verification_${d}`,JSON.stringify(E));try{await pe.from("user_profiles").upsert({wallet_address:d.toLowerCase(),name:E.name,email:E.email,verification_level:2,updated_at:new Date().toISOString()}),console.log("Profile synced to Supabase after OAuth")}catch(m){console.warn("Post-OAuth profile sync failed:",m)}n("success"),i("Successfully authenticated! Redirecting..."),setTimeout(()=>{e("/account"),window.location.reload()},2e3)}catch(h){console.error("OAuth error:",h),n("error"),i("Failed to complete authentication. Please try again."),setTimeout(()=>e("/account"),3e3)}};return a.jsx("div",{className:"min-h-screen bg-[#FBFBFB] flex items-center justify-center p-6",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"bg-white rounded-[20px] border border-gray-200 p-8 text-center",children:[a.jsxs("div",{className:"flex justify-center mb-6",children:[s==="loading"&&a.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(Fe,{className:"w-8 h-8 text-primary animate-spin"})}),s==="success"&&a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(qo,{className:"w-8 h-8 text-green-600"})}),s==="error"&&a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx(Wo,{className:"w-8 h-8 text-red-600"})})]}),a.jsxs("h1",{className:"text-xl font-black text-axon-obsidian uppercase tracking-tight font-mono mb-2",children:[s==="loading"&&"Authenticating",s==="success"&&"Success!",s==="error"&&"Error"]}),a.jsx("p",{className:"text-sm text-gray-600 mb-6",children:o}),s==="loading"&&a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 overflow-hidden",children:a.jsx("div",{className:"h-full bg-primary rounded-full animate-pulse",style:{width:"60%"}})}),a.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100",children:a.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-wider font-mono",children:"Powered by Coinbase"})})]}),a.jsx("p",{className:"text-center text-xs text-gray-500 mt-4",children:"Please do not close this window"})]})})}function Zu({snapId:t,amount:e,snappers:r,mode:s,token:n,onClose:o}){const[i,l]=D.useState(!1),x=`${window.location.origin}/snap/${t}`,d=`axon.to/snap/${t}`,c=async()=>{try{await navigator.clipboard.writeText(x),l(!0),setTimeout(()=>l(!1),2e3)}catch(p){console.error("Failed to copy:",p)}},h=()=>{const p=`ðŸŽ You've received an AXON Snap! Tap to claim your surprise: ${x}`;window.open(`https://wa.me/?text=${encodeURIComponent(p)}`,"_blank")},u=()=>{const p=`ðŸŽ You've received an AXON Snap! Tap to claim your surprise: ${x}`;window.open(`https://t.me/share/url?url=${encodeURIComponent(x)}&text=${encodeURIComponent(p)}`,"_blank")};return a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-gray-900/20 backdrop-blur-xl",onClick:o,children:a.jsxs($.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",stiffness:300,damping:30},className:"bg-white border border-gray-200 rounded-[32px] p-8 max-w-md w-full shadow-2xl shadow-gray-200/50 relative overflow-hidden",onClick:p=>p.stopPropagation(),children:[a.jsx("button",{onClick:o,className:"absolute top-6 right-6 w-8 h-8 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 hover:bg-gray-100 hover:text-axon-obsidian transition-colors z-20",children:a.jsx(ct,{className:"w-4 h-4"})}),a.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-64 h-64 bg-axon-neon/10 blur-[80px] rounded-full pointer-events-none"}),a.jsxs("div",{className:"text-center mb-8 relative z-10",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-white border border-gray-100 shadow-sm mb-4",children:[a.jsx(Yt,{className:"w-3 h-3 text-axon-neon fill-black"}),a.jsx("span",{className:"text-[10px] font-bold text-axon-obsidian uppercase tracking-widest",children:"Snap Sequence Active"})]}),a.jsxs("h2",{className:"text-3xl font-black text-axon-obsidian italic uppercase tracking-tight leading-none mb-2",children:["Surge ",a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-axon-neon to-green-500",children:"Ready"})]}),a.jsxs("p",{className:"text-[10px] text-axon-steel font-mono uppercase tracking-[0.2em] font-bold",children:[r," Nodes Â· ",e," ",n.symbol," Â· ",s.toUpperCase()," Distribution"]})]}),a.jsxs("div",{className:"relative flex items-center justify-center mb-10 relative z-10",children:[a.jsx($.div,{className:"absolute w-60 h-60 rounded-full border border-axon-neon/30",animate:{scale:[.95,1.05,.95],opacity:[.3,.6,.3]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),a.jsx($.div,{className:"absolute w-64 h-64 rounded-full border border-gray-100",animate:{rotate:360},transition:{duration:15,repeat:1/0,ease:"linear"}}),a.jsx("div",{className:"relative bg-white p-4 rounded-[24px] shadow-xl border border-gray-100",children:a.jsx($s,{value:x,size:180,level:"H",includeMargin:!1,imageSettings:{src:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23050505'%3E%3Cpath d='M13 2L3 14h8l-2 8 10-12h-8l2-8z'/%3E%3C/svg%3E",height:36,width:36,excavate:!0}})})]}),a.jsxs("div",{className:"space-y-3 mb-8 relative z-10",children:[a.jsx("label",{className:"block text-[10px] font-bold text-axon-steel uppercase tracking-widest ml-1",children:"Surge Link"}),a.jsxs("div",{className:"flex items-center gap-2 p-1 bg-[#F9F9FB] border border-gray-200 rounded-2xl",children:[a.jsx("div",{className:"flex-1 px-4 py-3 font-mono text-xs text-axon-obsidian truncate",children:d}),a.jsx("button",{onClick:c,className:J("w-11 h-11 rounded-xl flex items-center justify-center transition-all active:scale-90 shadow-sm",i?"bg-green-500 text-white":"bg-white border border-gray-200 text-axon-obsidian hover:bg-gray-50"),children:i?a.jsx(Yt,{className:"w-5 h-5"}):a.jsx(Ho,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 relative z-10",children:[a.jsxs("button",{onClick:h,className:"h-14 bg-[#25D366]/5 border border-[#25D366]/20 hover:bg-[#25D366]/10 text-[#25D366] font-bold text-[10px] uppercase tracking-widest rounded-2xl transition-all flex flex-col items-center justify-center gap-1",children:[a.jsx(os,{className:"w-4 h-4"}),"WhatsApp"]}),a.jsxs("button",{onClick:u,className:"h-14 bg-[#0088CC]/5 border border-[#0088CC]/20 hover:bg-[#0088CC]/10 text-[#0088CC] font-bold text-[10px] uppercase tracking-widest rounded-2xl transition-all flex flex-col items-center justify-center gap-1",children:[a.jsx(os,{className:"w-4 h-4"}),"Telegram"]})]}),a.jsx("button",{onClick:o,className:"w-full mt-8 h-14 bg-axon-obsidian text-white hover:bg-black font-black text-xs uppercase tracking-[0.3em] rounded-2xl transition-all shadow-lg hover:shadow-xl",children:"Return to Nexus"})]})})}const Ir={async createSnap(t){const{error:e}=await pe.from("snaps").insert([t]);if(e)throw console.error("Error creating snap:",e),e;return await pe.from("transactions").insert({user_address:t.sender_address,type:"snap_create",amount:t.total_amount.toString(),from_token:t.token_symbol,to_token:"SNAP",status:"CONFIRMED",tx_hash:"",created_at:new Date().toISOString()}),!0},async getSnap(t){const{data:e,error:r}=await pe.from("snaps").select("*").eq("id",t).single();if(r)throw r;return e},async claimSnap(t,e,r=!1){try{if(r)return{success:!0,message:"Transaction pending in wallet"};const{data:s,error:n}=await pe.functions.invoke("claim_snap",{body:{snap_id:t,claimer_address:e}});return n?(console.error("Edge Function Error:",n),n instanceof Error?{success:!1,message:n.message}:{success:!1,message:n.message||"Server connection failed"}):s.success?(s.amount&&await pe.from("transactions").insert({user_address:e,type:"snap_claim",amount:s.amount.toString(),from_token:"SNAP",to_token:"USDC",status:"CONFIRMED",tx_hash:s.tx||"",created_at:new Date().toISOString()}),{success:!0,amount:s.amount,tx_hash:s.tx}):{success:!1,message:s.message}}catch(s){return console.error("Claim failed:",s),{success:!1,message:"System error"}}},async getClaimCount(t){const{count:e}=await pe.from("snap_claims").select("*",{count:"exact",head:!0}).eq("snap_id",t);return e||0},async getUserSnaps(t){const{data:e,error:r}=await pe.from("snaps").select(`
                *,
                snap_claims (
                    id
                )
            `).eq("sender_address",t).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching user snaps:",r),r;return e.map(s=>{var n;return{...s,claimed_count:((n=s.snap_claims)==null?void 0:n.length)||0}})}};function eh(){const t=Ze(),{address:e}=Ee(),{writeContractsAsync:r}=Vs(),{balances:s,isLoading:n}=lr(),o=D.useMemo(()=>Zs.map(k=>({...k,balance:s[k.symbol]||"0.00",balanceNum:parseFloat((s[k.symbol]||"0").replace(/,/g,""))})).filter(k=>k.balanceNum>0).sort((k,I)=>I.balanceNum-k.balanceNum),[s]),[i,l]=D.useState(""),[x,d]=D.useState(""),[c,h]=D.useState("equal"),[u,p]=D.useState(o[0]||Zs[0]),[f,E]=D.useState(!1),[m,C]=D.useState(!1),[v,y]=D.useState(null),[g,B]=D.useState(!1),[b,A]=D.useState([]),[F,N]=D.useState(!1),[P,T]=D.useState(null),j=async()=>{if(e){N(!0);try{const k=await Ir.getUserSnaps(e);A(k)}catch(k){console.error("Failed to fetch history:",k)}finally{N(!1)}}};D.useEffect(()=>{j()},[e]),D.useEffect(()=>{o.length>0&&!u.symbol&&p(o[0])},[o]);const V=async()=>{if(!i||!x||parseFloat(i)<=0||parseInt(x)<=0)return;const k=u.balanceNum||0;if(parseFloat(i)>k){alert("Insufficient balance!");return}if(!e){alert("Please connect your wallet first.");return}B(!0);try{const I=pa(i,u.decimals),L=Cr;console.log("SURGE INITIATED"),console.log("Recipient (Vault):",L),console.log("Token:",u.symbol,"@",u.address);const R="https://api.developer.coinbase.com/rpc/v1/base/NQTfYj9jR92AAZ4REeBBieHzESBA7lEn";console.log("Paymaster URL Active:",!!R);const O=br!=="0x0000000000000000000000000000000000000000",Q=crypto.randomUUID(),se=ls(B0(Q)),U=await r({contracts:O?[{address:u.address,abi:Fr,functionName:"approve",args:[br,I]},{address:br,abi:O0,functionName:"createSnap",args:[se,u.address,I,BigInt(x),c==="random"]}]:[{address:u.address,abi:Fr,functionName:"transfer",args:[Cr,I]}],capabilities:{paymasterService:R?{url:R}:void 0}});console.log("Transaction sent:",U),await Ir.createSnap({id:Q,sender_address:e,token_symbol:u.symbol,total_amount:parseFloat(i),remaining_amount:parseFloat(i),snappers_count:parseInt(x),mode:c,status:"active"}),j(),y(Q),C(!0)}catch(I){console.error("Failed to create snap:",I),I.name==="UserRejectedRequestError"?alert("Transaction rejected by user."):alert("Failed to create Snap transaction. Ensure you have network connectivity.")}finally{B(!1)}},M=()=>{C(!1),t("/")},w=i&&x&&parseFloat(i)>0&&parseInt(x)>0,_=!!e;return n?a.jsx("div",{className:"min-h-screen bg-[#F5F5F7] flex items-center justify-center",children:a.jsx(Fe,{className:"w-8 h-8 text-axon-obsidian animate-spin"})}):a.jsxs("div",{className:"min-h-screen bg-[#F5F5F7] font-sans text-axon-obsidian overflow-x-hidden",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-axon-neon/20 blur-[120px] rounded-full opacity-50"}),a.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-600/5 blur-[120px] rounded-full"}),a.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[radial-gradient(#000_1px,transparent_1px)] [background-size:24px_24px]"})]}),a.jsx(_e,{children:m&&a.jsx(Zu,{snapId:v||"",amount:parseFloat(i),snappers:parseInt(x),mode:c,token:u,onClose:M})}),a.jsxs("div",{className:"relative z-30 px-6 py-6 flex items-center justify-between sticky top-0 bg-[#F5F5F7]/80 backdrop-blur-md border-b border-gray-200",children:[a.jsx("button",{onClick:()=>t("/"),className:"w-10 h-10 rounded-full border border-gray-200 bg-white flex items-center justify-center hover:bg-gray-50 transition shadow-sm",children:a.jsx(Go,{className:"w-5 h-5 text-axon-obsidian"})}),a.jsx("h1",{className:"text-xs font-black text-axon-obsidian uppercase tracking-widest font-mono",children:"NEURAL SNAP GENERATOR"}),a.jsx("div",{className:"w-10"})]}),a.jsxs("div",{className:"relative z-10 px-6 py-8 max-w-lg mx-auto pb-32",children:[a.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"space-y-8",children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-white border border-gray-200 shadow-sm mb-2",children:[a.jsx(Qe,{className:"w-3.5 h-3.5 text-axon-neon fill-black"}),a.jsx("span",{className:"text-[10px] font-bold text-axon-obsidian uppercase tracking-wide",children:"AI Distribution"})]}),a.jsxs("h2",{className:"text-4xl font-black tracking-tight text-axon-obsidian uppercase italic leading-none",children:["Create ",a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-axon-obsidian to-gray-600",children:"Snap"})]}),a.jsx("p",{className:"text-xs text-axon-steel font-medium tracking-wide",children:"Instant multi-node money distribution"}),a.jsxs("div",{className:"pt-2 flex flex-col items-center gap-1",children:[a.jsxs("span",{className:"text-[10px] font-black text-axon-neon bg-axon-obsidian px-3 py-1 rounded-full tracking-tighter shadow-lg",children:["ACTIVE VAULT: ",Cr]}),a.jsx("span",{className:"text-[8px] font-mono text-gray-400 opacity-50",children:"Sync Status: v1.0.3-LIVE"})]})]}),_?a.jsxs("div",{className:"bg-white border border-gray-200 rounded-[32px] p-8 shadow-xl shadow-gray-200/50 relative overflow-hidden",children:[a.jsxs("div",{className:"relative z-10 space-y-8",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-[10px] font-bold text-axon-steel uppercase tracking-widest ml-1",children:"Network Asset"}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>E(!f),className:"w-full flex items-center justify-between bg-[#F9F9FB] border border-gray-200 rounded-2xl px-5 py-4 hover:border-gray-300 transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:J("w-10 h-10 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-sm",u.color),children:u.icon}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-bold text-axon-obsidian text-lg leading-none mb-1",children:u.symbol}),a.jsx("p",{className:"text-[10px] text-axon-steel uppercase font-bold tracking-tight",children:u.name})]})]}),a.jsx(la,{className:J("w-5 h-5 text-gray-400 group-hover:text-axon-obsidian transition-transform",f&&"rotate-180")})]}),a.jsx(_e,{children:f&&a.jsx($.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute top-full left-0 right-0 mt-3 bg-white border border-gray-200 rounded-2xl shadow-2xl z-50 overflow-hidden",children:a.jsx("div",{className:"max-h-60 overflow-y-auto custom-scrollbar",children:o.map(k=>a.jsxs("button",{onClick:()=>{p(k),E(!1)},className:J("w-full px-5 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0",u.symbol===k.symbol&&"bg-gray-50"),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:J("w-8 h-8 rounded-full flex items-center justify-center text-white text-[10px] font-bold",k.color),children:k.icon}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-bold text-axon-obsidian text-sm",children:k.symbol}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-[10px] text-axon-steel uppercase font-bold",children:k.name}),a.jsx("span",{className:"text-[10px] font-mono text-axon-obsidian/70",children:k.balance||"0.00"})]})]})]}),u.symbol===k.symbol&&a.jsx("div",{className:"w-2 h-2 bg-axon-obsidian rounded-full"})]},k.symbol))})})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-end ml-1",children:[a.jsx("label",{className:"block text-[10px] font-bold text-axon-steel uppercase tracking-widest",children:"Surge Amount"}),a.jsxs("span",{className:"text-[10px] font-mono text-axon-obsidian/60 uppercase font-bold",children:["Available: ",u.balance||"0.00"," ",u.symbol]})]}),a.jsxs("div",{className:"relative group/input",children:[a.jsx("input",{type:"number",value:i,onChange:k=>l(k.target.value),placeholder:"0.00",className:"w-full text-5xl font-black text-axon-obsidian bg-transparent border-b-2 border-gray-200 focus:border-axon-obsidian outline-none transition-all pb-4 font-mono placeholder:text-gray-200"}),a.jsx("div",{className:"absolute right-0 bottom-4 text-gray-300 font-mono text-sm uppercase font-bold opacity-100 group-focus-within/input:text-axon-obsidian transition-colors",children:u.symbol})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-[10px] font-bold text-axon-steel uppercase tracking-widest ml-1",children:"Recipient Nodes"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center gap-2",children:["5","10","25","50"].map(k=>a.jsx("button",{onClick:()=>d(k),className:J("flex-1 h-10 rounded-xl text-xs font-black transition-all border",x===k?"bg-axon-obsidian text-white border-axon-obsidian shadow-lg":"bg-white text-axon-steel border-gray-200 hover:border-gray-300 hover:text-axon-obsidian"),children:k},k))}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",value:x,onChange:k=>d(k.target.value),placeholder:"Or enter custom amount",min:"1",className:"w-full h-12 px-4 rounded-xl border-2 border-gray-200 focus:border-axon-obsidian outline-none transition-all text-center font-bold text-axon-obsidian placeholder:text-gray-300 placeholder:font-normal"}),a.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] font-bold text-gray-400 uppercase",children:"Recipients"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"block text-[10px] font-bold text-axon-steel uppercase tracking-widest ml-1",children:"Neural Logic"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>h("equal"),className:J("relative h-20 rounded-[20px] border transition-all flex flex-col items-center justify-center gap-1 overflow-hidden group",c==="equal"?"bg-axon-obsidian border-axon-obsidian shadow-lg":"bg-[#F9F9FB] border-gray-200 hover:border-gray-300"),children:[a.jsx("div",{className:"flex gap-1 mb-1",children:[1,2,3].map(k=>a.jsx("div",{className:J("w-1.5 h-3 rounded-full",c==="equal"?"bg-axon-neon":"bg-gray-300")},k))}),a.jsx("span",{className:J("text-xs font-bold uppercase tracking-widest",c==="equal"?"text-white":"text-axon-steel"),children:"Equal"}),a.jsx("span",{className:J("text-[8px] font-mono uppercase opacity-60",c==="equal"?"text-gray-300":"text-gray-400"),children:"Linear Split"})]}),a.jsxs("button",{onClick:()=>h("random"),className:J("relative h-20 rounded-[20px] border transition-all flex flex-col items-center justify-center gap-1 overflow-hidden group",c==="random"?"bg-axon-neon border-axon-neon shadow-[0_0_20px_rgba(204,255,0,0.4)]":"bg-[#F9F9FB] border-gray-200 hover:border-gray-300"),children:[a.jsxs("div",{className:"flex gap-1 items-end h-3 mb-1",children:[a.jsx("div",{className:J("w-1.5 h-1.5 rounded-full",c==="random"?"bg-purple-600":"bg-gray-300")}),a.jsx("div",{className:J("w-1.5 h-3 rounded-full",c==="random"?"bg-purple-600":"bg-gray-300")}),a.jsx("div",{className:J("w-1.5 h-1 rounded-full",c==="random"?"bg-purple-600":"bg-gray-300")})]}),a.jsx("span",{className:J("text-xs font-bold uppercase tracking-widest",c==="random"?"text-axon-obsidian":"text-axon-steel"),children:"Random"}),a.jsx("span",{className:J("text-[8px] font-mono uppercase opacity-60",c==="random"?"text-axon-obsidian":"text-gray-400"),children:"Chaotic Surge"})]})]})]})]}),a.jsx("div",{className:"mt-8 relative z-10",children:a.jsx("button",{onClick:V,disabled:!w||g,className:J("w-full h-16 rounded-[24px] font-black text-sm uppercase tracking-[0.2em] transition-all relative overflow-hidden group",w&&!g?"bg-axon-obsidian text-white shadow-xl hover:shadow-2xl active:scale-[0.98]":"bg-gray-100 text-gray-300 cursor-not-allowed border border-gray-200"),children:g?a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsx(Fe,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):a.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-3",children:[a.jsx(Qe,{className:J("w-4 h-4",w?"text-axon-neon fill-current":"text-gray-300")}),"Initiate Surge"]})})})]}):a.jsxs("div",{className:"bg-white border border-gray-200 rounded-[32px] p-8 text-center shadow-lg",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Or,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-xl font-bold text-axon-obsidian mb-2",children:"No Assets Found"}),a.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"You need tokens in your wallet to create a Snap."}),a.jsx("button",{onClick:()=>t("/"),className:"px-6 py-3 bg-axon-obsidian text-white rounded-xl font-bold uppercase text-xs tracking-wider",children:"Top Up Wallet"})]})]}),!v&&e&&a.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-12 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-axon-obsidian flex items-center justify-center",children:a.jsx(aa,{className:"w-4 h-4 text-white"})}),a.jsx("h3",{className:"text-sm font-black text-axon-obsidian uppercase tracking-widest",children:"Recent Snaps"})]}),F&&a.jsx(Fe,{className:"w-4 h-4 text-axon-steel animate-spin"})]}),b.length===0&&!F?a.jsx("div",{className:"bg-white border-2 border-dashed border-gray-100 rounded-[32px] p-12 text-center",children:a.jsx("p",{className:"text-xs font-bold text-gray-300 uppercase tracking-widest",children:"No Active Transmission History"})}):a.jsx("div",{className:"space-y-4",children:b.slice(0,5).map(k=>a.jsxs("div",{className:"bg-white border border-gray-100 rounded-[28px] p-5 shadow-sm hover:shadow-md transition-shadow relative overflow-hidden group",children:[a.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gray-50 flex items-center justify-center text-axon-obsidian font-black italic border border-gray-100",children:k.token_symbol}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[a.jsxs("span",{className:"text-sm font-black text-axon-obsidian",children:[k.total_amount," ",k.token_symbol]}),a.jsx("span",{className:"text-[8px] font-bold px-1.5 py-0.5 rounded-full bg-axon-obsidian/5 text-axon-steel uppercase tracking-tighter",children:k.mode})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-24 h-1.5 bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-axon-neon transition-all",style:{width:`${k.claimed_count/k.snappers_count*100}%`}})}),a.jsxs("span",{className:"text-[10px] font-black text-axon-obsidian",children:[k.claimed_count,"/",k.snappers_count]}),a.jsx("span",{className:"text-[10px] font-bold text-axon-steel uppercase tracking-tighter",children:"Nodes Reached"})]})]})]}),a.jsx("button",{onClick:async()=>{const I=`${window.location.origin}/snap/${k.id}`;await navigator.clipboard.writeText(I),T(k.id),setTimeout(()=>T(null),2e3)},className:J("w-10 h-10 rounded-xl flex items-center justify-center transition-all active:scale-90",P===k.id?"bg-green-500 text-white":"bg-gray-50 text-axon-steel hover:bg-axon-obsidian hover:text-white"),children:P===k.id?a.jsx(Yt,{className:"w-4 h-4"}):a.jsx(os,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-axon-neon/20 transition-all opacity-0 group-hover:opacity-100",style:{width:`${k.claimed_count/k.snappers_count*100}%`}})]},k.id))})]})]})]})}function th({startX:t,startY:e,endX:r,endY:s,onComplete:n}){const[o,i]=D.useState(!0);D.useEffect(()=>{const d=setTimeout(()=>{i(!1),n==null||n()},800);return()=>clearTimeout(d)},[n]);const l=()=>{let c=`M ${t} ${e}`;for(let h=1;h<=8;h++){const u=h/8,p=t+(r-t)*u+(Math.random()-.5)*40,f=e+(s-e)*u+(Math.random()-.5)*40;c+=` L ${p} ${f}`}return c+=` L ${r} ${s}`,c},[x]=D.useState(l());return o?a.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-50",style:{filter:"drop-shadow(0 0 8px rgba(0, 240, 255, 0.8))"},children:[a.jsx($.path,{d:x,stroke:"url(#lightning-gradient)",strokeWidth:"3",fill:"none",strokeLinecap:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:[0,1,1,0]},transition:{duration:.6,times:[0,.1,.7,1],ease:"easeOut"}}),a.jsx($.path,{d:x,stroke:"#00F0FF",strokeWidth:"1",fill:"none",strokeLinecap:"round",opacity:"0.6",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.5,ease:"easeOut"}}),a.jsx("defs",{children:a.jsxs("linearGradient",{id:"lightning-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#FFFFFF"}),a.jsx("stop",{offset:"50%",stopColor:"#00F0FF"}),a.jsx("stop",{offset:"100%",stopColor:"#0080FF"})]})}),a.jsx($.circle,{cx:t,cy:e,r:"8",fill:"#00F0FF",initial:{scale:0,opacity:1},animate:{scale:[0,1.5,0],opacity:[1,.5,0]},transition:{duration:.6}}),a.jsx($.circle,{cx:r,cy:s,r:"20",fill:"none",stroke:"#00F0FF",strokeWidth:"2",initial:{scale:0,opacity:0},animate:{scale:[0,2,3],opacity:[0,1,0]},transition:{duration:.8,delay:.4}})]}):null}function rh({finalAmount:t,onComplete:e}){const[r,s]=D.useState(0),[n,o]=D.useState(!0);return D.useEffect(()=>{const i=setInterval(()=>{s(Math.random()*100)},50),l=setTimeout(()=>{clearInterval(i),o(!1),s(t),setTimeout(()=>e==null?void 0:e(),300)},1200);return()=>{clearInterval(i),clearTimeout(l)}},[t,e]),a.jsxs($.div,{className:"text-6xl font-black text-axon-neon font-mono",animate:n?{scale:[1,1.1,1],filter:["blur(0px)","blur(2px)","blur(0px)"]}:{scale:[1.2,1]},transition:n?{duration:.1,repeat:1/0}:{duration:.3,ease:"easeOut"},children:["$",r.toFixed(2)]})}function sh(){const{id:t}=e0(),e=Ze(),{address:r,isConnected:s}=Ee(),{setIsOnboardingActive:n}=xr(),{writeContractsAsync:o}=Vs(),[i,l]=D.useState("initial"),[x,d]=D.useState({x:0,y:0}),[c,h]=D.useState(0),[u,p]=D.useState(null),[f,E]=D.useState(!0),[m,C]=D.useState(""),[v,y]=D.useState(!1),g=D.useRef(null);D.useEffect(()=>{if(!t)return;async function A(){try{const F=await Ir.getSnap(t);p(F)}catch(F){console.error("Failed to load snap:",F),C("This Snap link is invalid or has expired."),l("error")}finally{E(!1)}}A()},[t]);const B=async A=>{if(!s||!r){alert("Please connect your wallet to claim.");return}if(!u||u.status!=="active"){alert("This Snap is no longer active.");return}const F=A.currentTarget.getBoundingClientRect(),N=A.clientX-F.left+F.width/2,P=A.clientY-F.top+F.height/2;d({x:N,y:P}),"vibrate"in navigator&&navigator.vibrate([50,30,50]),y(!0);try{const T=br!=="0x0000000000000000000000000000000000000000",j=await Ir.claimSnap(t,r,T);j.success&&j.amount!==void 0?(h(j.amount),l("surge"),setTimeout(()=>{l("result")},2e3)):(C(j.message||"Claim failed"),l("error"))}catch(T){console.error("Claim error:",T),C("An unexpected error occurred."),l("error")}finally{y(!1)}},b=()=>{n?n(!0):e("/")};return f?a.jsxs("div",{className:"min-h-screen bg-[#F5F5F7] flex flex-col items-center justify-center",children:[a.jsx(Fe,{className:"w-10 h-10 text-axon-obsidian animate-spin mb-4"}),a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-axon-steel",children:"Synchronizing Node..."})]}):a.jsx("div",{ref:g,className:"relative min-h-screen overflow-hidden bg-[#F5F5F7] text-axon-obsidian font-sans",children:a.jsxs(_e,{mode:"wait",children:[i==="initial"&&a.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex flex-col items-center justify-center bg-[#F5F5F7]",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[radial-gradient(#000_1px,transparent_1px)] [background-size:24px_24px]"}),a.jsxs($.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"absolute top-16 text-center",children:[a.jsx("h2",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-axon-steel mb-2",children:"Neural Surge Protocol"}),a.jsxs("p",{className:"text-xl font-bold italic text-axon-obsidian tracking-tight",children:["From: ",u==null?void 0:u.sender_address.substring(0,6),"...",u==null?void 0:u.sender_address.substring(38)]})]}),a.jsx("div",{className:"relative",children:a.jsxs($.button,{onClick:B,disabled:v||!s,className:J("relative w-56 h-56 rounded-full flex items-center justify-center group bg-white shadow-2xl z-20 transition-all",s?"shadow-gray-200":"opacity-50 grayscale cursor-not-allowed"),whileHover:s?{scale:1.05}:{},whileTap:s?{scale:.95}:{},children:[s&&a.jsxs(a.Fragment,{children:[a.jsx($.div,{className:"absolute inset-0 rounded-full border-4 border-axon-neon/50",animate:{scale:[1,1.1,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),a.jsx($.div,{className:"absolute inset-0 rounded-full border-2 border-axon-neon/30",animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut",delay:.5}})]}),a.jsx("div",{className:"absolute inset-0 rounded-full bg-axon-neon/5 blur-xl"}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[v?a.jsx(Fe,{className:"w-12 h-12 text-axon-neon animate-spin"}):a.jsx(Qe,{className:J("w-14 h-14",s?"text-axon-neon fill-black":"text-gray-300")}),a.jsx("span",{className:"text-4xl font-black text-axon-obsidian tracking-tighter italic",children:v?"SYNC":"SNAP"})]})]})}),a.jsx($.div,{className:"absolute bottom-16 left-0 right-0 text-center px-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:s?a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-bold text-axon-obsidian uppercase tracking-widest",children:"Sequence Ready"}),a.jsx("p",{className:"text-[10px] text-axon-steel font-medium uppercase tracking-tight",children:"Tap the core to initialize transmission"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs font-bold text-axon-steel uppercase tracking-widest",children:"Identification Required"}),a.jsxs("button",{onClick:b,className:"inline-flex items-center gap-2 px-8 py-4 bg-axon-obsidian text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl",children:[a.jsx(Or,{className:"w-4 h-4"}),"Login to Claim"]})]})})]},"initial"),i==="surge"&&a.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 flex items-center justify-center bg-white z-50",children:[a.jsx($.div,{className:"absolute inset-0 bg-white",initial:{opacity:0},animate:{opacity:[0,.8,1,.8]},transition:{duration:1.5}}),a.jsx("div",{className:"relative z-10 scale-150",children:a.jsx("div",{className:"text-axon-obsidian font-black text-6xl italic",children:a.jsx(rh,{finalAmount:c,onComplete:()=>{}})})}),a.jsx(th,{startX:x.x,startY:x.y,endX:window.innerWidth/2,endY:window.innerHeight/2,onComplete:()=>{}})]},"surge"),i==="result"&&a.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex flex-col items-center justify-center px-6 bg-[#F5F5F7]",children:[a.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:a.jsx("div",{className:"absolute top-[20%] left-[50%] -translate-x-1/2 w-[80%] h-[40%] bg-axon-neon/20 blur-[120px] rounded-full opacity-30"})}),a.jsx("div",{className:"relative mb-12",children:a.jsx($.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:12},className:"relative z-10 w-32 h-32 rounded-full bg-white border-4 border-axon-obsidian flex items-center justify-center shadow-2xl",children:a.jsx(Qe,{className:"w-14 h-14 text-axon-neon fill-black"})})}),a.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center mb-16 relative z-10",children:[a.jsx("h2",{className:"text-[10px] font-black text-axon-neon uppercase tracking-[0.5em] mb-4 font-mono bg-axon-obsidian/5 py-1 px-3 rounded-full inline-block",children:"TRANSMISSION SUCCESSFUL"}),a.jsx("h1",{className:"text-8xl font-black text-axon-obsidian mb-2 tracking-tighter italic",children:c.toFixed(2)}),a.jsx("p",{className:"text-2xl font-black text-axon-obsidian uppercase tracking-[0.2em] italic",children:u==null?void 0:u.token_symbol})]}),a.jsxs("div",{className:"w-full max-w-sm space-y-4 relative z-10",children:[a.jsx($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("/scan"),className:"w-full h-18 bg-axon-obsidian text-white font-black text-sm uppercase tracking-[0.3em] rounded-2xl shadow-xl hover:shadow-2xl transition-all",children:"USE TO PAY"}),a.jsx($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("/"),className:"w-full h-14 bg-white border-2 border-axon-obsidian/10 text-axon-obsidian font-black text-[10px] uppercase tracking-[0.2em] rounded-2xl hover:bg-gray-50 transition-colors",children:"RETURN TO NEXUS"})]}),a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-12 group cursor-pointer",onClick:()=>navigator.clipboard.writeText(t||""),children:a.jsxs("span",{className:"text-[8px] font-mono text-gray-400 uppercase tracking-[0.3em] group-hover:text-axon-obsidian transition-colors",children:["NODE_ID: ",t==null?void 0:t.substring(0,12).toUpperCase(),"..."]})})]},"result"),i==="error"&&a.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 flex flex-col items-center justify-center px-6 bg-[#F5F5F7]",children:[a.jsx("div",{className:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mb-6",children:a.jsx(js,{className:"w-10 h-10 text-red-500"})}),a.jsx("h2",{className:"text-2xl font-black text-axon-obsidian italic uppercase mb-2",children:"Node Failure"}),a.jsx("p",{className:"text-sm font-medium text-axon-steel text-center mb-12 max-w-xs",children:m}),a.jsx("button",{onClick:()=>e("/"),className:"w-full max-w-xs h-14 bg-axon-obsidian text-white font-black text-xs uppercase tracking-widest rounded-2xl shadow-lg transition-all",children:"Emergency Reset"})]},"error")]})})}function nh({className:t}){return a.jsx("div",{className:"flex h-full items-center justify-center","data-testid":"ockSpinner",children:a.jsx("div",{className:Z("animate-spin border-2 border-gray-200 border-t-3","rounded-full border-t-gray-400 px-2.5 py-2.5",t)})})}function Kn({className:t,connectWalletText:e,onClick:r,text:s}){return a.jsx("button",{type:"button","data-testid":"ockConnectButton",className:Z(Me.primary,ke.radius,De.headline,ue.inverse,"inline-flex min-w-[153px] items-center justify-center px-4 py-3",t),onClick:r,children:e||a.jsx("span",{className:Z(ue.inverse),children:s})})}function Jn({children:t,className:e}){return a.jsx("span",{className:Z(De.headline,ue.inverse,e),children:t})}const ah=a.jsxs("svg",{"aria-label":"ock-closeSvg",width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("title",{children:"Close SVG"}),a.jsx("path",{d:"M2.14921 1L1 2.1492L6.8508 8L1 13.8508L2.1492 15L8 9.1492L13.8508 15L15 13.8508L9.14921 8L15 2.1492L13.8508 1L8 6.8508L2.14921 1Z",className:Ne.foreground})]}),oh=a.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 146 146",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"Coinbase Wallet Logo",children:[a.jsx("title",{children:"Coinbase Wallet Logo"}),a.jsx("rect",{width:"146",height:"146",fill:"#0052FF"}),a.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.9 73C21.9 102.053 45.1466 125.3 74.2 125.3C103.253 125.3 126.5 102.053 126.5 73C126.5 43.9466 103.253 20.7 74.2 20.7C45.1466 20.7 21.9 43.9466 21.9 73ZM60.5 54.75C58.5673 54.75 57 56.3173 57 58.25V87.75C57 89.6827 58.5673 91.25 60.5 91.25H87.9C89.8327 91.25 91.4 89.6827 91.4 87.75V58.25C91.4 56.3173 89.8327 54.75 87.9 54.75H60.5Z",fill:"white"})]}),ih=a.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"WalletConnect Logo",children:[a.jsx("title",{children:"WalletConnect Logo"}),a.jsx("mask",{id:"mask0_1630_9125",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"16",height:"16",children:a.jsx("path",{d:"M0 0H16V16H0V0Z",fill:"white"})}),a.jsxs("g",{mask:"url(#mask0_1630_9125)",children:[a.jsx("path",{d:"M15.5195 8.02002C15.5195 12.1622 12.1617 15.52 8.01953 15.52C3.8774 15.52 0.519531 12.1622 0.519531 8.02002C0.519531 3.87788 3.8774 0.52002 8.01953 0.52002C12.1617 0.52002 15.5195 3.87788 15.5195 8.02002Z",fill:"#3396FF",stroke:"#66B1FF"}),a.jsx("path",{d:"M4.91197 5.97351C6.6279 4.30017 9.41005 4.30017 11.126 5.97351L11.3325 6.1749C11.4183 6.25855 11.4183 6.39421 11.3325 6.47785L10.6261 7.16678C10.5831 7.2086 10.5136 7.2086 10.4707 7.16678L10.1865 6.88964C8.9894 5.72229 7.04855 5.72229 5.85143 6.88964L5.54707 7.18643C5.50417 7.22825 5.43463 7.22825 5.39173 7.18643L4.68528 6.4975C4.59946 6.41385 4.59946 6.2782 4.68528 6.19455L4.91197 5.97351ZM12.587 7.39824L13.2158 8.01137C13.3016 8.09502 13.3016 8.23068 13.2158 8.31433L10.3807 11.079C10.2949 11.1627 10.1558 11.1627 10.07 11.079L8.05783 9.11685C8.03638 9.09592 8.00161 9.09592 7.98016 9.11685L5.96801 11.079C5.88223 11.1627 5.74312 11.1627 5.65731 11.079L2.82216 8.31429C2.73636 8.23064 2.73636 8.09498 2.82216 8.01133L3.45091 7.3982C3.53671 7.31455 3.67582 7.31455 3.76161 7.3982L5.7738 9.36038C5.79525 9.38131 5.83002 9.38131 5.85147 9.36038L7.86358 7.3982C7.94936 7.31451 8.08847 7.31451 8.17428 7.3982L10.1865 9.36038C10.2079 9.38131 10.2427 9.38131 10.2641 9.36038L12.2763 7.39824C12.3621 7.31455 12.5012 7.31455 12.587 7.39824Z",fill:"white"})]})]}),xh="c652d0148879353d7e965d7f6f361e59";function lh(t,e){return hh(t)||uh(t,e)||dh(t,e)||ch()}function ch(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dh(t,e){if(t){if(typeof t=="string")return Xn(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xn(t,e):void 0}}function Xn(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=Array(e);r<e;r++)s[r]=t[r];return s}function uh(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,n,o,i,l=[],x=!0,d=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(x=(s=o.call(r)).done)&&(l.push(s.value),l.length!==e);x=!0);}catch(c){d=!0,n=c}finally{try{if(!x&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw n}}return l}}function hh(t){if(Array.isArray(t))return t}function fh({isOpen:t,onClose:e,className:r,onError:s}){var g,B,b,A;const n=D.useRef(null),o=D.useState(t),i=lh(o,2),l=i[0],x=i[1],d=Ls(),c=d.connect,h=yt(),u=h.config;D.useEffect(()=>{if(t)return x(!0),document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[t]),D.useEffect(()=>{if(!t||!n.current)return;const N=n.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),P=T=>{if(T.key==="Escape")e();else if(T.key==="Tab"){const j=N[0],V=N[N.length-1];!T.shiftKey&&document.activeElement===V?(T.preventDefault(),j==null||j.focus()):T.shiftKey&&document.activeElement===j&&(T.preventDefault(),V==null||V.focus())}};return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[t,e]);const p=(g=u==null?void 0:u.appearance)==null?void 0:g.logo,f=(B=u==null?void 0:u.appearance)==null?void 0:B.name,E=((b=u==null?void 0:u.wallet)==null?void 0:b.privacyUrl)??void 0,m=((A=u==null?void 0:u.wallet)==null?void 0:A.termsUrl)??void 0,C=D.useCallback(()=>{try{const F=ma({preference:"all"});c({connector:F}),e()}catch(F){console.error("Coinbase Wallet connection error:",F),s&&s(F instanceof Error?F:new Error("Failed to connect wallet"))}},[c,e,s]),v=D.useCallback(()=>{try{const F=v0({projectId:xh,showQrModal:!0});c({connector:F}),e()}catch(F){console.error("WalletConnect connection error:",F),s&&s(F instanceof Error?F:new Error("Failed to connect wallet"))}},[c,e,s]),y=(F,N)=>{F.key==="Enter"&&(F.preventDefault(),window.open(N,"_blank","noopener,noreferrer"))};return l?a.jsx("div",{className:Z("fixed inset-0 z-50 flex items-center justify-center","bg-black/70 transition-opacity duration-200",t?"opacity-100":"opacity-0",r),onClick:e,onKeyDown:F=>F.key==="Enter"&&e(),role:"presentation","data-testid":"ockModalOverlay",children:a.jsxs("div",{ref:n,className:Z(ke.default,ke.radius,ar.default,Wt.default,"w-[323px] p-6 pb-4","flex flex-col gap-4","relative","-translate-x-1/2 -translate-y-1/2 fixed top-1/2 left-1/2","transition-opacity duration-200",t?"opacity-100":"opacity-0"),onClick:F=>F.stopPropagation(),onKeyDown:F=>F.key==="Enter"&&F.stopPropagation(),role:"dialog","aria-modal":"true",children:[a.jsx("button",{type:"button",onClick:e,className:Z("absolute top-4 right-4","flex items-center justify-center","h-3 w-3"),"aria-label":"Close modal",children:a.jsx("div",{className:Z("relative h-full w-full transition-colors","[&>svg>path]:hover:fill-[var(--ock-icon-color-foreground-muted)]"),children:ah})}),(p||f)&&a.jsxs("div",{className:"mt-3 flex w-[275px] flex-col items-center gap-3 self-stretch p-2",children:[p&&a.jsx("div",{className:Z(ke.radius,"h-14 w-14 overflow-hidden"),children:a.jsx("img",{src:p,alt:`${f||"App"} icon`,className:"h-full w-full object-cover"})}),f&&a.jsx("h2",{className:Z(De.headline,ue.foreground),children:f})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("button",{type:"button",onClick:C,className:Z(ke.radiusInner,Wt.default,De.label2,Me.alternate,ue.foreground,"h-10 w-[275px] px-4 py-2.5","flex items-center justify-between text-left"),children:["Sign up",a.jsx("div",{className:"h-4 w-4",children:xo})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:Z(Wt.default,"w-full border-[0.5px]")})}),a.jsx("div",{className:"relative flex justify-center",children:a.jsx("span",{className:Z(ar.default,ue.foregroundMuted,De.legal,"px-2"),children:"or continue with an existing wallet"})})]}),a.jsxs("button",{type:"button",onClick:C,className:Z(ke.default,ke.radiusInner,Wt.default,De.label2,Me.alternate,ue.foreground,"h-10 w-[275px] px-4 py-2.5","flex items-center justify-between text-left"),children:["Coinbase Wallet",a.jsx("div",{className:"h-4 w-4",children:oh})]}),a.jsxs("button",{type:"button",onClick:v,className:Z(ke.default,ke.radiusInner,Wt.default,De.label2,Me.alternate,ue.foreground,"flex h-[40px] w-[275px] px-4 py-2.5","items-center justify-between text-left"),children:["Other wallets",a.jsx("div",{className:"h-4 w-4",children:ih})]})]}),a.jsxs("div",{className:Z(ue.foregroundMuted,De.legal,"flex flex-col items-center justify-center gap-1 px-4","mt-4 w-[275px] text-center leading-3"),children:[a.jsx("span",{className:"font-normal text-[10px] leading-[13px]",children:"By connecting a wallet, you agree to our"}),a.jsxs("span",{className:"font-normal text-[10px] leading-[13px]",children:[m&&a.jsx("a",{href:m,className:Z(ue.primary,"hover:underline"),target:"_blank",rel:"noopener noreferrer",tabIndex:0,onKeyDown:F=>y(F,m),children:"Terms of Service"})," ",m&&E&&"and"," ",E&&a.jsx("a",{href:E,className:Z(ue.primary,"hover:underline"),target:"_blank",rel:"noopener noreferrer",tabIndex:0,onKeyDown:F=>y(F,E),children:"Privacy Policy"}),"."]})]})]})}):null}function ph(t,e){return yh(t)||gh(t,e)||mh(t,e)||Eh()}function Eh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mh(t,e){if(t){if(typeof t=="string")return Qn(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qn(t,e):void 0}}function Qn(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=Array(e);r<e;r++)s[r]=t[r];return s}function gh(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,n,o,i,l=[],x=!0,d=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(x=(s=o.call(r)).done)&&(l.push(s.value),l.length!==e);x=!0);}catch(c){d=!0,n=c}finally{try{if(!x&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw n}}return l}}function yh(t){if(Array.isArray(t))return t}const Ch={},Do=D.createContext(Ch);function bh({children:t}){const e=yt(),r=e.chain,s=D.useState(!1),n=ph(s,2),o=n[0],i=n[1],l=ao({isOpen:o,chain:r,setIsOpen:i});return a.jsx(Do.Provider,{value:l,children:t})}function Js(){return D.useContext(Do)}function Yn(t,e){return wh(t)||vh(t,e)||Bh(t,e)||Ah()}function Ah(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bh(t,e){if(t){if(typeof t=="string")return Zn(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zn(t,e):void 0}}function Zn(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=Array(e);r<e;r++)s[r]=t[r];return s}function vh(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,n,o,i,l=[],x=!0,d=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(x=(s=o.call(r)).done)&&(l.push(s.value),l.length!==e);x=!0);}catch(c){d=!0,n=c}finally{try{if(!x&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw n}}return l}}function wh(t){if(Array.isArray(t))return t}function Fo({children:t,className:e,text:r="Connect Wallet",onConnect:s}){var k;const n=yt(),o=n.config,i=o===void 0?{wallet:{display:void 0}}:o,l=Js(),x=l.isOpen,d=l.setIsOpen,c=D.useState(!1),h=Yn(c,2),u=h[0],p=h[1],f=Ee(),E=f.address,m=f.status,C=Ls(),v=C.connectors,y=C.connect,g=C.status,B=D.useState(!1),b=Yn(B,2),A=b[0],F=b[1],N=D.useMemo(()=>({connectWalletText:D.Children.toArray(t).find(Ge(Jn))}),[t]),P=N.connectWalletText,T=D.useMemo(()=>D.Children.map(t,I=>D.isValidElement(I)&&I.type===Jn?null:I),[t]),j=v[0],V=g==="pending"||m==="connecting",M=D.useCallback(()=>{d(!x)},[x,d]),w=D.useCallback(()=>{p(!1)},[]),_=D.useCallback(()=>{p(!0),F(!0)},[]);return D.useEffect(()=>{A&&m==="connected"&&s&&(s(),F(!1))},[m,A,s]),m==="disconnected"?((k=i==null?void 0:i.wallet)==null?void 0:k.display)==="modal"?a.jsxs("div",{className:"flex","data-testid":"ockConnectWallet_Container",children:[a.jsx(Kn,{className:e,connectWalletText:P,onClick:()=>{_(),F(!0)},text:r}),u&&a.jsx(fh,{isOpen:!0,onClose:w})]}):a.jsx("div",{className:"flex","data-testid":"ockConnectWallet_Container",children:a.jsx(Kn,{className:e,connectWalletText:P,onClick:()=>{y({connector:j},{onSuccess:()=>{s==null||s()}})},text:r})}):V?a.jsx("div",{className:"flex","data-testid":"ockConnectWallet_Container",children:a.jsx("button",{type:"button","data-testid":"ockConnectAccountButtonInner",className:Z(Me.primary,De.headline,ue.inverse,"inline-flex min-w-[153px] items-center justify-center rounded-xl px-4 py-3",Me.disabled,e),disabled:!0,children:a.jsx(nh,{})})}):a.jsx(io,{address:E,children:a.jsx("div",{className:"flex gap-4","data-testid":"ockConnectWallet_Container",children:a.jsx("button",{type:"button","data-testid":"ockConnectWallet_Connected",className:Z(Me.secondary,ke.radius,ue.foreground,"px-4 py-3",x&&"ock-bg-secondary-active hover:ock-bg-secondary-active",e),onClick:M,children:a.jsx("div",{className:"flex gap-2",children:T})})})})}function Dh(t,e){return Nh(t)||_h(t,e)||kh(t,e)||Fh()}function Fh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kh(t,e){if(t){if(typeof t=="string")return ea(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ea(t,e):void 0}}function ea(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=Array(e);r<e;r++)s[r]=t[r];return s}function _h(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,n,o,i,l=[],x=!0,d=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(x=(s=o.call(r)).done)&&(l.push(s.value),l.length!==e);x=!0);}catch(c){d=!0,n=c}finally{try{if(!x&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw n}}return l}}function Nh(t){if(Array.isArray(t))return t}function jh(){const t=D.useState(!1),e=Dh(t,2),r=e[0],s=e[1];return D.useEffect(()=>{s(!0)}),r}function ta(t,e){return Ih(t)||Ph(t,e)||Th(t,e)||Sh()}function Sh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Th(t,e){if(t){if(typeof t=="string")return ra(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ra(t,e):void 0}}function ra(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=Array(e);r<e;r++)s[r]=t[r];return s}function Ph(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,n,o,i,l=[],x=!0,d=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(x=(s=o.call(r)).done)&&(l.push(s.value),l.length!==e);x=!0);}catch(c){d=!0,n=c}finally{try{if(!x&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw n}}return l}}function Ih(t){if(Array.isArray(t))return t}const Oh={sm:"(max-width: 640px)",md:"(min-width: 641px) and (max-width: 768px)",lg:"(min-width: 769px) and (max-width: 1023px)",xl:"(min-width: 1024px) and (max-width: 1279px)","2xl":"(min-width: 1280px)"};function Rh(){const t=D.useState(void 0),e=ta(t,2),r=e[0],s=e[1];return D.useEffect(()=>{const n=()=>{const i=Object.entries(Oh);for(const x of i){var l=ta(x,2);const d=l[0],c=l[1];if(window.matchMedia(c).matches)return d}return"md"};s(n());const o=()=>{s(n())};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),r}function Lh({children:t,className:e}){const r=Js(),s=r.isOpen,n=r.setIsOpen,o=Ee(),i=o.address,l=D.useMemo(()=>D.Children.toArray(t).map(c=>D.isValidElement(c)&&c.type===zr?D.cloneElement(c,{address:i}):c),[t,i]),x=D.useCallback(()=>{n(!1)},[n]),d=D.useCallback(c=>{c.key==="Escape"&&n(!1)},[n]);return i?a.jsxs(a.Fragment,{children:[s&&a.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-20",onClick:x,onKeyDown:d,role:"button",tabIndex:0}),a.jsx("div",{className:Z(ar.default,"fixed right-0 bottom-0 left-0 z-50","transform rounded-[20px_20px_0_0] p-4 transition-transform",`${s?"translate-y-0":"translate-y-full"}`,e),"data-testid":"ockWalletBottomSheet",children:l})]}):null}function ko({children:t,className:e}){const r=Rh(),s=Ee(),n=s.address,o=D.useMemo(()=>D.Children.toArray(t).map(i=>D.isValidElement(i)&&i.type===zr?D.cloneElement(i,{address:n}):i),[t,n]);return!n||!r?null:r==="sm"?a.jsx(Lh,{className:e,children:t}):a.jsx("div",{className:Z(Me.default,ue.foreground,"absolute right-0 z-10 mt-1 flex w-max min-w-[300px] cursor-default flex-col overflow-hidden rounded-xl",e),"data-testid":"ockWalletDropdown",children:o})}const Mh=({children:t,className:e})=>{const r=Js(),s=r.isOpen,n=r.setIsOpen,o=D.useRef(null),i=D.useMemo(()=>{const d=D.Children.toArray(t);return{connect:d.find(Ge(Fo)),dropdown:d.find(Ge(ko))}},[t]),l=i.connect,x=i.dropdown;return D.useEffect(()=>{const d=c=>{o.current&&!o.current.contains(c.target)&&s&&n(!1)};return document.addEventListener("click",d),()=>document.removeEventListener("click",d)},[s,n]),a.jsxs("div",{ref:o,className:Z("relative w-fit shrink-0",e),children:[l,s&&x]})},Uh=({children:t,className:e})=>{const r=wo();return jh()?a.jsx(bh,{children:a.jsx(Mh,{className:Z(r,e),children:t})}):null},$h=a.jsxs("svg",{role:"img","aria-label":"ock-disconnect-svg",width:"100%",height:"100%",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M11.0668 0.91803L11.0668 2.93852L2.02049 2.93852L2.02049 15.0615L11.0668 15.0615L11.0668 17.082L-7.06549e-07 17.082L0 0.918029L11.0668 0.91803Z",className:Ne.foreground}),a.jsx("path",{d:"M12.3273 12.8963L16.0002 9.02606L12.346 4.95902L10.843 6.30941L12.3623 8.00032L5.53321 8.00032L5.53321 10.0208L12.2706 10.0208L10.8617 11.5054L12.3273 12.8963Z",className:Ne.foreground})]});function Vh({className:t,text:e="Disconnect"}){const r=Ea(),s=r.disconnect,n=r.connectors,o=D.useCallback(()=>{n.map(i=>s({connector:i}))},[s,n]);return a.jsxs("button",{type:"button",className:Z(Me.default,ue.foreground,"relative flex w-full items-center px-4 pt-3 pb-4",t),onClick:o,children:[a.jsx("div",{className:"absolute left-4 flex h-[1.125rem] w-[1.125rem] items-center justify-center",children:$h}),a.jsx("span",{className:Z(De.body,"pl-6"),children:e})]})}const zh=a.jsx("svg",{role:"img","aria-label":"ock-coinbasePaySvg",width:"100%",height:"100%",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0145 14.1666C7.82346 14.1666 6.04878 12.302 6.04878 9.99996C6.04878 7.69788 7.82346 5.83329 10.0145 5.83329C11.9776 5.83329 13.6069 7.33677 13.9208 9.30552H17.9163C17.5793 5.02774 14.172 1.66663 10.0145 1.66663C5.63568 1.66663 2.08301 5.39926 2.08301 9.99996C2.08301 14.6007 5.63568 18.3333 10.0145 18.3333C14.172 18.3333 17.5793 14.9722 17.9163 10.6944H13.9208C13.6069 12.6632 11.9776 14.1666 10.0145 14.1666Z",fill:"#f9fafb"})}),qh=a.jsx("svg",{role:"img","aria-label":"ock-fundWalletSvg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5 4.5C13.5 6.15685 14.8431 7.5 16.5 7.5V10.5C14.8431 10.5 13.5 11.8431 13.5 13.5H4.5C4.5 11.8431 3.15685 10.5 1.5 10.5L1.5 13.5V7.5C3.15685 7.5 4.5 6.15685 4.5 4.5H13.5ZM0 3V15H18V3H0ZM11.25 9C11.25 7.75736 10.2426 6.75 9 6.75C7.75736 6.75 6.75 7.75736 6.75 9C6.75 10.2426 7.75736 11.25 9 11.25C10.2426 11.25 11.25 10.2426 11.25 9Z",fill:"#0A0B0D",className:Ne.foreground})}),Wh=a.jsx("svg",{role:"img","aria-label":"ock-swapSettingsSvg",width:"100%",height:"100%",viewBox:"0 0 19 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.92071 5.89742e-08C8.00371 5.89742e-08 7.22171 0.663 7.07071 1.567L6.89271 2.639C6.87271 2.759 6.77771 2.899 6.59571 2.987C6.25306 3.15171 5.92344 3.34226 5.60971 3.557C5.44371 3.672 5.27571 3.683 5.15971 3.64L4.14271 3.258C3.72695 3.10224 3.26941 3.09906 2.85152 3.24904C2.43364 3.39901 2.08254 3.69241 1.86071 4.077L0.938708 5.674C0.716797 6.05836 0.638423 6.50897 0.717525 6.94569C0.796628 7.3824 1.02808 7.7769 1.37071 8.059L2.21071 8.751C2.30571 8.829 2.38071 8.98 2.36471 9.181C2.33621 9.56013 2.33621 9.94087 2.36471 10.32C2.37971 10.52 2.30571 10.672 2.21171 10.75L1.37071 11.442C1.02808 11.7241 0.796628 12.1186 0.717525 12.5553C0.638423 12.992 0.716797 13.4426 0.938708 13.827L1.86071 15.424C2.08269 15.8084 2.43387 16.1016 2.85173 16.2514C3.2696 16.4012 3.72706 16.3978 4.14271 16.242L5.16171 15.86C5.27671 15.817 5.44471 15.829 5.61171 15.942C5.92371 16.156 6.25271 16.347 6.59671 16.512C6.77871 16.6 6.87371 16.74 6.89371 16.862L7.07171 17.933C7.22271 18.837 8.00471 19.5 8.92171 19.5H10.7657C11.6817 19.5 12.4647 18.837 12.6157 17.933L12.7937 16.861C12.8137 16.741 12.9077 16.601 13.0907 16.512C13.4347 16.347 13.7637 16.156 14.0757 15.942C14.2427 15.828 14.4107 15.817 14.5257 15.86L15.5457 16.242C15.9612 16.3972 16.4183 16.4001 16.8357 16.2502C17.2532 16.1002 17.6039 15.8071 17.8257 15.423L18.7487 13.826C18.9706 13.4416 19.049 12.991 18.9699 12.5543C18.8908 12.1176 18.6593 11.7231 18.3167 11.441L17.4767 10.749C17.3817 10.671 17.3067 10.52 17.3227 10.319C17.3511 9.93987 17.3511 9.55913 17.3227 9.18C17.3067 8.98 17.3817 8.828 17.4757 8.75L18.3157 8.058C19.0237 7.476 19.2067 6.468 18.7487 5.673L17.8267 4.076C17.6047 3.69159 17.2535 3.3984 16.8357 3.24861C16.4178 3.09883 15.9604 3.10215 15.5447 3.258L14.5247 3.64C14.4107 3.683 14.2427 3.671 14.0757 3.557C13.7623 3.3423 13.433 3.15175 13.0907 2.987C12.9077 2.9 12.8137 2.76 12.7937 2.639L12.6147 1.567C12.5418 1.12906 12.3158 0.731216 11.977 0.444267C11.6383 0.157318 11.2087 -0.00011124 10.7647 5.89742e-08H8.92171H8.92071ZM9.84271 13.5C10.8373 13.5 11.7911 13.1049 12.4944 12.4017C13.1976 11.6984 13.5927 10.7446 13.5927 9.75C13.5927 8.75544 13.1976 7.80161 12.4944 7.09835C11.7911 6.39509 10.8373 6 9.84271 6C8.84815 6 7.89432 6.39509 7.19106 7.09835C6.4878 7.80161 6.09271 8.75544 6.09271 9.75C6.09271 10.7446 6.4878 11.6984 7.19106 12.4017C7.89432 13.1049 8.84815 13.5 9.84271 13.5Z",fill:"#6B7280",className:Ne.foreground})}),Hh=a.jsx("svg",{role:"img","aria-label":"ock-walletSvg",width:"100%",height:"100%",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 10C0 15.5222 4.47778 20 10 20C15.5222 20 20 15.5222 20 10C20 4.47778 15.5222 0 10 0C4.47778 0 0 4.47778 0 10ZM7.44444 6.77778C7.075 6.77778 6.77778 7.075 6.77778 7.44444V12.5556C6.77778 12.925 7.075 13.2222 7.44444 13.2222H12.5556C12.925 13.2222 13.2222 12.925 13.2222 12.5556V7.44444C13.2222 7.075 12.925 6.77778 12.5556 6.77778H7.44444Z",className:Ne.foreground})}),Gh=({icon:t})=>D.useMemo(()=>{if(t===void 0)return null;switch(t){case"coinbasePay":return zh;case"fundWallet":return qh;case"swapSettings":return Wh;case"wallet":return Hh}if(D.isValidElement(t))return t},[t]);function Kh({children:t,className:e,icon:r,href:s,rel:n,target:o}){const i=Gh({icon:r});return a.jsxs("a",{className:Z(Me.default,ue.foreground,"relative flex items-center px-4 py-3",e),href:s,target:o,rel:n,children:[a.jsx("div",{className:"-translate-y-1/2 absolute top-1/2 left-4 flex h-[1.125rem] w-[1.125rem] items-center justify-center",children:i}),a.jsx("span",{className:Z(De.body,"pl-6"),children:t})]})}function Jh({className:t,text:e="Enter Nexus"}){return a.jsx("div",{className:t,children:a.jsxs(Uh,{children:[a.jsxs(Fo,{text:e,className:"bg-axon-obsidian hover:bg-black text-white rounded-swiss font-extrabold",children:[a.jsx(Tr,{className:"h-6 w-6"}),a.jsx(Pr,{className:"text-white"})]}),a.jsxs(ko,{className:"bg-white border border-gray-200 rounded-[20px] shadow-2xl p-2 min-w-[240px]",children:[a.jsxs(zr,{className:"px-4 pt-3 pb-2",hasCopyAddressOnClick:!0,children:[a.jsx(Tr,{}),a.jsx(Pr,{}),a.jsx(qs,{className:"text-axon-steel"}),a.jsx(vo,{className:"text-axon-obsidian font-bold"})]}),a.jsx(Kh,{icon:"wallet",href:"https://keys.coinbase.com",target:"_blank",rel:"noopener noreferrer",className:"hover:bg-gray-50 rounded-xl",children:"Wallet Dashboard"}),a.jsx(Vh,{className:"hover:bg-red-50 text-red-600 rounded-xl"})]})]})})}const st=[{title:"Welcome to the Nexus",subtitle:"ASEAN Finance Reimagined",description:"Your gateway to frictionless cross-border payments. Secure, instant, and compliant.",icon:a.jsx(Qt,{className:"w-10 h-10 text-axon-neon"}),color:"bg-axon-obsidian"},{title:"One QR for All",subtitle:"Global Standards, Local Ease",description:"Scan QRIS, DuitNow, or PayNow seamlessly. We handle the conversions instantly via Base L2.",icon:a.jsx(ca,{className:"w-10 h-10 text-blue-600"}),color:"bg-white border border-gray-200"},{title:"Neural Security",subtitle:"Coinbase Smart Wallet",description:"Your assets are protected by enterprise-grade security and your unique signature.",icon:a.jsx(je,{className:"w-10 h-10 text-green-500"}),color:"bg-white border border-gray-200"}];function Xh(){const{setOnboardingComplete:t}=xr(),{isConnected:e,address:r}=Ee(),[s,n]=D.useState("slides"),[o,i]=D.useState(0),{refetch:l}=lr(),{signMessage:x,isPending:d}=w0({mutation:{onSuccess:async()=>{if(r)try{await pe.from("users").upsert({wallet_address:r,last_login:new Date().toISOString()})}catch(u){console.warn("Login tracking failed",u)}n("sync")},onError:u=>{console.error("Signature failed:",u)}}});D.useEffect(()=>{if(s==="slides"&&e&&o===st.length-1){const u=setTimeout(()=>{n("signature")},1500);return()=>clearTimeout(u)}},[e,s,o]);const c=()=>{o<st.length-1&&i(u=>u+1)},h=()=>{x({message:`AXON NEXUS AUTHORIZATION

I confirm my connection to AXON NEXUS.
Timestamp: ${new Date().getTime()}
Action: Initialize Neural Profile`})};return D.useEffect(()=>{let u=!0;return s==="sync"&&(async()=>(await l(),setTimeout(async()=>{u&&n("complete")},3e3)))(),()=>{u=!1}},[s,l]),a.jsxs("div",{className:"min-h-screen bg-[#F5F5F7] flex flex-col font-sans text-axon-obsidian overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none bg-[radial-gradient(#000_1px,transparent_1px)] [background-size:20px_20px]"}),a.jsxs(_e,{mode:"wait",children:[s==="slides"&&a.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,x:-20},className:"flex-1 flex flex-col px-8 py-12 relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[a.jsx("div",{className:"w-8 h-8 bg-axon-obsidian rounded-swiss flex items-center justify-center border border-white/10",children:a.jsx(Qt,{className:"w-4 h-4 text-axon-neon"})}),a.jsx("span",{className:"font-extrabold tracking-tight text-xl",children:"AXON"}),a.jsxs("div",{className:"ml-auto text-[10px] font-mono font-bold text-axon-steel",children:[o+1," / ",st.length]})]}),a.jsx("div",{className:"flex-1 flex flex-col justify-center",children:a.jsx(_e,{mode:"wait",children:a.jsxs($.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.4},className:"space-y-6",children:[a.jsx("div",{className:"w-20 h-20 rounded-[24px] flex items-center justify-center bg-white border border-gray-200 shadow-xl",children:st[o].icon}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h1",{className:"text-4xl font-extrabold tracking-tighter leading-none text-axon-obsidian",children:st[o].title}),a.jsx("h2",{className:"text-xl font-bold text-primary tracking-tight",children:st[o].subtitle})]}),a.jsx("p",{className:"text-axon-steel text-lg font-medium leading-relaxed max-w-sm",children:st[o].description})]},o)})}),a.jsx("div",{className:"mt-auto",children:o<st.length-1?a.jsxs("button",{onClick:c,className:"w-full h-16 bg-axon-obsidian text-white rounded-swiss font-extrabold flex items-center justify-center gap-2 shadow-xl hover:bg-black transition-all active:scale-[0.98]",children:[a.jsx("span",{className:"uppercase tracking-widest text-sm",children:"Next"}),a.jsx(yr,{className:"w-5 h-5 text-axon-neon"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative group overflow-hidden rounded-swiss shadow-xl",children:[a.jsx(Jh,{className:"w-full !bg-axon-obsidian !h-16 !rounded-swiss !flex !items-center !justify-center !text-white !font-extrabold !text-sm !tracking-[0.2em] hover:!bg-black transition-all"}),!e&&a.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none text-white gap-2",children:[a.jsx(Qe,{className:"w-5 h-5 text-axon-neon",fill:"currentColor"}),a.jsx("span",{className:"font-extrabold uppercase tracking-widest text-sm",children:"GET STARTED"})]})]}),a.jsx("p",{className:"text-[10px] text-center text-axon-steel font-mono uppercase tracking-widest",children:"Sign in with email or social â€¢ No gas fees"})]})})]},"slides"),s==="signature"&&a.jsxs($.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,y:-20},className:"flex-1 flex flex-col px-8 py-20 items-center justify-center text-center space-y-12 relative z-10",children:[a.jsx("div",{className:"w-20 h-20 bg-axon-obsidian rounded-[24px] flex items-center justify-center shadow-lg",children:a.jsx(je,{className:"w-10 h-10 text-axon-neon"})}),a.jsxs("div",{className:"space-y-4 max-w-xs",children:[a.jsx("h2",{className:"text-4xl font-extrabold tracking-tighter leading-tight text-axon-obsidian",children:"AUTHORIZE NEXUS"}),a.jsx("p",{className:"text-axon-steel font-medium text-lg",children:"Sign the secure message to synchronize your wallet assets."})]}),a.jsxs("div",{className:"w-full bg-white border border-gray-200 rounded-swiss p-6 text-left space-y-4 shadow-sm relative overflow-hidden group",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-[10px] font-bold font-mono text-gray-400 uppercase tracking-widest",children:"Coinbase Smart Wallet"}),a.jsx("div",{className:"w-2 h-2 bg-axon-neon rounded-full animate-pulse"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs font-bold text-axon-obsidian font-mono break-all leading-relaxed",children:"[AUTHENTICATION_REQUEST]"}),a.jsx("p",{className:"text-[10px] font-mono text-axon-steel leading-tight",children:"Initializing secure bridge between your wallet and AXON V2. No transaction fees will be incurred."})]})]}),a.jsx("button",{onClick:h,disabled:d,className:"w-full h-16 bg-axon-obsidian text-white rounded-swiss font-extrabold flex items-center justify-center gap-2 shadow-xl hover:bg-black transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:d?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(Qe,{className:"w-5 h-5 text-axon-neon",fill:"currentColor"}),a.jsx("span",{children:"SIGN TO CONNECT"})]})})]},"signature"),s==="sync"&&a.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 flex flex-col px-8 py-20 items-center justify-center space-y-8 relative z-10",children:[a.jsxs("div",{className:"relative",children:[a.jsx($.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},children:a.jsx(Fe,{className:"w-16 h-16 text-primary"})}),a.jsx($.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"w-2 h-2 bg-axon-neon rounded-full"})})]}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h2",{className:"text-2xl font-extrabold tracking-tighter",children:"Syncing Ledger"}),a.jsx("p",{className:"text-axon-steel font-mono text-[10px] font-bold uppercase tracking-[0.3em]",children:"Fetching Assets..."})]})]},"sync"),s==="complete"&&a.jsxs($.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex-1 flex flex-col px-8 py-20 items-center justify-center text-center space-y-12 relative z-10",children:[a.jsx($.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:10,stiffness:100},className:"w-24 h-24 bg-green-500 rounded-full flex items-center justify-center shadow-2xl shadow-green-100",children:a.jsx(Ko,{className:"w-12 h-12 text-white"})}),a.jsxs("div",{className:"space-y-4 max-w-xs",children:[a.jsx("h2",{className:"text-4xl font-extrabold tracking-tighter italic uppercase text-axon-obsidian",children:"System Online"}),a.jsx("p",{className:"text-axon-steel font-medium px-4",children:"Assets synchronized. Welcome to NEXUS."})]}),a.jsx("button",{onClick:()=>t(!0),className:"w-full h-20 bg-axon-obsidian text-white rounded-swiss font-extrabold text-sm uppercase tracking-[0.2em] shadow-2xl hover:bg-black active:scale-[0.98] transition-all",children:"ENTER DASHBOARD"})]},"complete")]})]})}async function Qh(t){var e,r,s;try{if(console.log("ðŸ” Initiating CDP Smart Wallet connection..."),console.log("ðŸ“± Connector ID:",t.id),console.log("ðŸ”— Connector Name:",t.name),t.id!=="coinbaseWalletSDK")throw new Error("CDP Smart Wallet connector required for Base Account authentication");const n=await t.connect();if((e=n==null?void 0:n.accounts)!=null&&e[0]){const o=n.accounts[0];return console.log(`âœ… CDP Smart Wallet connected: ${o}`),console.log("ðŸ”— Smart Wallet Address:",o),console.log("âš¡ Gasless transactions enabled"),{success:!0,address:o}}else throw new Error("No account returned from CDP Smart Wallet connection")}catch(n){return console.error("âŒ CDP Smart Wallet connection failed:",n),n.name==="UserRejectedRequestError"?{success:!1,error:"Passkey authentication was cancelled"}:n.name==="ConnectorNotFoundError"?{success:!1,error:"CDP Smart Wallet connector not found"}:(r=n.message)!=null&&r.includes("CDP")||(s=n.message)!=null&&s.includes("Smart Wallet")?{success:!1,error:`CDP Smart Wallet error: ${n.message}`}:{success:!1,error:n.message||"Failed to connect CDP Smart Wallet"}}}function Yh(){return typeof window<"u"&&window.navigator&&window.navigator.credentials&&window.PublicKeyCredential!==void 0}function Zh(){return window.crypto.randomUUID().replace(/-/g,"")}function sa(){const t=ot("VITE_CDP_PROJECT_ID"),e=ot("VITE_PUBLIC_ONCHAINKIT_API_KEY"),r=ot("VITE_PAYMASTER_URL"),n=t.isValid&&e.isValid&&r.isValid,o={name:"Base Mainnet",chainId:8453},i={isValid:n,projectId:{configured:t.isValid,value:t.value,error:t.isValid?void 0:"CDP Project ID is required for CDP Smart Wallet"},apiKey:{configured:e.isValid,value:e.value,error:e.isValid?void 0:"OnchainKit API Key is required for CDP Smart Wallet"},paymaster:{configured:r.isValid,value:r.value,error:r.isValid?void 0:"Paymaster URL is optional but recommended for gasless transactions"},network:o};return console.group("ðŸ” CDP Environment Validation"),console.log("âœ… Valid:",i.isValid),console.log("ðŸ“± Project ID:",i.projectId.configured?"âœ“ Configured":"âœ— Missing"),console.log("ðŸ”‘ API Key:",i.apiKey.configured?"âœ“ Configured":"âœ— Missing"),console.log("âš¡ Paymaster:",i.paymaster.configured?"âœ“ Configured":"âš  Optional"),console.log("ðŸŒ Network:",`${o.name} (${o.chainId})`),console.groupEnd(),i}function e9({onSuccess:t,onError:e}){const{connectors:r,isPending:s}=Ls(),{isConnected:n}=Ee(),[o,i]=D.useState(null),[l,x]=D.useState({cdpProjectId:!1,onchainKitApiKey:!1,paymasterUrl:!1});D.useEffect(()=>{i(Yh());const c=sa();x({cdpProjectId:c.projectId.configured,onchainKitApiKey:c.apiKey.configured,paymasterUrl:c.paymaster.configured}),console.log("ðŸš€ CDP Smart Wallet Configuration:"),console.log("ðŸ“± Project ID:",c.projectId.configured?"âœ“":"âœ—"),console.log("ðŸ”‘ API Key:",c.apiKey.configured?"âœ“":"âœ—"),console.log("âš¡ Paymaster:",c.paymaster.configured?"âœ“":"âš "),console.log("ðŸŒ Network:",`${c.network.name} (${c.network.chainId})`)},[]);const d=async()=>{var u,p;const c=r.find(f=>f.id==="coinbaseWalletSDK");if(!c){const f="CDP Smart Wallet configuration not found";ae.error(f),e==null||e(f);return}const h=sa();if(!h.projectId.configured||!h.apiKey.configured){const f=[];h.projectId.configured||f.push("CDP Project ID"),h.apiKey.configured||f.push("OnchainKit API Key");const E=`Missing CDP configuration: ${f.join(", ")}`;ae.error(E),e==null||e(E);return}try{console.log("ðŸš€ Connecting to CDP Smart Wallet..."),console.log("ðŸ“± Connector:",c.name);const f=Zh();console.log(`ðŸ”‘ Generated auth nonce: ${f}`);const E=await Qh(c);if(E.success){const m=`âœ… CDP Smart Wallet connected: ${(u=E.address)==null?void 0:u.slice(0,6)}...${(p=E.address)==null?void 0:p.slice(-4)}`;ae.success(m),t==null||t(E.address)}else ae.error(E.error||"Failed to connect to CDP Smart Wallet"),e==null||e(E.error||"Failed to connect to CDP Smart Wallet")}catch(f){console.error("CDP Smart Wallet connection failed:",f);const E=f.message||"Connection failed. Please try again.";ae.error(E),e==null||e(E)}};return n?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(je,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),a.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Successfully connected to Base Account"})]}):a.jsxs("div",{className:"space-y-6",children:[o===!1&&a.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-amber-50 border border-amber-200 p-4 rounded-xl flex items-start gap-3",children:[a.jsx(js,{className:"w-5 h-5 text-amber-600 shrink-0 mt-0.5"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-bold text-amber-900 uppercase tracking-wider",children:"Passkey Not Available"}),a.jsx("p",{className:"text-xs text-amber-700 leading-relaxed",children:"Your device doesn't support passkey authentication. Try using a modern browser with biometric support."})]})]}),a.jsx($.div,{whileHover:{scale:o===!1?1:1.02},whileTap:{scale:o===!1?1:.98},children:a.jsx(Oe,{onClick:d,fullWidth:!0,disabled:s||o===!1,className:"!h-16 !bg-axon-obsidian !text-white !font-black !text-sm group relative overflow-hidden",children:s?a.jsxs(a.Fragment,{children:[a.jsx(Fe,{className:"w-5 h-5 animate-spin mr-2"}),a.jsx("span",{className:"uppercase tracking-[0.2em]",children:"Connecting..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(da,{className:"w-5 h-5 mr-2"}),a.jsx("span",{className:"uppercase tracking-[0.2em]",children:"Sign in with Base"}),a.jsx(Ss,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})})}),a.jsxs($.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx(Jo,{className:"w-3 h-3 text-gray-500"}),a.jsx("span",{className:"font-mono text-gray-600",children:"CDP Configuration Status:"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[a.jsxs("div",{className:`px-2 py-1 rounded text-center font-mono ${l.cdpProjectId?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:["CDP ID ",l.cdpProjectId?"âœ“":"âœ—"]}),a.jsxs("div",{className:`px-2 py-1 rounded text-center font-mono ${l.onchainKitApiKey?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:["API Key ",l.onchainKitApiKey?"âœ“":"âœ—"]}),a.jsxs("div",{className:`px-2 py-1 rounded text-center font-mono ${l.paymasterUrl?"bg-green-50 text-green-700":"bg-yellow-50 text-yellow-700"}`,children:["Paymaster ",l.paymasterUrl?"âœ“":"âš "]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs($.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-purple-50/50 p-4 rounded-xl flex items-start gap-3 border border-purple-100",children:[a.jsx(je,{className:"w-4 h-4 text-purple-600 shrink-0 mt-0.5"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-bold text-purple-900 uppercase tracking-wider",children:"CDP Smart Wallet"}),a.jsx("p",{className:"text-xs text-purple-700 leading-relaxed",children:"Coinbase Developer Platform smart wallet with passkey authentication and gasless transactions."})]})]}),a.jsxs($.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-blue-50/50 p-4 rounded-xl flex items-start gap-3 border border-blue-100",children:[a.jsx(Ns,{className:"w-4 h-4 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-bold text-blue-900 uppercase tracking-wider",children:"Base Network"}),a.jsx("p",{className:"text-xs text-blue-700 leading-relaxed",children:"Secure Layer 2 blockchain with instant transactions and sponsored gas fees for CDP wallets."})]})]})]})]})}function t9(){const t=Ze(),{isConnected:e}=Ee();D.useEffect(()=>{e&&t("/")},[e,t]);const r=()=>{t("/")},s=n=>{console.error("Base Account sign-in error:",n)};return a.jsxs("div",{className:"min-h-screen bg-[#F5F5F7] flex flex-col font-sans text-axon-obsidian p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-12 pt-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-axon-obsidian rounded-swiss flex items-center justify-center",children:a.jsx(je,{className:"w-4 h-4 text-axon-neon"})}),a.jsx("span",{className:"font-extrabold tracking-tight text-lg uppercase",children:"AXON SECURE"})]}),a.jsx("button",{onClick:()=>t(-1),className:"text-xs font-bold text-axon-steel uppercase tracking-widest",children:"Back"})]}),a.jsx("main",{className:"flex-1 flex flex-col justify-center max-w-md mx-auto w-full",children:a.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-4xl font-black tracking-tight leading-none uppercase",children:"Sign in with Base"}),a.jsx("p",{className:"text-axon-steel font-medium",children:"Your Base Account holds your smart wallet. Access it with a passkey."})]}),a.jsx(e9,{onSuccess:r,onError:s}),a.jsxs("div",{className:"space-y-4",children:[passkeySupported===!1&&a.jsxs("div",{className:"bg-amber-50 border border-amber-200 p-3 rounded-xl flex items-start gap-3",children:[a.jsx(AlertCircle,{className:"w-4 h-4 text-amber-600 shrink-0 mt-0.5"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-bold text-amber-900 uppercase tracking-wider",children:"Passkey Not Available"}),a.jsx("p",{className:"text-[10px] text-amber-700 leading-relaxed",children:"Your device doesn't support passkey authentication. Try using a modern browser or enable biometric authentication."})]})]}),a.jsx(Button,{onClick:handleSignIn,fullWidth:!0,disabled:isPending||passkeySupported===!1,className:"!h-16 !bg-axon-obsidian !text-white !font-black !text-sm group",children:isPending?a.jsx(Loader2,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(Key,{className:"w-5 h-5 mr-2"}),a.jsx("span",{className:"uppercase tracking-[0.2em]",children:"Sign in with Base"}),a.jsx(ArrowRight,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{className:"bg-purple-50/50 p-3 rounded-xl flex items-start gap-3 border border-purple-100",children:[a.jsx(je,{className:"w-4 h-4 text-purple-600 shrink-0 mt-0.5"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-bold text-purple-900 uppercase tracking-wider",children:"Passkey Authentication"}),a.jsx("p",{className:"text-[10px] text-purple-700 leading-relaxed",children:"Use your device's biometric (Face ID, Touch ID, or Windows Hello) for secure access."})]})]}),a.jsxs("div",{className:"bg-blue-50/50 p-3 rounded-xl flex items-start gap-3 border border-blue-100",children:[a.jsx(Info,{className:"w-4 h-4 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-bold text-blue-900 uppercase tracking-wider",children:"Base Smart Wallet"}),a.jsx("p",{className:"text-[10px] text-blue-700 leading-relaxed",children:"Your Base Account holds a smart wallet on Base blockchain with no gas fees for users."})]})]})]})]})]})}),a.jsx("footer",{className:"py-8 text-center",children:a.jsx("p",{className:"text-[9px] text-axon-steel font-mono uppercase tracking-[0.3em]",children:"Passkey Secured â€¢ Base Account â€¢ Smart Wallet Technology"})})]})}class _o extends D.Component{constructor(){super(...arguments);Xs(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){console.error("Uncaught error:",r,s)}render(){var r;return this.state.hasError?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-6",children:a.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-xl max-w-lg w-full border border-red-100",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),a.jsx("div",{className:"bg-gray-100 p-4 rounded-lg overflow-auto mb-6",children:a.jsx("code",{className:"text-xs text-gray-800 break-all",children:(r=this.state.error)==null?void 0:r.message})}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-red-700 transition",children:"Reload Page"})]})}):this.props.children}}const r9=D0({chains:[Ie,It],connectors:[ma({appName:"AXON SECURE",appLogoUrl:"https://axon.finance/logo.png",preference:"smartWalletOnly",version:"4",projectId:"9160a25d-7f00-4b50-ab04-cfc1fe991706",paymasterUrls:{[Ie.id]:"https://api.developer.coinbase.com/rpc/v1/base/NQTfYj9jR92AAZ4REeBBieHzESBA7lEn",[It.id]:"https://api.developer.coinbase.com/rpc/v1/base-sepolia/NQTfYj9jR92AAZ4REeBBieHzESBA7lEn"},enableMobileWalletLink:!0,connection:{requireAuth:!1},security:{enforceOrigin:!0}})],transports:{[Ie.id]:is("https://api.developer.coinbase.com/rpc/v1/base/NQTfYj9jR92AAZ4REeBBieHzESBA7lEn"),[It.id]:is("https://api.developer.coinbase.com/rpc/v1/base-sepolia/NQTfYj9jR92AAZ4REeBBieHzESBA7lEn")}});Ie.id;const s9=new F0;function n9(){const{isConnected:t}=Ee(),{onboardingComplete:e}=xr();return a.jsx(t0,{children:a.jsxs(r0,{children:[a.jsx(Le,{path:"/snap/:id",element:a.jsx(_o,{children:a.jsx(sh,{})})}),a.jsx(Le,{path:"/login",element:a.jsx(t9,{})}),t?e?a.jsxs(a.Fragment,{children:[a.jsx(Le,{path:"/auth/callback",element:a.jsx(Yu,{})}),a.jsxs(Le,{element:a.jsx(I0,{}),children:[a.jsx(Le,{path:"/",element:a.jsx(Tl,{})}),a.jsx(Le,{path:"/history",element:a.jsx(Pl,{})}),a.jsx(Le,{path:"/scan",element:a.jsx(ql,{})}),a.jsx(Le,{path:"/create-snap",element:a.jsx(eh,{})}),a.jsx(Le,{path:"/account",element:a.jsx(Xu,{})}),a.jsx(Le,{path:"*",element:a.jsx(s0,{to:"/",replace:!0})})]})]}):a.jsx(Le,{path:"*",element:a.jsx(Xh,{})}):a.jsx(Le,{path:"*",element:a.jsx(Qu,{})})]})})}function a9(){return a.jsx(k0,{config:r9,children:a.jsx(_0,{client:s9,children:a.jsx(N0,{apiKey:"NQTfYj9jR92AAZ4REeBBieHzESBA7lEn",projectId:"9160a25d-7f00-4b50-ab04-cfc1fe991706",chain:Ie,config:{paymaster:"https://api.developer.coinbase.com/rpc/v1/base/NQTfYj9jR92AAZ4REeBBieHzESBA7lEn",appearance:{name:"AXON SECURE",mode:"light",theme:"light"},wallet:{display:"modal",termsUrl:"https://axon.finance/terms",privacyUrl:"https://axon.finance/privacy"},app:{name:"AXON SECURE",icon:"https://axon.finance/logo.png",description:"Cross-border payments on Base network"}},children:a.jsx(n9,{})})})})}function o9(){const t=console.error;console.error=(...e)=>{const r=e.join(" ");["content.bundle.js","content-script.js","Smart Unit Converter","Cannot read properties of null","reading '1'","1275"].some(o=>r.includes(o))||t.apply(console,e)}}fa({apiKey:"NQTfYj9jR92AAZ4REeBBieHzESBA7lEn"});o9();ga(document.getElementById("root")).render(a.jsx(_o,{children:a.jsx(T0,{children:a.jsx(a9,{})})}));export{Cu as g,vr as o};
